import{c as y,b as f,e as bo,F as re,f as Pe,n as je,g as It,j as dn,k as $l,l as kl,r as pt,m as V,p as i,q as ue,v as Ve,u as k,x as ye,y as Tt,z as di,A as Zn,B as te,C as De,D as wt,E as Be,T as Kn,o as Ci,G as ui,d as Ts,h as Go,H as xl,I as po,J as cn,N as Lt,K as Mn,L as lt,M as Yn,O as pn,P as hn,Q as Mo,R as Li,S as An,U as ci,V as qn,W as Hl,X as Jn,Y as Al,Z as ls,_ as Es,$ as $i,a0 as Vl,a1 as Ml,a2 as Sl,a3 as Tl,a4 as El,a5 as Bs,a6 as Bl,a7 as Il,a8 as Xe,a9 as ki,aa as xi,ab as Dl,a as _l,w as Fn,ac as ct,ad as oo,ae as Pl}from"./vendor-CapCs_Uu.js";import{X as gt,t as fn,s as Ol,v as Nl}from"./utils-DO5yBvG6.js";import{C as Rl,p as Fl,a as jl,b as Ul,B as zl,c as Wl,L as Gl,d as ql}from"./charts-D_Dr8Luv.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function ds(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function Cn(t,e,n,o=1){const[r,s]=typeof o=="number"?[o,o]:o,a=Math.round(e/r/t[0])*t[0],u=Math.round(n/s/t[1])*t[1];return[a,u]}function qo(t,e,n){return t-e-n}function Zo(t,e,n){return t-e-n}function St(t,e,n){return e!==null&&t<e?e:n!==null&&n<t?n:t}function us(t,e,n){let o=t;const r=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find(s=>ds(o[s]));if(!ds(o[r]))return!1;do{if(o[r](e))return!0;if(o===n)return!1;o=o.parentNode}while(o);return!1}function Zl(t){const e=window.getComputedStyle(t);return[parseFloat(e.getPropertyValue("width"),10),parseFloat(e.getPropertyValue("height"),10)]}function sn(t,e,n){t&&(t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener?t.addEventListener(e,n,!0):t["on"+e]=n)}function Wt(t,e,n){t&&(t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener?t.removeEventListener(e,n,!0):t["on"+e]=null)}const Kl=(t,e)=>{const n=t.__vccOpts||t;for(const[o,r]of e)n[o]=r;return n},ho={mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"},touch:{start:"touchstart",move:"touchmove",stop:"touchend"}},Yl={userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",MsUserSelect:"none"},Jl={userSelect:"auto",MozUserSelect:"auto",WebkitUserSelect:"auto",MsUserSelect:"auto"};let Gt=ho.mouse;const Ql={replace:!0,name:"vue-draggable-resizable",props:{className:{type:String,default:"vdr"},classNameDraggable:{type:String,default:"draggable"},classNameResizable:{type:String,default:"resizable"},classNameDragging:{type:String,default:"dragging"},classNameResizing:{type:String,default:"resizing"},classNameActive:{type:String,default:"active"},classNameHandle:{type:String,default:"handle"},disableUserSelect:{type:Boolean,default:!0},enableNativeDrag:{type:Boolean,default:!1},preventDeactivation:{type:Boolean,default:!1},active:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},lockAspectRatio:{type:Boolean,default:!1},w:{type:[Number,String],default:200,validator:t=>typeof t=="number"?t>0:t==="auto"},h:{type:[Number,String],default:200,validator:t=>typeof t=="number"?t>0:t==="auto"},minWidth:{type:Number,default:0,validator:t=>t>=0},minHeight:{type:Number,default:0,validator:t=>t>=0},maxWidth:{type:Number,default:null,validator:t=>t>=0},maxHeight:{type:Number,default:null,validator:t=>t>=0},x:{type:Number,default:0},y:{type:Number,default:0},z:{type:[String,Number],default:"auto",validator:t=>typeof t=="string"?t==="auto":t>=0},handles:{type:Array,default:()=>["tl","tm","tr","mr","br","bm","bl","ml"],validator:t=>{const e=new Set(["tl","tm","tr","mr","br","bm","bl","ml"]);return new Set(t.filter(n=>e.has(n))).size===t.length}},dragHandle:{type:String,default:null},dragCancel:{type:String,default:null},axis:{type:String,default:"both",validator:t=>["x","y","both"].includes(t)},grid:{type:Array,default:()=>[1,1]},parent:{type:Boolean,default:!1},scale:{type:[Number,Array],default:1,validator:t=>typeof t=="number"?t>0:t.length===2&&t[0]>0&&t[1]>0},onDragStart:{type:Function,default:()=>!0},onDrag:{type:Function,default:()=>!0},onResizeStart:{type:Function,default:()=>!0},onResize:{type:Function,default:()=>!0}},data:function(){return{left:this.x,top:this.y,right:null,bottom:null,width:null,height:null,widthTouched:!1,heightTouched:!1,aspectFactor:null,parentWidth:null,parentHeight:null,handle:null,enabled:this.active,resizing:!1,dragging:!1,dragEnable:!1,resizeEnable:!1,zIndex:this.z}},created:function(){this.maxWidth&&this.minWidth>this.maxWidth&&console.warn("[Vdr warn]: Invalid prop: minWidth cannot be greater than maxWidth"),this.maxHeight&&this.minHeight>this.maxHeight&&console.warn("[Vdr warn]: Invalid prop: minHeight cannot be greater than maxHeight"),this.resetBoundsAndMouseState()},mounted:function(){this.enableNativeDrag||(this.$el.ondragstart=()=>!1);const[t,e]=this.getParentSize();this.parentWidth=t,this.parentHeight=e;const[n,o]=Zl(this.$el);this.aspectFactor=(this.w!=="auto"?this.w:n)/(this.h!=="auto"?this.h:o),this.width=this.w!=="auto"?this.w:n,this.height=this.h!=="auto"?this.h:o,this.right=this.parentWidth-this.width-this.left,this.bottom=this.parentHeight-this.height-this.top,this.active&&this.$emit("activated"),sn(document.documentElement,"mousedown",this.deselect),sn(document.documentElement,"touchend touchcancel",this.deselect),sn(window,"resize",this.checkParentSize)},beforeUnmount:function(){Wt(document.documentElement,"mousedown",this.deselect),Wt(document.documentElement,"touchstart",this.handleUp),Wt(document.documentElement,"mousemove",this.move),Wt(document.documentElement,"touchmove",this.move),Wt(document.documentElement,"mouseup",this.handleUp),Wt(document.documentElement,"touchend touchcancel",this.deselect),Wt(window,"resize",this.checkParentSize)},methods:{resetBoundsAndMouseState(){this.mouseClickPosition={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.bounds={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null}},checkParentSize(){if(this.parent){const[t,e]=this.getParentSize();this.parentWidth=t,this.parentHeight=e,this.right=this.parentWidth-this.width-this.left,this.bottom=this.parentHeight-this.height-this.top}},getParentSize(){if(this.parent){const t=window.getComputedStyle(this.$el.parentNode,null);return[parseInt(t.getPropertyValue("width"),10),parseInt(t.getPropertyValue("height"),10)]}return[null,null]},elementTouchDown(t){Gt=ho.touch,this.elementDown(t)},elementMouseDown(t){Gt=ho.mouse,this.elementDown(t)},elementDown(t){if(t instanceof MouseEvent&&t.button!==0)return;const e=t.target||t.srcElement;if(this.$el.contains(e)){if(this.onDragStart(t)===!1)return;if(this.dragHandle&&!us(e,this.dragHandle,this.$el)||this.dragCancel&&us(e,this.dragCancel,this.$el)){this.dragging=!1;return}this.enabled||(this.enabled=!0,this.$emit("activated"),this.$emit("update:active",!0)),this.draggable&&(this.dragEnable=!0),this.mouseClickPosition.mouseX=t.touches?t.touches[0].pageX:t.pageX,this.mouseClickPosition.mouseY=t.touches?t.touches[0].pageY:t.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.parent&&(this.bounds=this.calcDragLimits()),sn(document.documentElement,Gt.move,this.move),sn(document.documentElement,Gt.stop,this.handleUp)}},calcDragLimits(){return{minLeft:this.left%this.grid[0],maxLeft:Math.floor((this.parentWidth-this.width-this.left)/this.grid[0])*this.grid[0]+this.left,minRight:this.right%this.grid[0],maxRight:Math.floor((this.parentWidth-this.width-this.right)/this.grid[0])*this.grid[0]+this.right,minTop:this.top%this.grid[1],maxTop:Math.floor((this.parentHeight-this.height-this.top)/this.grid[1])*this.grid[1]+this.top,minBottom:this.bottom%this.grid[1],maxBottom:Math.floor((this.parentHeight-this.height-this.bottom)/this.grid[1])*this.grid[1]+this.bottom}},deselect(t){const e=t.target||t.srcElement,n=new RegExp(this.className+"-([trmbl]{2})","");!this.$el.contains(e)&&!n.test(e.className)&&(this.enabled&&!this.preventDeactivation&&(this.enabled=!1,this.$emit("deactivated"),this.$emit("update:active",!1)),Wt(document.documentElement,Gt.move,this.handleResize)),this.resetBoundsAndMouseState()},handleTouchDown(t,e){Gt=ho.touch,this.handleDown(t,e)},handleDown(t,e){e instanceof MouseEvent&&e.which!==1||this.onResizeStart(t,e)!==!1&&(e.stopPropagation&&e.stopPropagation(),this.lockAspectRatio&&!t.includes("m")?this.handle="m"+t.substring(1):this.handle=t,this.resizeEnable=!0,this.mouseClickPosition.mouseX=e.touches?e.touches[0].pageX:e.pageX,this.mouseClickPosition.mouseY=e.touches?e.touches[0].pageY:e.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.bounds=this.calcResizeLimits(),sn(document.documentElement,Gt.move,this.handleResize),sn(document.documentElement,Gt.stop,this.handleUp))},calcResizeLimits(){let t=this.minW,e=this.minH,n=this.maxW,o=this.maxH;const r=this.aspectFactor,[s,a]=this.grid,u=this.width,c=this.height,p=this.left,C=this.top,v=this.right,H=this.bottom;this.lockAspectRatio&&(t/e>r?e=t/r:t=r*e,n&&o?(n=Math.min(n,r*o),o=Math.min(o,n/r)):n?o=n/r:o&&(n=r*o)),n=n-n%s,o=o-o%a;const x={minLeft:null,maxLeft:null,minTop:null,maxTop:null,minRight:null,maxRight:null,minBottom:null,maxBottom:null};return this.parent?(x.minLeft=p%s,x.maxLeft=p+Math.floor((u-t)/s)*s,x.minTop=C%a,x.maxTop=C+Math.floor((c-e)/a)*a,x.minRight=v%s,x.maxRight=v+Math.floor((u-t)/s)*s,x.minBottom=H%a,x.maxBottom=H+Math.floor((c-e)/a)*a,n&&(x.minLeft=Math.max(x.minLeft,this.parentWidth-v-n),x.minRight=Math.max(x.minRight,this.parentWidth-p-n)),o&&(x.minTop=Math.max(x.minTop,this.parentHeight-H-o),x.minBottom=Math.max(x.minBottom,this.parentHeight-C-o)),this.lockAspectRatio&&(x.minLeft=Math.max(x.minLeft,p-C*r),x.minTop=Math.max(x.minTop,C-p/r),x.minRight=Math.max(x.minRight,v-H*r),x.minBottom=Math.max(x.minBottom,H-v/r))):(x.minLeft=null,x.maxLeft=p+Math.floor((u-t)/s)*s,x.minTop=null,x.maxTop=C+Math.floor((c-e)/a)*a,x.minRight=null,x.maxRight=v+Math.floor((u-t)/s)*s,x.minBottom=null,x.maxBottom=H+Math.floor((c-e)/a)*a,n&&(x.minLeft=-(v+n),x.minRight=-(p+n)),o&&(x.minTop=-(H+o),x.minBottom=-(C+o)),this.lockAspectRatio&&n&&o&&(x.minLeft=Math.min(x.minLeft,-(v+n)),x.minTop=Math.min(x.minTop,-(o+H)),x.minRight=Math.min(x.minRight,-p-n),x.minBottom=Math.min(x.minBottom,-C-o))),x},move(t){this.resizing?this.handleResize(t):this.dragEnable&&this.handleDrag(t)},handleDrag(t){const e=this.axis,n=this.grid,o=this.bounds,r=this.mouseClickPosition,s=e&&e!=="y"?r.mouseX-(t.touches?t.touches[0].pageX:t.pageX):0,a=e&&e!=="x"?r.mouseY-(t.touches?t.touches[0].pageY:t.pageY):0,[u,c]=Cn(n,s,a,this.scale),p=St(r.left-u,o.minLeft,o.maxLeft),C=St(r.top-c,o.minTop,o.maxTop);if(this.onDrag(p,C)===!1)return;const v=St(r.right+u,o.minRight,o.maxRight),H=St(r.bottom+c,o.minBottom,o.maxBottom);this.left=p,this.top=C,this.right=v,this.bottom=H,this.$emit("dragging",this.left,this.top),this.dragging=!0},moveHorizontally(t){const[e]=Cn(this.grid,t,this.top,1),n=St(e,this.bounds.minLeft,this.bounds.maxLeft);this.left=n,this.right=this.parentWidth-this.width-n},moveVertically(t){const[e,n]=Cn(this.grid,this.left,t,1),o=St(n,this.bounds.minTop,this.bounds.maxTop);this.top=o,this.bottom=this.parentHeight-this.height-o},handleResize(t){let e=this.left,n=this.top,o=this.right,r=this.bottom;const s=this.mouseClickPosition,a=this.aspectFactor,u=s.mouseX-(t.touches?t.touches[0].pageX:t.pageX),c=s.mouseY-(t.touches?t.touches[0].pageY:t.pageY);!this.widthTouched&&u&&(this.widthTouched=!0),!this.heightTouched&&c&&(this.heightTouched=!0);const[p,C]=Cn(this.grid,u,c,this.scale);this.handle.includes("b")?(r=St(s.bottom+C,this.bounds.minBottom,this.bounds.maxBottom),this.lockAspectRatio&&this.resizingOnY&&(o=this.right-(this.bottom-r)*a)):this.handle.includes("t")&&(n=St(s.top-C,this.bounds.minTop,this.bounds.maxTop),this.lockAspectRatio&&this.resizingOnY&&(e=this.left-(this.top-n)*a)),this.handle.includes("r")?(o=St(s.right+p,this.bounds.minRight,this.bounds.maxRight),this.lockAspectRatio&&this.resizingOnX&&(r=this.bottom-(this.right-o)/a)):this.handle.includes("l")&&(e=St(s.left-p,this.bounds.minLeft,this.bounds.maxLeft),this.lockAspectRatio&&this.resizingOnX&&(n=this.top-(this.left-e)/a));const v=qo(this.parentWidth,e,o),H=Zo(this.parentHeight,n,r);this.onResize(this.handle,e,n,v,H)!==!1&&(this.left=e,this.top=n,this.right=o,this.bottom=r,this.width=v,this.height=H,this.$emit("resizing",this.left,this.top,this.width,this.height),this.resizing=!0)},changeWidth(t){const[e]=Cn(this.grid,t,0,1),n=St(this.parentWidth-e-this.left,this.bounds.minRight,this.bounds.maxRight);let o=this.bottom;this.lockAspectRatio&&(o=this.bottom-(this.right-n)/this.aspectFactor);const r=qo(this.parentWidth,this.left,n),s=Zo(this.parentHeight,this.top,o);this.right=n,this.bottom=o,this.width=r,this.height=s},changeHeight(t){const[e,n]=Cn(this.grid,0,t,1),o=St(this.parentHeight-n-this.top,this.bounds.minBottom,this.bounds.maxBottom);let r=this.right;this.lockAspectRatio&&(r=this.right-(this.bottom-o)*this.aspectFactor);const s=qo(this.parentWidth,this.left,r),a=Zo(this.parentHeight,this.top,o);this.right=r,this.bottom=o,this.width=s,this.height=a},handleUp(t){this.handle=null,this.resetBoundsAndMouseState(),this.dragEnable=!1,this.resizeEnable=!1,this.resizing&&(this.resizing=!1,this.$emit("resizeStop",this.left,this.top,this.width,this.height)),this.dragging&&(this.dragging=!1,this.$emit("dragStop",this.left,this.top)),Wt(document.documentElement,Gt.move,this.handleResize)}},computed:{style(){return{transform:`translate(${this.left}px, ${this.top}px)`,width:this.computedWidth,height:this.computedHeight,zIndex:this.zIndex,...this.dragging&&this.disableUserSelect?Yl:Jl}},actualHandles(){return this.resizable?this.handles:[]},computedWidth(){return this.w==="auto"&&!this.widthTouched?"auto":this.width+"px"},computedHeight(){return this.h==="auto"&&!this.heightTouched?"auto":this.height+"px"},minW(){return this.minWidth},minH(){return this.minHeight},maxW(){return this.maxWidth},maxH(){return this.maxHeight},resizingOnX(){return!!this.handle&&(this.handle.includes("l")||this.handle.includes("r"))},resizingOnY(){return!!this.handle&&(this.handle.includes("t")||this.handle.includes("b"))},isCornerHandle(){return!!this.handle&&["tl","tr","br","bl"].includes(this.handle)}},watch:{active(t){this.enabled=t,t?this.$emit("activated"):this.$emit("deactivated")},z(t){(t>=0||t==="auto")&&(this.zIndex=t)},x(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcDragLimits()),this.moveHorizontally(t))},y(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcDragLimits()),this.moveVertically(t))},lockAspectRatio(t){t?this.aspectFactor=this.width/this.height:this.aspectFactor=void 0},w(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcResizeLimits()),this.changeWidth(t))},h(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcResizeLimits()),this.changeHeight(t))}}},Xl=["onMousedown","onTouchstart"];function ed(t,e,n,o,r,s){return f(),y("div",{style:It(s.style),class:je([{[n.classNameActive]:t.enabled,[n.classNameDragging]:t.dragging,[n.classNameResizing]:t.resizing,[n.classNameDraggable]:n.draggable,[n.classNameResizable]:n.resizable},n.className]),onMousedown:e[0]||(e[0]=(...a)=>s.elementMouseDown&&s.elementMouseDown(...a)),onTouchstart:e[1]||(e[1]=(...a)=>s.elementTouchDown&&s.elementTouchDown(...a))},[(f(!0),y(re,null,Pe(s.actualHandles,a=>(f(),y("div",{key:a,class:je([n.classNameHandle,n.classNameHandle+"-"+a]),style:It({display:t.enabled?"block":"none"}),onMousedown:dn(u=>s.handleDown(a,u),["stop","prevent"]),onTouchstart:dn(u=>s.handleTouchDown(a,u),["stop","prevent"])},[bo(t.$slots,a)],46,Xl))),128)),bo(t.$slots,"default")],38)}const Is=Kl(Ql,[["render",ed]]);function pi(t){pi.installed||(pi.installed=!0,t.component("VueDraggableResizable",Is))}const td={install:pi};let Co=null;typeof window<"u"?Co=window.Vue:typeof global<"u"&&(Co=global.Vue);Co&&Co.use(td);const nd="wavemakerv4",od="4.1.10",id="module",sd={dev:"vite dev --open",prebuild:"node bump-version.js patch",build:"vite build","build:minor":"node bump-version.js minor && vite build","build:major":"node bump-version.js major && vite build",preview:"vite preview"},rd={"@tiptap/extension-bubble-menu":"^2.0.0-beta.202","@tiptap/extension-dropcursor":"^2.0.0-beta.25","@tiptap/extension-highlight":"^2.0.0-beta.202","@tiptap/extension-image":"^2.0.0-beta.27","@tiptap/extension-task-item":"^2.0.0-beta.32","@tiptap/extension-task-list":"^2.0.0-beta.26","@tiptap/extension-typography":"^2.0.0-beta.20","@tiptap/starter-kit":"^2.0.0-beta.185","@tiptap/vue-3":"^2.0.0-beta.91","@vueuse/core":"^9.3.1","@vueuse/rxjs":"^9.3.1","@yeger/vue-masonry-wall":"^3.2.22","core-js":"^3.8.3",dexie:"^3.2.2","dexie-export-import":"^1.0.3","dexie-observable":"^3.0.0-beta.11","register-service-worker":"^1.7.2",rxjs:"^7.5.7",showdown:"^2.1.0",uuid:"^9.0.0",vue:"^3.4.15","vue-chartjs":"^4.1.2","vue-draggable-next":"^2.3.0","vue-draggable-resizable":"^3.0.0","vue-sweetalert2":"^5.0.5"},ad={"@vitejs/plugin-vue":"^5.0.3",vite:"^5.1.0","vite-plugin-pwa":"^0.18.1"},ld={name:nd,private:!0,version:od,type:id,scripts:sd,dependencies:rd,devDependencies:ad},dd={data(){return{}},created(){"launchQueue"in window&&"files"in window.LaunchParams.prototype&&(console.log("PWA file launch support enabled"),window.launchQueue.setConsumer(async t=>{if(t.files.length)if(confirm("You are opening a file from your device, this will replace your current project.")){console.log("Launch params files:",t.files),this.$root.fileHandle=t.files[0];const e=await this.$root.fileHandle.getFile();console.log("File loaded:",e);const n=new FileReader;n.onload=async o=>{console.log("File read complete, importing...");const r=new Blob([o.target.result],{type:"text/json;charset=utf-8"});await this.$root.databaseImport(r),console.log("Launch file import complete"),this.$root.getSettings()},n.readAsText(e)}else window.close()}))},methods:{file_loadDB(){document.getElementById("wavemakerHiddenPicker").click()},file_load(t){var e=new FileReader;e.onload=async n=>{const o=new Blob([n.target.result],{type:"text/json;charset=utf-8"});await this.$root.databaseImport(o),console.log("import complete"),this.$root.getSettings()},e.readAsText(t.target.files.item(0))},async file_downloadDB(){this.$swal({title:this.$root.setlang.confirm.sure,text:this.$root.setlang.confirm.downloadfile,icon:"question",showCancelButton:!0,cancelButtonText:this.$root.setlang.confirm.filecancel,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirm.fileexport}).then(async t=>{if(t.isConfirmed){var e=new Date,n=String(e.getDate()).padStart(2,"0"),o=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear(),s=e.getHours()+"-"+e.getMinutes()+"-"+e.getSeconds();let a=this.$root.session.settings.ProjectName;a=a.replace(/[\W_]+/g,"-");let u=a+"["+r+"-"+o+"-"+n+"-"+s+"].wm4",c=await this.$root.databaseExport();const p=new Blob([c],{type:"text/json;charset=utf-8"}),C=URL.createObjectURL(p),v=document.createElement("a");v.href=C,v.target="_blank",v.download=u,v.click(),URL.revokeObjectURL(C),this.$swal(this.$root.setlang.confirm.exportedsuccess,this.$root.setlang.confirm.exportedmessage,"success")}})}},mounted(){let t=document.createElement("input");t.type="file",t.id="wavemakerHiddenPicker",t.accept=".wm4",t.style="display:none",document.body.appendChild(t)}};var cs={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function tn(t,e,n,o){function r(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function u(C){try{p(o.next(C))}catch(v){a(v)}}function c(C){try{p(o.throw(C))}catch(v){a(v)}}function p(C){C.done?s(C.value):r(C.value).then(u,c)}p((o=o.apply(t,[])).next())})}function Nt(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},o,r,s,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(p){return function(C){return c([p,C])}}function c(p){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,r&&(s=p[0]&2?r.return:p[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,p[1])).done)return s;switch(r=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,r=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(C){p=[6,C],r=0}finally{o=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function ud(t){var e=[t.schema.primKey].concat(t.schema.indexes);return e.map(function(n){return n.src}).join(",")}function cd(t){for(var e={},n=0,o=t.tables;n<o.length;n++){var r=o[n];e[r.name]=r.schema}return e}function Ds(t,e){return new Promise(function(n,o){var r=new FileReader;r.onabort=function(s){return o(new Error("file read aborted"))},r.onerror=function(s){return o(s.target.error)},r.onload=function(s){return n(s.target.result)},e==="binary"?r.readAsArrayBuffer(t):r.readAsText(t)})}function _s(t,e){if(typeof FileReaderSync>"u")throw new Error("FileReaderSync missing. Reading blobs synchronously requires code to run from within a web worker. Use TSON.encapsulateAsync() to do it from the main thread.");var n=new FileReaderSync,o=e==="binary"?n.readAsArrayBuffer(t):n.readAsText(t);return o}var hi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hi(t,e){return e={exports:{}},t(e,e.exports),e.exports}var So=Hi(function(t,e){(function(n,o){t.exports=o()})(hi,function(){var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},o=function(){return function(M,L){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return function(S,w){var fe=[],oe=!0,Ie=!1,ge=void 0;try{for(var D,U=S[Symbol.iterator]();!(oe=(D=U.next()).done)&&(fe.push(D.value),!w||fe.length!==w);oe=!0);}catch(ie){Ie=!0,ge=ie}finally{try{!oe&&U.return&&U.return()}finally{if(Ie)throw ge}}return fe}(M,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(M){if(Array.isArray(M)){for(var L=0,g=Array(M.length);L<M.length;L++)g[L]=M[L];return g}return Array.from(M)},s=Object.keys,a=Array.isArray,u={}.toString,c=Object.getPrototypeOf,p={}.hasOwnProperty,C=p.toString,v=["type","replaced","iterateIn","iterateUnsetNumeric"];function H(M,L){return E.isObject(M)&&typeof M.then=="function"&&(!L||typeof M.catch=="function")}function x(M){return u.call(M).slice(8,-1)}function T(M,L){if(!M||(M===void 0?"undefined":n(M))!=="object")return!1;var g=c(M);if(!g)return!1;var S=p.call(g,"constructor")&&g.constructor;return typeof S!="function"?L===null:typeof S=="function"&&L!==null&&C.call(S)===C.call(L)}function I(M){return!(!M||x(M)!=="Object")&&(!c(M)||T(M,Object))}function se(M){return M&&(M===void 0?"undefined":n(M))==="object"}function E(M){var L=[],g=[],S={},w=this.types={},fe=this.stringify=function(D,U,ie,Le){Le=Object.assign({},M,Le,{stringification:!0});var Se=Ie(D,null,Le);return a(Se)?JSON.stringify(Se[0],U,ie):Se.then(function(me){return JSON.stringify(me,U,ie)})};this.stringifySync=function(D,U,ie,Le){return fe(D,U,ie,Object.assign({},{throwOnBadSyncType:!0},Le,{sync:!0}))},this.stringifyAsync=function(D,U,ie,Le){return fe(D,U,ie,Object.assign({},{throwOnBadSyncType:!0},Le,{sync:!1}))};var oe=this.parse=function(D,U,ie){return ie=Object.assign({},M,ie,{parse:!0}),ge(JSON.parse(D,U),ie)};this.parseSync=function(D,U,ie){return oe(D,U,Object.assign({},{throwOnBadSyncType:!0},ie,{sync:!0}))},this.parseAsync=function(D,U,ie){return oe(D,U,Object.assign({},{throwOnBadSyncType:!0},ie,{sync:!1}))},this.specialTypeNames=function(D,U){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ie.returnTypeNames=!0,this.encapsulate(D,U,ie)},this.rootTypeName=function(D,U){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ie.iterateNone=!0,this.encapsulate(D,U,ie)};var Ie=this.encapsulate=function(D,U,ie){var Le=(ie=Object.assign({sync:!0},M,ie)).sync,Se={},me=[],R=[],N=[],G=!(ie&&"cyclic"in ie)||ie.cyclic,we=ie.encapsulateObserver,be=A("",D,G,U||{},N);function $(B){var O=Object.values(Se);if(ie.iterateNone)return O.length?O[0]:E.getJSONType(B);if(O.length){if(ie.returnTypeNames)return[].concat(r(new Set(O)));B&&I(B)&&!B.hasOwnProperty("$types")?B.$types=Se:B={$:B,$types:{$:Se}}}else se(B)&&B.hasOwnProperty("$types")&&(B={$:B,$types:!0});return!ie.returnTypeNames&&B}return N.length?Le&&ie.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(function B(O,Q){return Promise.all(Q.map(function(K){return K[1].p})).then(function(K){return Promise.all(K.map(function(Me){var X=[],Y=Q.splice(0,1)[0],P=o(Y,7),he=P[0],Te=P[2],j=P[3],Fe=P[4],Ue=P[5],dt=P[6],le=A(he,Me,Te,j,X,!0,dt),xe=T(le,_);return he&&xe?le.p.then(function(We){return Fe[Ue]=We,B(O,X)}):(he?Fe[Ue]=le:O=xe?le.p:le,B(O,X))}))}).then(function(){return O})}(be,N)).then($):!Le&&ie.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():ie.stringification&&Le?[$(be)]:Le?$(be):Promise.resolve($(be));function m(B,O,Q){Object.assign(B,O);var K=v.map(function(Me){var X=B[Me];return delete B[Me],X});Q(),v.forEach(function(Me,X){B[Me]=K[X]})}function A(B,O,Q,K,Me,X,Y){var P=void 0,he={},Te=O===void 0?"undefined":n(O),j=we?function(J){var de=Y||K.type||E.getJSONType(O);we(Object.assign(J||he,{keypath:B,value:O,cyclic:Q,stateObj:K,promisesData:Me,resolvingTypesonPromise:X,awaitingTypesonPromise:T(O,_)},de!==void 0?{type:de}:{}))}:null;if(Te in{string:1,boolean:1,number:1,undefined:1})return O===void 0||Te==="number"&&(isNaN(O)||O===-1/0||O===1/0)?(P=Z(B,O,K,Me,!1,X,j))!==O&&(he={replaced:P}):P=O,j&&j(),P;if(O===null)return j&&j(),O;if(Q&&!K.iterateIn&&!K.iterateUnsetNumeric){var Fe=me.indexOf(O);if(!(Fe<0))return Se[B]="#",j&&j({cyclicKeypath:R[Fe]}),"#"+R[Fe];Q===!0&&(me.push(O),R.push(B))}var Ue=I(O),dt=a(O),le=(Ue||dt)&&(!L.length||K.replaced)||K.iterateIn?O:Z(B,O,K,Me,Ue||dt,null,j),xe=void 0;if(le!==O?(P=le,he={replaced:le}):dt||K.iterateIn==="array"?(xe=new Array(O.length),he={clone:xe}):Ue||K.iterateIn==="object"?he={clone:xe={}}:(B===""&&T(O,_)&&Me.push([B,O,Q,K,void 0,void 0,K.type]),P=O),j&&j(),ie.iterateNone)return xe||P;if(!xe)return P;if(K.iterateIn){var We=function(de){var Ce={ownKeys:O.hasOwnProperty(de)};m(K,Ce,function(){var Ne=B+(B?".":"")+ne(de),ze=A(Ne,O[de],!!Q,K,Me,X);T(ze,_)?Me.push([Ne,ze,!!Q,K,xe,de,K.type]):ze!==void 0&&(xe[de]=ze)})};for(var nt in O)We(nt);j&&j({endIterateIn:!0,end:!0})}else s(O).forEach(function(J){var de=B+(B?".":"")+ne(J);m(K,{ownKeys:!0},function(){var Ce=A(de,O[J],!!Q,K,Me,X);T(Ce,_)?Me.push([de,Ce,!!Q,K,xe,J,K.type]):Ce!==void 0&&(xe[J]=Ce)})}),j&&j({endIterateOwn:!0,end:!0});if(K.iterateUnsetNumeric){for(var _e=O.length,Ze=function(de){if(!(de in O)){var Ce=B+(B?".":"")+de;m(K,{ownKeys:!1},function(){var Ne=A(Ce,void 0,!!Q,K,Me,X);T(Ne,_)?Me.push([Ce,Ne,!!Q,K,xe,de,K.type]):Ne!==void 0&&(xe[de]=Ne)})}},ve=0;ve<_e;ve++)Ze(ve);j&&j({endIterateUnsetNumeric:!0,end:!0})}return xe}function Z(B,O,Q,K,Me,X,Y){for(var P=Me?L:g,he=P.length;he--;){var Te=P[he];if(Te.test(O,Q)){var j=Te.type;if(S[j]){var Fe=Se[B];Se[B]=Fe?[j].concat(Fe):j}return Object.assign(Q,{type:j,replaced:!0}),!Le&&Te.replaceAsync||Te.replace?(Y&&Y({replacing:!0}),A(B,Te[Le||!Te.replaceAsync?"replace":"replaceAsync"](O,Q),G&&"readonly",Q,K,X,j)):(Y&&Y({typeDetected:!0}),A(B,O,G&&"readonly",Q,K,X,j))}}return O}};this.encapsulateSync=function(D,U,ie){return Ie(D,U,Object.assign({},{throwOnBadSyncType:!0},ie,{sync:!0}))},this.encapsulateAsync=function(D,U,ie){return Ie(D,U,Object.assign({},{throwOnBadSyncType:!0},ie,{sync:!1}))};var ge=this.revive=function(D,U){var ie=(U=Object.assign({sync:!0},M,U)).sync,Le=D&&D.$types,Se=!0;if(!Le)return D;if(Le===!0)return D.$;Le.$&&I(Le.$)&&(D=D.$,Le=Le.$,Se=!1);var me=[],R={},N=function G(we,be,$,m,A,Z){if(!(Se&&we==="$types")){var B=Le[we];if(a(be)||I(be)){var O=a(be)?new Array(be.length):{};for(s(be).forEach(function(j){var Fe=G(we+(we?".":"")+ne(j),be[j],$||O,m,O,j);T(Fe,ce)?O[j]=void 0:Fe!==void 0&&(O[j]=Fe)}),be=O;me.length;){var Q=o(me[0],4),K=Q[0],Me=Q[1],X=Q[2],Y=Q[3],P=q(K,Me);if(T(P,ce))X[Y]=void 0;else{if(P===void 0)break;X[Y]=P}me.splice(0,1)}}if(!B)return be;if(B==="#"){var he=q($,be.substr(1));return he===void 0&&me.push([$,be.substr(1),A,Z]),he}var Te=m.sync;return[].concat(B).reduce(function(j,Fe){var Ue=S[Fe];if(!Ue)throw new Error("Unregistered type: "+Fe);return Ue[Te&&Ue.revive?"revive":!Te&&Ue.reviveAsync?"reviveAsync":"revive"](j,R)},be)}}("",D,null,U);return H(N=T(N,ce)?void 0:N)?ie&&U.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():N:!ie&&U.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():ie?N:Promise.resolve(N)};this.reviveSync=function(D,U){return ge(D,Object.assign({},{throwOnBadSyncType:!0},U,{sync:!0}))},this.reviveAsync=function(D,U){return ge(D,Object.assign({},{throwOnBadSyncType:!0},U,{sync:!1}))},this.register=function(D,U){return U=U||{},[].concat(D).forEach(function ie(Le){if(a(Le))return Le.map(ie);Le&&s(Le).forEach(function(Se){if(Se==="#")throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(E.JSON_TYPES.includes(Se))throw new TypeError("Plain JSON object types are reserved as type names");var me=Le[Se],R=me.testPlainObjects?L:g,N=R.filter(function(m){return m.type===Se});if(N.length&&(R.splice(R.indexOf(N[0]),1),delete S[Se],delete w[Se]),me){if(typeof me=="function"){var G=me;me={test:function(A){return A&&A.constructor===G},replace:function(A){return ee({},A)},revive:function(A){return ee(Object.create(G.prototype),A)}}}else a(me)&&(me={test:me[0],replace:me[1],revive:me[2]});var we={type:Se,test:me.test.bind(me)};me.replace&&(we.replace=me.replace.bind(me)),me.replaceAsync&&(we.replaceAsync=me.replaceAsync.bind(me));var be=typeof U.fallback=="number"?U.fallback:U.fallback?0:1/0;if(me.testPlainObjects?L.splice(be,0,we):g.splice(be,0,we),me.revive||me.reviveAsync){var $={};me.revive&&($.revive=me.revive.bind(me)),me.reviveAsync&&($.reviveAsync=me.reviveAsync.bind(me)),S[Se]=$}w[Se]=me}})}),this}}function ee(M,L){return s(L).map(function(g){M[g]=L[g]}),M}function ne(M){return M.replace(/~/g,"~0").replace(/\./g,"~1")}function ae(M){return M.replace(/~1/g,".").replace(/~0/g,"~")}function q(M,L){if(L==="")return M;var g=L.indexOf(".");if(g>-1){var S=M[ae(L.substr(0,g))];return S===void 0?void 0:q(S,L.substr(g+1))}return M[ae(L)]}function ce(){}function _(M){this.p=new Promise(M)}return _.prototype.then=function(M,L){var g=this;return new _(function(S,w){g.p.then(function(fe){S(M?M(fe):fe)},function(fe){g.p.catch(function(oe){return L?L(oe):Promise.reject(oe)}).then(S,w)})})},_.prototype.catch=function(M){return this.then(null,M)},_.resolve=function(M){return new _(function(L){L(M)})},_.reject=function(M){return new _(function(L,g){g(M)})},["all","race"].map(function(M){_[M]=function(L){return new _(function(g,S){Promise[M](L.map(function(w){return w.p})).then(g,S)})}}),E.Undefined=ce,E.Promise=_,E.isThenable=H,E.toStringTag=x,E.hasConstructorOf=T,E.isObject=se,E.isPlainObject=I,E.isUserObject=function M(L){if(!L||x(L)!=="Object")return!1;var g=c(L);return!g||T(L,Object)||M(g)},E.escapeKeyPathComponent=ne,E.unescapeKeyPathComponent=ae,E.getByKeyPath=q,E.getJSONType=function(M){return M===null?"null":a(M)?"array":M===void 0?"undefined":n(M)},E.JSON_TYPES=["null","boolean","number","string","array","object"],E})}),pd=Hi(function(t,e){(function(n,o){t.exports=o()})(hi,function(){var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},o=function(){return function($,m){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return function(Z,B){var O=[],Q=!0,K=!1,Me=void 0;try{for(var X,Y=Z[Symbol.iterator]();!(Q=(X=Y.next()).done)&&(O.push(X.value),!B||O.length!==B);Q=!0);}catch(P){K=!0,Me=P}finally{try{!Q&&Y.return&&Y.return()}finally{if(K)throw Me}}return O}($,m);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function($){if(Array.isArray($)){for(var m=0,A=Array($.length);m<$.length;m++)A[m]=$[m];return A}return Array.from($)},s=Object.keys,a=Array.isArray,u={}.toString,c=Object.getPrototypeOf,p={}.hasOwnProperty,C=p.toString,v=["type","replaced","iterateIn","iterateUnsetNumeric"];function H($,m){return E.isObject($)&&typeof $.then=="function"&&(!m||typeof $.catch=="function")}function x($){return u.call($).slice(8,-1)}function T($,m){if(!$||($===void 0?"undefined":n($))!=="object")return!1;var A=c($);if(!A)return!1;var Z=p.call(A,"constructor")&&A.constructor;return typeof Z!="function"?m===null:typeof Z=="function"&&m!==null&&C.call(Z)===C.call(m)}function I($){return!(!$||x($)!=="Object")&&(!c($)||T($,Object))}function se($){return $&&($===void 0?"undefined":n($))==="object"}function E($){var m=[],A=[],Z={},B=this.types={},O=this.stringify=function(X,Y,P,he){he=Object.assign({},$,he,{stringification:!0});var Te=K(X,null,he);return a(Te)?JSON.stringify(Te[0],Y,P):Te.then(function(j){return JSON.stringify(j,Y,P)})};this.stringifySync=function(X,Y,P,he){return O(X,Y,P,Object.assign({},{throwOnBadSyncType:!0},he,{sync:!0}))},this.stringifyAsync=function(X,Y,P,he){return O(X,Y,P,Object.assign({},{throwOnBadSyncType:!0},he,{sync:!1}))};var Q=this.parse=function(X,Y,P){return P=Object.assign({},$,P,{parse:!0}),Me(JSON.parse(X,Y),P)};this.parseSync=function(X,Y,P){return Q(X,Y,Object.assign({},{throwOnBadSyncType:!0},P,{sync:!0}))},this.parseAsync=function(X,Y,P){return Q(X,Y,Object.assign({},{throwOnBadSyncType:!0},P,{sync:!1}))},this.specialTypeNames=function(X,Y){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return P.returnTypeNames=!0,this.encapsulate(X,Y,P)},this.rootTypeName=function(X,Y){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return P.iterateNone=!0,this.encapsulate(X,Y,P)};var K=this.encapsulate=function(X,Y,P){var he=(P=Object.assign({sync:!0},$,P)).sync,Te={},j=[],Fe=[],Ue=[],dt=!(P&&"cyclic"in P)||P.cyclic,le=P.encapsulateObserver,xe=_e("",X,dt,Y||{},Ue);function We(ve){var J=Object.values(Te);if(P.iterateNone)return J.length?J[0]:E.getJSONType(ve);if(J.length){if(P.returnTypeNames)return[].concat(r(new Set(J)));ve&&I(ve)&&!ve.hasOwnProperty("$types")?ve.$types=Te:ve={$:ve,$types:{$:Te}}}else se(ve)&&ve.hasOwnProperty("$types")&&(ve={$:ve,$types:!0});return!P.returnTypeNames&&ve}return Ue.length?he&&P.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(function ve(J,de){return Promise.all(de.map(function(Ce){return Ce[1].p})).then(function(Ce){return Promise.all(Ce.map(function(Ne){var ze=[],mt=de.splice(0,1)[0],Ge=o(mt,7),it=Ge[0],ht=Ge[2],W=Ge[3],st=Ge[4],$t=Ge[5],nn=Ge[6],Dt=_e(it,Ne,ht,W,ze,!0,nn),Ke=T(Dt,_);return it&&Ke?Dt.p.then(function(En){return st[$t]=En,ve(J,ze)}):(it?st[$t]=Dt:J=Ke?Dt.p:Dt,ve(J,ze))}))}).then(function(){return J})}(xe,Ue)).then(We):!he&&P.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():P.stringification&&he?[We(xe)]:he?We(xe):Promise.resolve(We(xe));function nt(ve,J,de){Object.assign(ve,J);var Ce=v.map(function(Ne){var ze=ve[Ne];return delete ve[Ne],ze});de(),v.forEach(function(Ne,ze){ve[Ne]=Ce[ze]})}function _e(ve,J,de,Ce,Ne,ze,mt){var Ge=void 0,it={},ht=J===void 0?"undefined":n(J),W=le?function(Mt){var rt=mt||Ce.type||E.getJSONType(J);le(Object.assign(Mt||it,{keypath:ve,value:J,cyclic:de,stateObj:Ce,promisesData:Ne,resolvingTypesonPromise:ze,awaitingTypesonPromise:T(J,_)},rt!==void 0?{type:rt}:{}))}:null;if(ht in{string:1,boolean:1,number:1,undefined:1})return J===void 0||ht==="number"&&(isNaN(J)||J===-1/0||J===1/0)?(Ge=Ze(ve,J,Ce,Ne,!1,ze,W))!==J&&(it={replaced:Ge}):Ge=J,W&&W(),Ge;if(J===null)return W&&W(),J;if(de&&!Ce.iterateIn&&!Ce.iterateUnsetNumeric){var st=j.indexOf(J);if(!(st<0))return Te[ve]="#",W&&W({cyclicKeypath:Fe[st]}),"#"+Fe[st];de===!0&&(j.push(J),Fe.push(ve))}var $t=I(J),nn=a(J),Dt=($t||nn)&&(!m.length||Ce.replaced)||Ce.iterateIn?J:Ze(ve,J,Ce,Ne,$t||nn,null,W),Ke=void 0;if(Dt!==J?(Ge=Dt,it={replaced:Dt}):nn||Ce.iterateIn==="array"?(Ke=new Array(J.length),it={clone:Ke}):$t||Ce.iterateIn==="object"?it={clone:Ke={}}:(ve===""&&T(J,_)&&Ne.push([ve,J,de,Ce,void 0,void 0,Ce.type]),Ge=J),W&&W(),P.iterateNone)return Ke||Ge;if(!Ke)return Ge;if(Ce.iterateIn){var En=function(rt){var _t={ownKeys:J.hasOwnProperty(rt)};nt(Ce,_t,function(){var kt=ve+(ve?".":"")+ne(rt),mn=_e(kt,J[rt],!!de,Ce,Ne,ze);T(mn,_)?Ne.push([kt,mn,!!de,Ce,Ke,rt,Ce.type]):mn!==void 0&&(Ke[rt]=mn)})};for(var Bo in J)En(Bo);W&&W({endIterateIn:!0,end:!0})}else s(J).forEach(function(Mt){var rt=ve+(ve?".":"")+ne(Mt);nt(Ce,{ownKeys:!0},function(){var _t=_e(rt,J[Mt],!!de,Ce,Ne,ze);T(_t,_)?Ne.push([rt,_t,!!de,Ce,Ke,Mt,Ce.type]):_t!==void 0&&(Ke[Mt]=_t)})}),W&&W({endIterateOwn:!0,end:!0});if(Ce.iterateUnsetNumeric){for(var Io=J.length,Do=function(rt){if(!(rt in J)){var _t=ve+(ve?".":"")+rt;nt(Ce,{ownKeys:!1},function(){var kt=_e(_t,void 0,!!de,Ce,Ne,ze);T(kt,_)?Ne.push([_t,kt,!!de,Ce,Ke,rt,Ce.type]):kt!==void 0&&(Ke[rt]=kt)})}},Bn=0;Bn<Io;Bn++)Do(Bn);W&&W({endIterateUnsetNumeric:!0,end:!0})}return Ke}function Ze(ve,J,de,Ce,Ne,ze,mt){for(var Ge=Ne?m:A,it=Ge.length;it--;){var ht=Ge[it];if(ht.test(J,de)){var W=ht.type;if(Z[W]){var st=Te[ve];Te[ve]=st?[W].concat(st):W}return Object.assign(de,{type:W,replaced:!0}),!he&&ht.replaceAsync||ht.replace?(mt&&mt({replacing:!0}),_e(ve,ht[he||!ht.replaceAsync?"replace":"replaceAsync"](J,de),dt&&"readonly",de,Ce,ze,W)):(mt&&mt({typeDetected:!0}),_e(ve,J,dt&&"readonly",de,Ce,ze,W))}}return J}};this.encapsulateSync=function(X,Y,P){return K(X,Y,Object.assign({},{throwOnBadSyncType:!0},P,{sync:!0}))},this.encapsulateAsync=function(X,Y,P){return K(X,Y,Object.assign({},{throwOnBadSyncType:!0},P,{sync:!1}))};var Me=this.revive=function(X,Y){var P=(Y=Object.assign({sync:!0},$,Y)).sync,he=X&&X.$types,Te=!0;if(!he)return X;if(he===!0)return X.$;he.$&&I(he.$)&&(X=X.$,he=he.$,Te=!1);var j=[],Fe={},Ue=function dt(le,xe,We,nt,_e,Ze){if(!(Te&&le==="$types")){var ve=he[le];if(a(xe)||I(xe)){var J=a(xe)?new Array(xe.length):{};for(s(xe).forEach(function(W){var st=dt(le+(le?".":"")+ne(W),xe[W],We||J,nt,J,W);T(st,ce)?J[W]=void 0:st!==void 0&&(J[W]=st)}),xe=J;j.length;){var de=o(j[0],4),Ce=de[0],Ne=de[1],ze=de[2],mt=de[3],Ge=q(Ce,Ne);if(T(Ge,ce))ze[mt]=void 0;else{if(Ge===void 0)break;ze[mt]=Ge}j.splice(0,1)}}if(!ve)return xe;if(ve==="#"){var it=q(We,xe.substr(1));return it===void 0&&j.push([We,xe.substr(1),_e,Ze]),it}var ht=nt.sync;return[].concat(ve).reduce(function(W,st){var $t=Z[st];if(!$t)throw new Error("Unregistered type: "+st);return $t[ht&&$t.revive?"revive":!ht&&$t.reviveAsync?"reviveAsync":"revive"](W,Fe)},xe)}}("",X,null,Y);return H(Ue=T(Ue,ce)?void 0:Ue)?P&&Y.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Ue:!P&&Y.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():P?Ue:Promise.resolve(Ue)};this.reviveSync=function(X,Y){return Me(X,Object.assign({},{throwOnBadSyncType:!0},Y,{sync:!0}))},this.reviveAsync=function(X,Y){return Me(X,Object.assign({},{throwOnBadSyncType:!0},Y,{sync:!1}))},this.register=function(X,Y){return Y=Y||{},[].concat(X).forEach(function P(he){if(a(he))return he.map(P);he&&s(he).forEach(function(Te){if(Te==="#")throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(E.JSON_TYPES.includes(Te))throw new TypeError("Plain JSON object types are reserved as type names");var j=he[Te],Fe=j.testPlainObjects?m:A,Ue=Fe.filter(function(nt){return nt.type===Te});if(Ue.length&&(Fe.splice(Fe.indexOf(Ue[0]),1),delete Z[Te],delete B[Te]),j){if(typeof j=="function"){var dt=j;j={test:function(_e){return _e&&_e.constructor===dt},replace:function(_e){return ee({},_e)},revive:function(_e){return ee(Object.create(dt.prototype),_e)}}}else a(j)&&(j={test:j[0],replace:j[1],revive:j[2]});var le={type:Te,test:j.test.bind(j)};j.replace&&(le.replace=j.replace.bind(j)),j.replaceAsync&&(le.replaceAsync=j.replaceAsync.bind(j));var xe=typeof Y.fallback=="number"?Y.fallback:Y.fallback?0:1/0;if(j.testPlainObjects?m.splice(xe,0,le):A.splice(xe,0,le),j.revive||j.reviveAsync){var We={};j.revive&&(We.revive=j.revive.bind(j)),j.reviveAsync&&(We.reviveAsync=j.reviveAsync.bind(j)),Z[Te]=We}B[Te]=j}})}),this}}function ee($,m){return s(m).map(function(A){$[A]=m[A]}),$}function ne($){return $.replace(/~/g,"~0").replace(/\./g,"~1")}function ae($){return $.replace(/~1/g,".").replace(/~0/g,"~")}function q($,m){if(m==="")return $;var A=m.indexOf(".");if(A>-1){var Z=$[ae(m.substr(0,A))];return Z===void 0?void 0:q(Z,m.substr(A+1))}return $[ae(m)]}function ce(){}function _($){this.p=new Promise($)}_.prototype.then=function($,m){var A=this;return new _(function(Z,B){A.p.then(function(O){Z($?$(O):O)},function(O){A.p.catch(function(Q){return m?m(Q):Promise.reject(Q)}).then(Z,B)})})},_.prototype.catch=function($){return this.then(null,$)},_.resolve=function($){return new _(function(m){m($)})},_.reject=function($){return new _(function(m,A){A($)})},["all","race"].map(function($){_[$]=function(m){return new _(function(A,Z){Promise[$](m.map(function(B){return B.p})).then(A,Z)})}}),E.Undefined=ce,E.Promise=_,E.isThenable=H,E.toStringTag=x,E.hasConstructorOf=T,E.isObject=se,E.isPlainObject=I,E.isUserObject=function $(m){if(!m||x(m)!=="Object")return!1;var A=c(m);return!A||T(m,Object)||$(A)},E.escapeKeyPathComponent=ne,E.unescapeKeyPathComponent=ae,E.getByKeyPath=q,E.getJSONType=function($){return $===null?"null":a($)?"array":$===void 0?"undefined":n($)},E.JSON_TYPES=["null","boolean","number","string","array","object"];for(var M={userObject:{test:function(m,A){return E.isUserObject(m)},replace:function(m){return Object.assign({},m)},revive:function(m){return m}}},L=[[{sparseArrays:{testPlainObjects:!0,test:function(m){return Array.isArray(m)},replace:function(m,A){return A.iterateUnsetNumeric=!0,m}}},{sparseUndefined:{test:function(m,A){return m===void 0&&A.ownKeys===!1},replace:function(m){return null},revive:function(m){}}}],{undef:{test:function(m,A){return m===void 0&&(A.ownKeys||!("ownKeys"in A))},replace:function(m){return null},revive:function(m){return new E.Undefined}}}],g={StringObject:{test:function(m){return E.toStringTag(m)==="String"&&(m===void 0?"undefined":n(m))==="object"},replace:function(m){return String(m)},revive:function(m){return new String(m)}},BooleanObject:{test:function(m){return E.toStringTag(m)==="Boolean"&&(m===void 0?"undefined":n(m))==="object"},replace:function(m){return!!m},revive:function(m){return new Boolean(m)}},NumberObject:{test:function(m){return E.toStringTag(m)==="Number"&&(m===void 0?"undefined":n(m))==="object"},replace:function(m){return Number(m)},revive:function(m){return new Number(m)}}},S=[{nan:{test:function(m){return typeof m=="number"&&isNaN(m)},replace:function(m){return"NaN"},revive:function(m){return NaN}}},{infinity:{test:function(m){return m===1/0},replace:function(m){return"Infinity"},revive:function(m){return 1/0}}},{negativeInfinity:{test:function(m){return m===-1/0},replace:function(m){return"-Infinity"},revive:function(m){return-1/0}}}],w={date:{test:function(m){return E.toStringTag(m)==="Date"},replace:function(m){var A=m.getTime();return isNaN(A)?"NaN":A},revive:function(m){return m==="NaN"?new Date(NaN):new Date(m)}}},fe={regexp:{test:function(m){return E.toStringTag(m)==="RegExp"},replace:function(m){return{source:m.source,flags:(m.global?"g":"")+(m.ignoreCase?"i":"")+(m.multiline?"m":"")+(m.sticky?"y":"")+(m.unicode?"u":"")}},revive:function(m){var A=m.source,Z=m.flags;return new RegExp(A,Z)}}},oe={map:{test:function(m){return E.toStringTag(m)==="Map"},replace:function(m){return Array.from(m.entries())},revive:function(m){return new Map(m)}}},Ie={set:{test:function(m){return E.toStringTag(m)==="Set"},replace:function(m){return Array.from(m.values())},revive:function(m){return new Set(m)}}},ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D=new Uint8Array(256),U=0;U<ge.length;U++)D[ge.charCodeAt(U)]=U;var ie=function(m,A,Z){for(var B=new Uint8Array(m,A,Z),O=B.length,Q="",K=0;K<O;K+=3)Q+=ge[B[K]>>2],Q+=ge[(3&B[K])<<4|B[K+1]>>4],Q+=ge[(15&B[K+1])<<2|B[K+2]>>6],Q+=ge[63&B[K+2]];return O%3==2?Q=Q.substring(0,Q.length-1)+"=":O%3==1&&(Q=Q.substring(0,Q.length-2)+"=="),Q},Le=function(m){var A=m.length,Z=.75*m.length,B=0,O=void 0,Q=void 0,K=void 0,Me=void 0;m[m.length-1]==="="&&(Z--,m[m.length-2]==="="&&Z--);for(var X=new ArrayBuffer(Z),Y=new Uint8Array(X),P=0;P<A;P+=4)O=D[m.charCodeAt(P)],Q=D[m.charCodeAt(P+1)],K=D[m.charCodeAt(P+2)],Me=D[m.charCodeAt(P+3)],Y[B++]=O<<2|Q>>4,Y[B++]=(15&Q)<<4|K>>2,Y[B++]=(3&K)<<6|63&Me;return X},Se={arraybuffer:{test:function(m){return E.toStringTag(m)==="ArrayBuffer"},replace:function(m,A){A.buffers||(A.buffers=[]);var Z=A.buffers.indexOf(m);return Z>-1?{index:Z}:(A.buffers.push(m),ie(m))},revive:function(m,A){if(A.buffers||(A.buffers=[]),(m===void 0?"undefined":n(m))==="object")return A.buffers[m.index];var Z=Le(m);return A.buffers.push(Z),Z}}},me=typeof self>"u"?hi:self,R={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function($){var m=$,A=me[m];A&&(R[$.toLowerCase()]={test:function(B){return E.toStringTag(B)===m},replace:function(B,O){var Q=B.buffer,K=B.byteOffset,Me=B.length;O.buffers||(O.buffers=[]);var X=O.buffers.indexOf(Q);return X>-1?{index:X,byteOffset:K,length:Me}:(O.buffers.push(Q),{encoded:ie(Q),byteOffset:K,length:Me})},revive:function(B,O){O.buffers||(O.buffers=[]);var Q=B.byteOffset,K=B.length,Me=B.encoded,X=B.index,Y=void 0;return"index"in B?Y=O.buffers[X]:(Y=Le(Me),O.buffers.push(Y)),new A(Y,Q,K)}})});var N={dataview:{test:function(m){return E.toStringTag(m)==="DataView"},replace:function(m,A){var Z=m.buffer,B=m.byteOffset,O=m.byteLength;A.buffers||(A.buffers=[]);var Q=A.buffers.indexOf(Z);return Q>-1?{index:Q,byteOffset:B,byteLength:O}:(A.buffers.push(Z),{encoded:ie(Z),byteOffset:B,byteLength:O})},revive:function(m,A){A.buffers||(A.buffers=[]);var Z=m.byteOffset,B=m.byteLength,O=m.encoded,Q=m.index,K=void 0;return"index"in m?K=A.buffers[Q]:(K=Le(O),A.buffers.push(K)),new DataView(K,Z,B)}}},G={IntlCollator:{test:function(m){return E.hasConstructorOf(m,Intl.Collator)},replace:function(m){return m.resolvedOptions()},revive:function(m){return new Intl.Collator(m.locale,m)}},IntlDateTimeFormat:{test:function(m){return E.hasConstructorOf(m,Intl.DateTimeFormat)},replace:function(m){return m.resolvedOptions()},revive:function(m){return new Intl.DateTimeFormat(m.locale,m)}},IntlNumberFormat:{test:function(m){return E.hasConstructorOf(m,Intl.NumberFormat)},replace:function(m){return m.resolvedOptions()},revive:function(m){return new Intl.NumberFormat(m.locale,m)}}};function we($){for(var m=new Uint16Array($.length),A=0;A<$.length;A++)m[A]=$.charCodeAt(A);return m.buffer}var be={file:{test:function(m){return E.toStringTag(m)==="File"},replace:function(m){var A=new XMLHttpRequest;if(A.open("GET",URL.createObjectURL(m),!1),typeof TextEncoder<"u"&&A.overrideMimeType("text/plain; charset=utf-16le"),A.status!==200&&A.status!==0)throw new Error("Bad Blob access: "+A.status);return A.send(),{type:m.type,stringContents:A.responseText,name:m.name,lastModified:m.lastModified}},revive:function(m){var A=m.name,Z=m.type,B=m.stringContents,O=m.lastModified,Q=we(B);return new File([Q],A,{type:Z,lastModified:O})},replaceAsync:function(m){return new E.Promise(function(A,Z){if(m.isClosed)Z(new Error("The File is closed"));else{var B=new FileReader;B.addEventListener("load",function(){A({type:m.type,stringContents:B.result,name:m.name,lastModified:m.lastModified})}),B.addEventListener("error",function(){Z(B.error)}),B.readAsText(m,"UTF-16")}})}}};return[M,L,g,S,w,fe,{imagedata:{test:function(m){return E.toStringTag(m)==="ImageData"},replace:function(m){return{array:Array.from(m.data),width:m.width,height:m.height}},revive:function(m){return new ImageData(new Uint8ClampedArray(m.array),m.width,m.height)}}},{imagebitmap:{test:function(m){return E.toStringTag(m)==="ImageBitmap"||m&&m.dataset&&m.dataset.toStringTag==="ImageBitmap"},replace:function(m){var A=document.createElement("canvas");return A.getContext("2d").drawImage(m,0,0),A.toDataURL()},revive:function(m){var A=document.createElement("canvas"),Z=A.getContext("2d"),B=document.createElement("img");return B.onload=function(){Z.drawImage(B,0,0)},B.src=m,A},reviveAsync:function(m){var A=document.createElement("canvas"),Z=A.getContext("2d"),B=document.createElement("img");return B.onload=function(){Z.drawImage(B,0,0)},B.src=m,createImageBitmap(A)}}},be,{file:be.file,filelist:{test:function(m){return E.toStringTag(m)==="FileList"},replace:function(m){for(var A=[],Z=0;Z<m.length;Z++)A[Z]=m.item(Z);return A},revive:function(m){function A(){this._files=arguments[0],this.length=this._files.length}return A.prototype.item=function(Z){return this._files[Z]},A.prototype[Symbol.toStringTag]="FileList",new A(m)}}},{blob:{test:function(m){return E.toStringTag(m)==="Blob"},replace:function(m){var A=new XMLHttpRequest;if(A.open("GET",URL.createObjectURL(m),!1),typeof TextEncoder<"u"&&A.overrideMimeType("text/plain; charset=utf-16le"),A.status!==200&&A.status!==0)throw new Error("Bad Blob access: "+A.status);return A.send(),{type:m.type,stringContents:A.responseText}},revive:function(m){var A=m.type,Z=m.stringContents;return new Blob([we(Z)],{type:A})},replaceAsync:function(m){return new E.Promise(function(A,Z){if(m.isClosed)Z(new Error("The Blob is closed"));else{var B=new FileReader;B.addEventListener("load",function(){A({type:m.type,stringContents:B.result})}),B.addEventListener("error",function(){Z(B.error)}),B.readAsText(m,"UTF-16")}})}}}].concat(typeof Map=="function"?oe:[],typeof Set=="function"?Ie:[],typeof ArrayBuffer=="function"?Se:[],typeof Uint8Array=="function"?R:[],typeof DataView=="function"?N:[],typeof Intl<"u"?G:[])})}),xn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pn=new Uint8Array(256);for(var io=0;io<xn.length;io++)Pn[xn.charCodeAt(io)]=io;var fi=function(e,n,o){o==null&&(o=e.byteLength);for(var r=new Uint8Array(e,0,o),s=r.length,a="",u=0;u<s;u+=3)a+=xn[r[u]>>2],a+=xn[(r[u]&3)<<4|r[u+1]>>4],a+=xn[(r[u+1]&15)<<2|r[u+2]>>6],a+=xn[r[u+2]&63];return s%3===2?a=a.substring(0,a.length-1)+"=":s%3===1&&(a=a.substring(0,a.length-2)+"=="),a},Ps=function(e){var n=e.length,o=e.length*.75,r=0,s,a,u,c;e[e.length-1]==="="&&(o--,e[e.length-2]==="="&&o--);for(var p=new ArrayBuffer(o),C=new Uint8Array(p),v=0;v<n;v+=4)s=Pn[e.charCodeAt(v)],a=Pn[e.charCodeAt(v+1)],u=Pn[e.charCodeAt(v+2)],c=Pn[e.charCodeAt(v+3)],C[r++]=s<<2|a>>4,C[r++]=(a&15)<<4|u>>2,C[r++]=(u&3)<<6|c&63;return p},hd=typeof self>"u"?global:self,Os={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(t){var e=t,n=hd[e];n&&(Os[t.toLowerCase()+"2"]={test:function(o){return So.toStringTag(o)===e},replace:function(o){var r=o.buffer,s=o.byteOffset,a=o.length;return{buffer:r,byteOffset:s,length:a}},revive:function(o){var r=o.buffer,s=o.byteOffset,a=o.length;return new n(r,s,a)}})});var fd={arraybuffer:{test:function(t){return So.toStringTag(t)==="ArrayBuffer"},replace:function(t){return fi(t,0,t.byteLength)},revive:function(t){var e=Ps(t);return e}}},Bt=new So().register(pd),gd="FileReaderSync"in self,Lo=[],Ko=0;Bt.register([fd,Os,{blob2:{test:function(t){return So.toStringTag(t)==="Blob"},replace:function(t){if(t.isClosed)throw new Error("The Blob is closed");if(gd){var e=_s(t,"binary"),n=fi(e,0,e.byteLength);return{type:t.type,data:n}}else{Lo.push(t);var o={type:t.type,data:{start:Ko,end:Ko+t.size}};return console.log("b.size: "+t.size),Ko+=t.size,o}},finalize:function(t,e){t.data=fi(e,0,e.byteLength)},revive:function(t){var e=t.type,n=t.data;return new Blob([Ps(n)],{type:e})}}}]);Bt.mustFinalize=function(){return Lo.length>0};Bt.finalize=function(t){return tn(void 0,void 0,void 0,function(){var e,n,o,r,s,a,u,c,p,C;return Nt(this,function(v){switch(v.label){case 0:return[4,Ds(new Blob(Lo),"binary")];case 1:if(e=v.sent(),t){for(n=0,o=t;n<o.length;n++)if(r=o[n],r.$types){s=r.$types,a=s.$,a&&(s=s.$);for(u in s)c=s[u],p=Bt.types[c],p&&p.finalize&&(C=gt.getByKeyPath(r,a?"$."+u:u),p.finalize(C,e.slice(C.start,C.end)))}}return Lo=[],[2]}})})};var md=2e3;function vd(t,e){return tn(this,void 0,void 0,function(){function n(){return tn(this,void 0,void 0,function(){var p,C,v,H,x,T,I,se,E;return Nt(this,function(ee){switch(ee.label){case 0:return[4,Promise.all(t.tables.map(function(ne){return ne.count()}))];case 1:p=ee.sent(),p.forEach(function(ne,ae){return r[ae].rowCount=ne}),c.totalRows=p.reduce(function(ne,ae){return ne+ae}),C=JSON.stringify(a,void 0,s?2:void 0),v=C.lastIndexOf("]"),H=C.substring(0,v),o.push(H),x=e.filter,T=function(ne){var ae,q,ce,_,M,L,g,S,w,fe,oe,Ie;return Nt(this,function(ge){switch(ge.label){case 0:ae=t.table(ne),q=ae.schema.primKey,ce=!!q.keyPath,_=e.numRowsPerChunk||md,M=ce?{tableName:ae.name,inbound:!0,rows:[]}:{tableName:ae.name,inbound:!1,rows:[]},L=JSON.stringify(M,void 0,s?2:void 0),s&&(L=L.split(`
`).join(`
    `)),g=L.lastIndexOf("]"),o.push(L.substring(0,g)),S=null,w=0,fe=!0,oe=function(){var D,U,ie,Le,N,Se,me,R,N;return Nt(this,function(G){switch(G.label){case 0:return u&&gt.ignoreTransaction(function(){return u(c)}),D=S==null?ae.limit(_):ae.where(":id").above(S).limit(_),[4,D.toArray()];case 1:return U=G.sent(),U.length===0?[2,"break"]:(S!=null&&w>0&&(o.push(","),s&&o.push(`
      `)),fe=U.length===_,ce?(ie=x?U.filter(function(we){return x(ne,we)}):U,Le=ie.map(function(we){return Bt.encapsulate(we)}),Bt.mustFinalize()?[4,gt.waitFor(Bt.finalize(Le))]:[3,3]):[3,4]);case 2:G.sent(),G.label=3;case 3:return N=JSON.stringify(Le,void 0,s?2:void 0),s&&(N=N.split(`
`).join(`
      `)),o.push(new Blob([N.substring(1,N.length-1)])),w=ie.length,S=U.length>0?gt.getByKeyPath(U[U.length-1],q.keyPath):null,[3,8];case 4:return[4,D.primaryKeys()];case 5:return Se=G.sent(),me=Se.map(function(we,be){return[we,U[be]]}),x&&(me=me.filter(function(we){var be=we[0],$=we[1];return x(ne,$,be)})),R=me.map(function(we){return Bt.encapsulate(we)}),Bt.mustFinalize()?[4,gt.waitFor(Bt.finalize(R))]:[3,7];case 6:G.sent(),G.label=7;case 7:N=JSON.stringify(R,void 0,s?2:void 0),s&&(N=N.split(`
`).join(`
      `)),o.push(new Blob([N.substring(1,N.length-1)])),w=me.length,S=Se.length>0?Se[Se.length-1]:null,G.label=8;case 8:return c.completedRows+=U.length,[2]}})},ge.label=1;case 1:return fe?[5,oe()]:[3,3];case 2:return Ie=ge.sent(),Ie==="break"?[3,3]:[3,1];case 3:return o.push(L.substr(g)),c.completedTables+=1,c.completedTables<c.totalTables&&o.push(","),[2]}})},I=0,se=r,ee.label=2;case 2:return I<se.length?(E=se[I].name,[5,T(E)]):[3,5];case 3:ee.sent(),ee.label=4;case 4:return I++,[3,2];case 5:return o.push(C.substr(v)),c.done=!0,u&&gt.ignoreTransaction(function(){return u(c)}),[2]}})})}var o,r,s,a,u,c;return Nt(this,function(p){switch(p.label){case 0:e=e||{},o=[],r=t.tables.map(function(C){return{name:C.name,schema:ud(C),rowCount:0}}),s=e.prettyJson,a={formatName:"dexie",formatVersion:1,data:{databaseName:t.name,databaseVersion:t.verno,tables:r,data:[]}},u=e.progressCallback,c={done:!1,completedRows:0,completedTables:0,totalRows:NaN,totalTables:t.tables.length},p.label=1;case 1:return p.trys.push([1,,6,7]),e.noTransaction?[4,n()]:[3,3];case 2:return p.sent(),[3,5];case 3:return[4,t.transaction("r",t.tables,n)];case 4:p.sent(),p.label=5;case 5:return[3,7];case 6:return Bt.finalize(),[7];case 7:return u&&gt.ignoreTransaction(function(){return u(c)}),[2,new Blob(o,{type:"text/json"})]}})})}var yd=1,wd={Stream:function(){}},bd=Hi(function(t,e){(function(n){var o=typeof process=="object"&&cs?cs:self;n.parser=function(L){return new x(L)},n.CParser=x,n.CStream=I,n.createStream=T,n.MAX_BUFFER_LENGTH=10*1024*1024,n.DEBUG=o.CDEBUG==="debug",n.INFO=o.CDEBUG==="debug"||o.CDEBUG==="info",n.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var r={textNode:void 0,numberNode:""},s=n.EVENTS.filter(function(L){return L!=="error"&&L!=="end"}),a=0,u;n.STATE={BEGIN:a++,VALUE:a++,OPEN_OBJECT:a++,CLOSE_OBJECT:a++,OPEN_ARRAY:a++,CLOSE_ARRAY:a++,TEXT_ESCAPE:a++,STRING:a++,BACKSLASH:a++,END:a++,OPEN_KEY:a++,CLOSE_KEY:a++,TRUE:a++,TRUE2:a++,TRUE3:a++,FALSE:a++,FALSE2:a++,FALSE3:a++,FALSE4:a++,NULL:a++,NULL2:a++,NULL3:a++,NUMBER_DECIMAL_POINT:a++,NUMBER_DIGIT:a++};for(var c in n.STATE)n.STATE[n.STATE[c]]=c;a=n.STATE;const p={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};Object.create||(Object.create=function(L){function g(){this.__proto__=L}return g.prototype=L,new g}),Object.getPrototypeOf||(Object.getPrototypeOf=function(L){return L.__proto__}),Object.keys||(Object.keys=function(L){var g=[];for(var S in L)L.hasOwnProperty(S)&&g.push(S);return g});function C(L){var g=Math.max(n.MAX_BUFFER_LENGTH,10),S=0;for(var w in r){var fe=L[w]===void 0?0:L[w].length;if(fe>g)switch(w){case"text":closeText(L);break;default:q(L,"Max buffer length exceeded: "+w)}S=Math.max(S,fe)}L.bufferCheckPosition=n.MAX_BUFFER_LENGTH-S+L.position}function v(L){for(var g in r)L[g]=r[g]}var H=/[\\"\n]/g;function x(L){if(!(this instanceof x))return new x(L);var g=this;v(g),g.bufferCheckPosition=n.MAX_BUFFER_LENGTH,g.q=g.c=g.p="",g.opt=L||{},g.closed=g.closedRoot=g.sawRoot=!1,g.tag=g.error=null,g.state=a.BEGIN,g.stack=new Array,g.position=g.column=0,g.line=1,g.slashed=!1,g.unicodeI=0,g.unicodeS=null,g.depth=0,se(g,"onready")}x.prototype={end:function(){ce(this)},write:M,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{u=wd.Stream}catch{u=function(){}}function T(L){return new I(L)}function I(L){if(!(this instanceof I))return new I(L);this._parser=new x(L),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var g=this;u.apply(g),this._parser.onend=function(){g.emit("end")},this._parser.onerror=function(S){g.emit("error",S),g._parser.error=null},s.forEach(function(S){Object.defineProperty(g,"on"+S,{get:function(){return g._parser["on"+S]},set:function(w){if(!w)return g.removeAllListeners(S),g._parser["on"+S]=w,w;g.on(S,w)},enumerable:!0,configurable:!1})})}I.prototype=Object.create(u.prototype,{constructor:{value:I}}),I.prototype.write=function(L){L=new Buffer(L);for(var g=0;g<L.length;g++){var S=L[g];if(this.bytes_remaining>0){for(var w=0;w<this.bytes_remaining;w++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+w]=L[w];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,g=g+w-1,this._parser.write(this.string),this.emit("data",this.string);continue}if(this.bytes_remaining===0&&S>=128)if(S>=194&&S<=223&&(this.bytes_in_sequence=2),S>=224&&S<=239&&(this.bytes_in_sequence=3),S>=240&&S<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+g>L.length){for(var fe=0;fe<=L.length-1-g;fe++)this.temp_buffs[this.bytes_in_sequence][fe]=L[g+fe];return this.bytes_remaining=g+this.bytes_in_sequence-L.length,!0}else{this.string=L.slice(g,g+this.bytes_in_sequence).toString(),g=g+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string);continue}for(var oe=g;oe<L.length&&!(L[oe]>=128);oe++);this.string=L.slice(g,oe).toString(),this._parser.write(this.string),this.emit("data",this.string),g=oe-1}},I.prototype.end=function(L){return L&&L.length&&this._parser.write(L.toString()),this._parser.end(),!0},I.prototype.on=function(L,g){var S=this;return!S._parser["on"+L]&&s.indexOf(L)!==-1&&(S._parser["on"+L]=function(){var w=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);w.splice(0,0,L),S.emit.apply(S,w)}),u.prototype.on.call(S,L,g)},I.prototype.destroy=function(){v(this._parser),this.emit("close")};function se(L,g,S){n.INFO&&console.log("-- emit",g,S),L[g]&&L[g](S)}function E(L,g,S){ee(L),se(L,g,S)}function ee(L,g){L.textNode=ae(L.opt,L.textNode),L.textNode!==void 0&&se(L,g||"onvalue",L.textNode),L.textNode=void 0}function ne(L){L.numberNode&&se(L,"onvalue",parseFloat(L.numberNode)),L.numberNode=""}function ae(L,g){return g===void 0||(L.trim&&(g=g.trim()),L.normalize&&(g=g.replace(/\s+/g," "))),g}function q(L,g){return ee(L),g+=`
Line: `+L.line+`
Column: `+L.column+`
Char: `+L.c,g=new Error(g),L.error=g,se(L,"onerror",g),L}function ce(L){return(L.state!==a.VALUE||L.depth!==0)&&q(L,"Unexpected end"),ee(L),L.c="",L.closed=!0,se(L,"onend"),x.call(L,L.opt),L}function _(L){return L===p.carriageReturn||L===p.lineFeed||L===p.space||L===p.tab}function M(L){var g=this;if(this.error)throw this.error;if(g.closed)return q(g,"Cannot write after close. Assign an onready handler.");if(L===null)return ce(g);var S=0,w=L.charCodeAt(0),fe=g.p;for(n.DEBUG&&console.log("write -> ["+L+"]");w&&(fe=w,g.c=w=L.charCodeAt(S++),fe!==w?g.p=fe:fe=g.p,!!w);)switch(n.DEBUG&&console.log(S,w,n.STATE[g.state]),g.position++,w===p.lineFeed?(g.line++,g.column=0):g.column++,g.state){case a.BEGIN:w===p.openBrace?g.state=a.OPEN_OBJECT:w===p.openBracket?g.state=a.OPEN_ARRAY:_(w)||q(g,"Non-whitespace before {[.");continue;case a.OPEN_KEY:case a.OPEN_OBJECT:if(_(w))continue;if(g.state===a.OPEN_KEY)g.stack.push(a.CLOSE_KEY);else if(w===p.closeBrace){se(g,"onopenobject"),this.depth++,se(g,"oncloseobject"),this.depth--,g.state=g.stack.pop()||a.VALUE;continue}else g.stack.push(a.CLOSE_OBJECT);w===p.doubleQuote?g.state=a.STRING:q(g,'Malformed object key should start with "');continue;case a.CLOSE_KEY:case a.CLOSE_OBJECT:if(_(w))continue;g.state,a.CLOSE_KEY,w===p.colon?(g.state===a.CLOSE_OBJECT?(g.stack.push(a.CLOSE_OBJECT),ee(g,"onopenobject"),this.depth++):ee(g,"onkey"),g.state=a.VALUE):w===p.closeBrace?(E(g,"oncloseobject"),this.depth--,g.state=g.stack.pop()||a.VALUE):w===p.comma?(g.state===a.CLOSE_OBJECT&&g.stack.push(a.CLOSE_OBJECT),ee(g),g.state=a.OPEN_KEY):q(g,"Bad object");continue;case a.OPEN_ARRAY:case a.VALUE:if(_(w))continue;if(g.state===a.OPEN_ARRAY)if(se(g,"onopenarray"),this.depth++,g.state=a.VALUE,w===p.closeBracket){se(g,"onclosearray"),this.depth--,g.state=g.stack.pop()||a.VALUE;continue}else g.stack.push(a.CLOSE_ARRAY);w===p.doubleQuote?g.state=a.STRING:w===p.openBrace?g.state=a.OPEN_OBJECT:w===p.openBracket?g.state=a.OPEN_ARRAY:w===p.t?g.state=a.TRUE:w===p.f?g.state=a.FALSE:w===p.n?g.state=a.NULL:w===p.minus?g.numberNode+="-":p._0<=w&&w<=p._9?(g.numberNode+=String.fromCharCode(w),g.state=a.NUMBER_DIGIT):q(g,"Bad value");continue;case a.CLOSE_ARRAY:if(w===p.comma)g.stack.push(a.CLOSE_ARRAY),ee(g,"onvalue"),g.state=a.VALUE;else if(w===p.closeBracket)E(g,"onclosearray"),this.depth--,g.state=g.stack.pop()||a.VALUE;else{if(_(w))continue;q(g,"Bad array")}continue;case a.STRING:g.textNode===void 0&&(g.textNode="");var oe=S-1,Ie=g.slashed,ge=g.unicodeI;e:for(;;){for(n.DEBUG&&console.log(S,w,n.STATE[g.state],Ie);ge>0;)if(g.unicodeS+=String.fromCharCode(w),w=L.charCodeAt(S++),g.position++,ge===4?(g.textNode+=String.fromCharCode(parseInt(g.unicodeS,16)),ge=0,oe=S-1):ge++,!w)break e;if(w===p.doubleQuote&&!Ie){g.state=g.stack.pop()||a.VALUE,g.textNode+=L.substring(oe,S-1),g.position+=S-1-oe;break}if(w===p.backslash&&!Ie&&(Ie=!0,g.textNode+=L.substring(oe,S-1),g.position+=S-1-oe,w=L.charCodeAt(S++),g.position++,!w))break;if(Ie){if(Ie=!1,w===p.n?g.textNode+=`
`:w===p.r?g.textNode+="\r":w===p.t?g.textNode+="	":w===p.f?g.textNode+="\f":w===p.b?g.textNode+="\b":w===p.u?(ge=1,g.unicodeS=""):g.textNode+=String.fromCharCode(w),w=L.charCodeAt(S++),g.position++,oe=S-1,w)continue;break}H.lastIndex=S;var D=H.exec(L);if(D===null){S=L.length+1,g.textNode+=L.substring(oe,S-1),g.position+=S-1-oe;break}if(S=D.index+1,w=L.charCodeAt(D.index),!w){g.textNode+=L.substring(oe,S-1),g.position+=S-1-oe;break}}g.slashed=Ie,g.unicodeI=ge;continue;case a.TRUE:w===p.r?g.state=a.TRUE2:q(g,"Invalid true started with t"+w);continue;case a.TRUE2:w===p.u?g.state=a.TRUE3:q(g,"Invalid true started with tr"+w);continue;case a.TRUE3:w===p.e?(se(g,"onvalue",!0),g.state=g.stack.pop()||a.VALUE):q(g,"Invalid true started with tru"+w);continue;case a.FALSE:w===p.a?g.state=a.FALSE2:q(g,"Invalid false started with f"+w);continue;case a.FALSE2:w===p.l?g.state=a.FALSE3:q(g,"Invalid false started with fa"+w);continue;case a.FALSE3:w===p.s?g.state=a.FALSE4:q(g,"Invalid false started with fal"+w);continue;case a.FALSE4:w===p.e?(se(g,"onvalue",!1),g.state=g.stack.pop()||a.VALUE):q(g,"Invalid false started with fals"+w);continue;case a.NULL:w===p.u?g.state=a.NULL2:q(g,"Invalid null started with n"+w);continue;case a.NULL2:w===p.l?g.state=a.NULL3:q(g,"Invalid null started with nu"+w);continue;case a.NULL3:w===p.l?(se(g,"onvalue",null),g.state=g.stack.pop()||a.VALUE):q(g,"Invalid null started with nul"+w);continue;case a.NUMBER_DECIMAL_POINT:w===p.period?(g.numberNode+=".",g.state=a.NUMBER_DIGIT):q(g,"Leading zero not followed by .");continue;case a.NUMBER_DIGIT:p._0<=w&&w<=p._9?g.numberNode+=String.fromCharCode(w):w===p.period?(g.numberNode.indexOf(".")!==-1&&q(g,"Invalid number has two dots"),g.numberNode+="."):w===p.e||w===p.E?((g.numberNode.indexOf("e")!==-1||g.numberNode.indexOf("E")!==-1)&&q(g,"Invalid number has two exponential"),g.numberNode+="e"):w===p.plus||w===p.minus?(fe===p.e||fe===p.E||q(g,"Invalid symbol in number"),g.numberNode+=String.fromCharCode(w)):(ne(g),S--,g.state=g.stack.pop()||a.VALUE);continue;default:q(g,"Unknown state: "+g.state)}return g.position>=g.bufferCheckPosition&&C(g),g}})(e)});function Cd(t){var e=0,n=Ld(),o={pullAsync:function(r){return tn(this,void 0,void 0,function(){var s,a,u;return Nt(this,function(c){switch(c.label){case 0:return s=t.slice(e,e+r),e+=r,[4,Ds(s,"text")];case 1:return a=c.sent(),u=n.write(a),o.result=u||{},[2,u]}})})},pullSync:function(r){var s=t.slice(e,e+r);e+=r;var a=_s(s,"text"),u=n.write(a);return o.result=u||{},u},done:function(){return n.done()},eof:function(){return e>=t.size},result:{}};return o}function Ld(t){var e=bd.parser(),n=0,o,r=[],s,a,u=!1,c=!1;return e.onopenobject=function(p){var C={};C.incomplete=!0,o||(o=C),s&&(r.push([a,s,c]),c?s.push(C):s[a]=C),s=C,a=p,c=!1,++n},e.onkey=function(p){return a=p},e.onvalue=function(p){return c?s.push(p):s[a]=p},e.oncloseobject=function(){var p;delete s.incomplete,a=null,--n===0?u=!0:(p=r.pop(),a=p[0],s=p[1],c=p[2])},e.onopenarray=function(){var p=[];p.incomplete=!0,o||(o=p),s&&(r.push([a,s,c]),c?s.push(p):s[a]=p),s=p,c=!0,a=null,++n},e.onclosearray=function(){var p;delete s.incomplete,a=null,--n===0?u=!0:(p=r.pop(),a=p[0],s=p[1],c=p[2])},{write:function(p){return e.write(p),o},done:function(){return u}}}var Ns=1024;function $d(t,e){return tn(this,void 0,void 0,function(){var n,o,r,s;return Nt(this,function(a){switch(a.label){case 0:return e=e||{},n=e.chunkSizeBytes||Ns*1024,[4,Fs(t,n)];case 1:return o=a.sent(),r=o.result.data,s=new gt(r.databaseName),s.version(r.databaseVersion).stores(cd(r)),[4,Rs(s,o,e)];case 2:return a.sent(),[2,s]}})})}function Rs(t,e,n){return tn(this,void 0,void 0,function(){function o(){return tn(this,void 0,void 0,function(){var T,I,se,E,ee;return Nt(this,function(ne){switch(ne.label){case 0:T=function(ae){var q,ce,_,M,L,g,S,w,fe,oe,Ie,ge;return Nt(this,function(D){switch(D.label){case 0:if(!ae.rows)return[2,"break"];if(!ae.rows.incomplete&&ae.rows.length===0)return[2,"continue"];if(p&&gt.ignoreTransaction(function(){return p(C)}),q=ae.tableName,ce=t.table(q),_=c.tables.filter(function(U){return U.name===q})[0].schema,!ce){if(n.acceptMissingTables)return[2,"continue"];throw new Error("Exported table "+ae.tableName+" is missing in installed database")}if(!n.acceptChangedPrimaryKey&&_.split(",")[0]!=ce.schema.primKey.src)throw new Error("Primary key differs for table "+ae.tableName+". ");for(M=ae.rows,L=[],g=0;g<M.length&&(S=M[g],!S.incomplete);g++)L.push(Bt.revive(S));return w=n.filter,fe=w?ae.inbound?L.filter(function(U){return w(q,U)}):L.filter(function(U){var ie=U[0],Le=U[1];return w(q,Le,ie)}):L,oe=ae.inbound?[void 0,fe]:[fe.map(function(U){return U[0]}),L.map(function(U){return U[1]})],Ie=oe[0],ge=oe[1],n.overwriteValues?[4,ce.bulkPut(ge,Ie)]:[3,2];case 1:return D.sent(),[3,4];case 2:return[4,ce.bulkAdd(ge,Ie)];case 3:D.sent(),D.label=4;case 4:return C.completedRows+=L.length,L.incomplete||(C.completedTables+=1),M.splice(0,L.length),[2]}})},I=0,se=c.data,ne.label=1;case 1:return I<se.length?(E=se[I],[5,T(E)]):[3,4];case 2:if(ee=ne.sent(),ee==="break")return[3,4];ne.label=3;case 3:return I++,[3,1];case 4:for(;c.data.length>0&&c.data[0].rows&&!c.data[0].rows.incomplete;)c.data.splice(0,1);return!s.done()&&!s.eof()?u?(s.pullSync(r),[3,7]):[3,5]:[3,8];case 5:return[4,gt.waitFor(s.pullAsync(r))];case 6:ne.sent(),ne.label=7;case 7:return[3,9];case 8:return[3,10];case 9:return[3,0];case 10:return[2]}})})}var r,s,a,u,c,p,C,v,H,x;return Nt(this,function(T){switch(T.label){case 0:return n=n||{},r=n.chunkSizeBytes||Ns*1024,[4,Fs(e,r)];case 1:if(s=T.sent(),a=s.result,u="FileReaderSync"in self,c=a.data,!n.acceptNameDiff&&t.name!==c.databaseName)throw new Error("Name differs. Current database name is "+t.name+" but export is "+c.databaseName);if(!n.acceptVersionDiff&&t.verno!==c.databaseVersion)throw new Error("Database version differs. Current database is in version "+t.verno+" but export is "+c.databaseVersion);if(p=n.progressCallback,C={done:!1,completedRows:0,completedTables:0,totalRows:c.tables.reduce(function(I,se){return I+se.rowCount},0),totalTables:c.tables.length},p&&gt.ignoreTransaction(function(){return p(C)}),!n.clearTablesBeforeImport)return[3,5];v=0,H=t.tables,T.label=2;case 2:return v<H.length?(x=H[v],[4,x.clear()]):[3,5];case 3:T.sent(),T.label=4;case 4:return v++,[3,2];case 5:return n.noTransaction?[4,o()]:[3,7];case 6:return T.sent(),[3,9];case 7:return[4,t.transaction("rw",t.tables,o)];case 8:T.sent(),T.label=9;case 9:return C.done=!0,p&&gt.ignoreTransaction(function(){return p(C)}),[2]}})})}function Fs(t,e){return tn(this,void 0,void 0,function(){var n,o;return Nt(this,function(r){switch(r.label){case 0:n="slice"in t?Cd(t):t,r.label=1;case 1:return n.eof()?[3,3]:[4,n.pullAsync(e)];case 2:return r.sent(),n.result.data&&n.result.data.data?[3,3]:[3,1];case 3:if(o=n.result,!o||o.formatName!="dexie")throw new Error("Given file is not a dexie export");if(o.formatVersion>yd)throw new Error("Format version "+o.formatVersion+" not supported");if(!o.data)throw new Error("No data in export file");if(!o.data.databaseName)throw new Error("Missing databaseName in export file");if(!o.data.databaseVersion)throw new Error("Missing databaseVersion in export file");if(!o.data.tables)throw new Error("Missing tables in export file");return[2,n]}})})}gt.prototype.export=function(t){return vd(this,t)};gt.prototype.import=function(t,e){return Rs(this,t,e)};gt.import=function(t,e){return $d(t,e)};const Rt=new gt("wavemakerv4"),kd={Settings:"uuid, settings, lastupdated",Writer:"uuid, title, description, files, lastupdated",Cards:"uuid, title,description,content,style,labels,options,lastupdated",Files:"uuid, writerid, title, content, lastupdated",Snowflake:"uuid, title, description,content,lastupdated",Timeline:"uuid, title, description,content,lastupdated",Gridplanner:"uuid, title, description,content,lastupdated",Mindmap:"uuid, title, description,content,lastupdated",ImageLibrary:"uuid, title, base64"};Rt.version(1).stores(kd);const xd=async t=>{await Rt.import(t,{clearTablesBeforeImport:!0})},Hd=async()=>await Rt.export();var ps;const Ad=typeof window<"u";Ad&&((ps=window==null?void 0:window.navigator)!=null&&ps.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Vd(t){return $l()?(kl(t),!0):!1}function gn(t,e){const n=pt(e==null?void 0:e.initialValue),o=t.subscribe({next:r=>n.value=r,error:e==null?void 0:e.onError});return Vd(()=>{o.unsubscribe()}),n}const Md={data(){return{db:Rt,useObservable:gn,liveQuery:fn,databaseImport:xd,databaseExport:Hd,windowID:null}},methods:{async getImage(t){return await this.$root.db.ImageLibrary.get(t)},async AddRecord(t,e){return e.lastupdated=Date.now(),await this.db[t].add(e)},async UpdateRecord(t,e,n){return n.uuid=e,n.lastupdated=Date.now(),await this.db[t].put(JSON.parse(JSON.stringify(n)))},async DeleteRecord(t,e){return await this.db[t].delete(e)},clearDatabase(){this.$root.db.Settings.clear(),this.$root.db.Writer.clear(),this.$root.db.Cards.clear(),this.$root.db.Files.clear(),this.$root.db.Mindmap.clear(),this.$root.db.ImageLibrary.clear(),this.$root.db.Gridplanner.clear(),this.$root.db.Snowflake.clear(),this.$root.db.Timeline.clear()},async getSettings(t){t||(t=(await this.$root.db.Settings.toArray())[0].uuid),this.$root.session.settings=this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Settings.get(t)))},async closeProject(){this.$swal({title:"Are you sure?",text:"This will close the project and clear the database!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, close it!"}).then(t=>{t.isConfirmed&&(window.removeEventListener("beforeunload",this.$root.unloadEvent),this.$root.session={},this.$root.popup={},this.$root.dbloaded=!1,this.$root.clearDatabase(),this.$swal("Project Closed!","Your file has been closed.","success"))})}},beforeMount(){this.windowID=this.uuid()}},Sd={data(){return{SettingsTemplate:{documentprefs:{align:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-align")),fontsize:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-fontsize")),lspacing:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-lspacing")),indentation:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-indentation")),pspacing:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-pspacing")),page:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-page")),font:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-font")),color:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-color")),bgcolor:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-bgcolor")),h1align:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-h1align")),h2align:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-h2align")),h3align:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-h3align")),h4align:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-h4align")),distractionfree_font:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--distractionfree-font")),distractionfree_bg:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--distractionfree-bg")),distractionfree_fg:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--distractionfree-fg")),typesound:!1,caretfocus:!1}}}},methods:{dotrim(t){return t[0]===" "&&(t=t.substring(1)),t},makeNewCard(t){let e=this.$root.uuid();t&&(e=t);let n={};n.uuid=e,n.projectID=this.$root.$data.session.selectedProject,n.title="",n.description="",n.showdesc=!1,n.content="",n.labels=[],n.images=[],n.style="",n.options={},n.color="--card1",this.$root.AddRecord("Cards",n),this.$root.$data.session.EditCard=n.uuid}}},Td={data(){return{GoogleDriveApi:{CLIENT_ID:"451112835343-dfdk5iglpkorfmt3ouu5puogmvmvn22p.apps.googleusercontent.com",API_KEY:"AIzaSyAq4C0VCC3I88n7GdW1VilDmcZdYle-UoU",DISCOVERY_DOC:"https://www.googleapis.com/discovery/v1/apis/drive/v3/rest",SCOPES:"https://www.googleapis.com/auth/drive.file",gapiInited:!1,gisInited:!1,tokenClient:null,loggedin:!1,files:[],CURRENT_FILE_OBJ:null,CURRENT_FILE_NAME:"",CURRENT_FILE_CONTENTS:"",loading:!1}}},methods:{async GoogleDriveInitializeGapi(){await window.gapi.client.init({apiKey:this.GoogleDriveApi.API_KEY,discoveryDocs:[this.GoogleDriveApi.DISCOVERY_DOC]}),this.GoogleDriveApi.gapiInited=!0,this.GoogleDriveCheckAuthStatus()},async GoogleDrivegisLoaded(){this.GoogleDriveApi.tokenClient=window.google.accounts.oauth2.initTokenClient({client_id:this.GoogleDriveApi.CLIENT_ID,scope:this.GoogleDriveApi.SCOPES,callback:""}),this.GoogleDriveApi.gisInited=!0,this.GoogleDriveCheckAuthStatus()},GoogleDriveCheckAuthStatus(){this.GoogleDriveApi.gapiInited&&this.GoogleDriveApi.gisInited&&this.GoogleDriveAuthStart()},async GoogleDriveAuthStart(){this.GoogleDriveApi.tokenClient.callback=t=>{if(t.error!==void 0)throw t;this.GoogleDriveApi.loggedin=!0,this.GoogleDriveListFiles()},window.gapi.client.getToken()===null?this.GoogleDriveApi.tokenClient.requestAccessToken({prompt:"consent"}):this.GoogleDriveApi.tokenClient.requestAccessToken({prompt:""})},GoogleDriveSignOut(){const t=window.gapi.client.getToken();t!==null&&(window.google.accounts.oauth2.revoke(t.access_token),window.gapi.client.setToken(""),this.GoogleDriveApi.loggedin=!1,this.$root.$data.popup.name=null)},async GoogleDriveListFiles(){this.GoogleDriveApi.searching=!0;let t;try{t=await window.gapi.client.drive.files.list({pageSize:10,fields:"files(id, name, size,  modifiedTime)",q:"name contains '.wm4'"})}catch{return}const e=t.result.files;!e||e.length==0||(this.GoogleDriveApi.files=e,this.GoogleDriveApi.searching=!1)},GoogleDriveReadFile(){var t=window.gapi.client.drive.files.get({fileId:this.GoogleDriveApi.CURRENT_FILE_OBJ.id,alt:"media"});return t.then(async e=>{const n=new Blob([e.body],{type:"text/json;charset=utf-8"});await this.$root.databaseImport(n),this.$root.getSettings()},function(e){console.error(e)}),this.$root.$data.popup.name=null,t},async GoogleDriveWriteFile(t){this.GoogleDriveApi.loading=!0,this.GoogleDriveApi.CURRENT_FILE_NAME=this.$root.session.settings.ProjectName;let n=await(await this.$root.databaseExport()).text();var o="";this.GoogleDriveApi.CURRENT_FILE_OBJ&&(o=this.GoogleDriveApi.CURRENT_FILE_OBJ.id);const r="-------314159265358979323846",s=`\r
--`+r+`\r
`,a=`\r
--`+r+"--",u="application/json";var c={name:this.GoogleDriveApi.CURRENT_FILE_NAME+".wm4",mimeType:u},p=s+`Content-Type: application/json\r
\r
`+JSON.stringify(c)+s+"Content-Type: "+u+`\r
\r
`+n+a,C;o==""?C=window.gapi.client.request({path:"/upload/drive/v3/files",method:"POST",params:{uploadType:"multipart"},headers:{"Content-Type":'multipart/related; boundary="'+r+'"'},body:p}):C=window.gapi.client.request({path:"/upload/drive/v3/files/"+o,method:"PATCH",params:{uploadType:"multipart"},headers:{"Content-Type":'multipart/related; boundary="'+r+'"'},body:p}),t||(t=v=>{this.GoogleDriveApi.CURRENT_FILE_OBJ,this.GoogleDriveApi.CURRENT_FILE_OBJ=v,this.GoogleDriveApi.loading=!1,this.$root.$data.popup.name=null}),C.execute(t)},GoogleDriveSignIn(){window.gapi.load("client",this.GoogleDriveInitializeGapi),this.GoogleDrivegisLoaded()}}},He=(t,e)=>{const n=t.__vccOpts||t;for(const[o,r]of e)n[o]=r;return n},Ed={name:"ApiForm",methods:{async get(){let t=await this.$root.api_get();console.log("GET -> ",t)},async set(){let t=await this.$root.api_set();console.log("SET -> ",t)}}},Bd={key:0},Id={key:1,class:"wavemakerForm"},Dd={key:0},_d={key:1};function Pd(t,e,n,o,r,s){return f(),y(re,null,[t.$root.$data.api_credentials.loading?(f(),y("div",Bd,[...e[6]||(e[6]=[i("svg",{class:"wavemakerLoadingIcon",version:"1.1",id:"L9",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 100","enable-background":"new 0 0 0 0","xml:space":"preserve"},[i("path",{d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50"},[i("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})])],-1)])])):V("",!0),t.$root.$data.api_credentials.loading?V("",!0):(f(),y("div",Id,[t.$root.$data.api_credentials.loggedin?V("",!0):(f(),y("div",Dd,[e[7]||(e[7]=i("h1",null,"Log In",-1)),e[8]||(e[8]=i("label",null,"email",-1)),ue(i("input",{type:"email","onUpdate:modelValue":e[0]||(e[0]=a=>t.$root.$data.api_credentials.email=a),class:"formInput"},null,512),[[Ve,t.$root.$data.api_credentials.email]]),e[9]||(e[9]=i("label",null,"Password",-1)),ue(i("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=a=>t.$root.$data.api_credentials.password=a),class:"formInput"},null,512),[[Ve,t.$root.$data.api_credentials.password]]),i("button",{onClick:e[2]||(e[2]=a=>t.$root.api_login()),class:"formButton"},"Log IN"),i("div",null,k(t.$root.$data.api_credentials.error),1)])),t.$root.$data.api_credentials.loggedin?(f(),y("div",_d,[i("button",{onClick:e[3]||(e[3]=a=>t.$root.api_logout()),class:"formButton"},"Log Out"),i("button",{onClick:e[4]||(e[4]=a=>s.get()),class:"formButton"},"Get File"),i("button",{onClick:e[5]||(e[5]=a=>s.set()),class:"formButton"},"Set File")])):V("",!0)]))],64)}const Od=He(Ed,[["render",Pd]]);function js(){const t=pt(new Set),e=pt(!1),n=["Roboto","Open Sans","Lato","Montserrat","Raleway","Poppins","Nunito","Playfair Display","Merriweather","Source Sans Pro","Quicksand","Oswald","Ubuntu","Crimson Text","Libre Baskerville","PT Sans","Noto Sans","Inter","Fira Sans","Work Sans","Barlow","DM Sans","Mulish","Rubik","Special Elite","Courier Prime","Anonymous Pro","Inconsolata","Source Code Pro","JetBrains Mono","Fira Code","IBM Plex Mono","Roboto Mono","Space Mono"],o=["Arial","Helvetica","Times","Times New Roman","Georgia","Verdana","Courier","Courier New","sans-serif","serif","monospace","cursive","fantasy"],r=v=>{const H=v.replace(/['"]/g,"").trim().toLowerCase();return o.some(x=>H.includes(x.toLowerCase()))},s=v=>{const H=v.replace(/['"]/g,"").trim();return n.some(x=>H.toLowerCase().includes(x.toLowerCase()))},a=v=>v.replace(/['"]/g,"").trim().replace(/\s+/g,"+"),u=(v,H={})=>new Promise((x,T)=>{if(!v||r(v)){x("System font, no loading needed");return}const I=a(v),se=`google-font-${I.toLowerCase()}`;if(t.value.has(I)||document.getElementById(se)){x("Font already loaded");return}e.value=!0;const{weights:E="300;400;500;600;700",subsets:ee="",display:ne="swap"}=H;let ae=`https://fonts.googleapis.com/css2?family=${I}:wght@${E}`;if(ee&&(ae+=`&subset=${ee}`),ae+=`&display=${ne}`,!document.querySelector('link[href="https://fonts.googleapis.com"]')){const ce=document.createElement("link");ce.rel="preconnect",ce.href="https://fonts.googleapis.com",document.head.appendChild(ce);const _=document.createElement("link");_.rel="preconnect",_.href="https://fonts.gstatic.com",_.crossOrigin="anonymous",document.head.appendChild(_)}const q=document.createElement("link");q.rel="stylesheet",q.href=ae,q.id=se,q.onload=()=>{t.value.add(I),e.value=!1,console.log(` Google Font loaded: ${v}`),x(`Font loaded: ${v}`)},q.onerror=()=>{e.value=!1,console.warn(` Failed to load Google Font: ${v}`),T(new Error(`Failed to load font: ${v}`))},document.head.appendChild(q)}),c=async v=>{const H=v.map(x=>u(x));return Promise.allSettled(H)},p=v=>{const H=a(v),x=`google-font-${H.toLowerCase()}`,T=document.getElementById(x);T&&(T.remove(),t.value.delete(H),console.log(`Font removed: ${v}`))},C=v=>{if(!v)return n.slice(0,10);const H=v.toLowerCase();return n.filter(x=>x.toLowerCase().includes(H)).slice(0,10)};return{loadedFonts:t.value,isLoading:e,loadGoogleFont:u,preloadFonts:c,removeFontFromDOM:p,getFontSuggestions:C,isSystemFont:r,isGoogleFont:s,popularGoogleFonts:n,systemFonts:o}}const Nd={name:"SettingsPopup",setup(){const{getFontSuggestions:t,loadGoogleFont:e,popularGoogleFonts:n}=js();return{getFontSuggestions:t,loadGoogleFont:e,popularGoogleFonts:n}},data(){return{themes:!1,lang:!1,fontQuery:"",filteredFonts:[],distractionFreeFontQuery:"",filteredDistractionFreeFonts:[]}},computed:{currentFontSuggestions(){return this.getFontSuggestions(this.fontQuery)}},methods:{onFontInput(t){this.fontQuery=t.target.value,this.filteredFonts=this.getFontSuggestions(this.fontQuery)},async handleFontChange(){try{await this.loadGoogleFont(this.$root.session.settings.documentprefs.font),this.updateSettings()}catch(t){console.warn("Font loading failed:",t),this.updateSettings()}},onDistractionFreeFontInput(t){this.distractionFreeFontQuery=t.target.value,this.filteredDistractionFreeFonts=this.getFontSuggestions(this.distractionFreeFontQuery)},async handleDistractionFreeFontChange(){try{await this.loadGoogleFont(this.$root.session.settings.documentprefs.distractionfree_font),this.updateSettings()}catch(t){console.warn("Distraction-free font loading failed:",t),this.updateSettings()}},setTheme(t){this.$root.theme=t,this.$root.switchTheme(),this.themes=!1},language(t){this.$root.lang=t,this.$root.switchLang(),this.lang=!1},resetSettings(){this.$root.session.settings.documentprefs=JSON.parse(JSON.stringify(this.$root.SettingsTemplate.documentprefs)),this.updateSettings()},updateSettings(){document.documentElement.style.setProperty("--pageEditor-align",this.$root.session.settings.documentprefs.align),document.documentElement.style.setProperty("--pageEditor-fontsize",this.$root.session.settings.documentprefs.fontsize),document.documentElement.style.setProperty("--pageEditor-lspacing",this.$root.session.settings.documentprefs.lspacing),document.documentElement.style.setProperty("--pageEditor-indentation",this.$root.session.settings.documentprefs.indentation),document.documentElement.style.setProperty("--pageEditor-pspacing",this.$root.session.settings.documentprefs.pspacing),document.documentElement.style.setProperty("--pageEditor-page",this.$root.session.settings.documentprefs.page),document.documentElement.style.setProperty("--pageEditor-font",this.$root.session.settings.documentprefs.font),document.documentElement.style.setProperty("--pageEditor-color",this.$root.session.settings.documentprefs.color),document.documentElement.style.setProperty("--pageEditor-bgcolor",this.$root.session.settings.documentprefs.bgcolor),document.documentElement.style.setProperty("--pageEditor-h1align",this.$root.session.settings.documentprefs.h1align),document.documentElement.style.setProperty("--pageEditor-h2align",this.$root.session.settings.documentprefs.h2align),document.documentElement.style.setProperty("--pageEditor-h3align",this.$root.session.settings.documentprefs.h3align),document.documentElement.style.setProperty("--pageEditor-h4align",this.$root.session.settings.documentprefs.h4align),document.documentElement.style.setProperty("--distractionfree-font",this.$root.session.settings.documentprefs.distractionfree_font),document.documentElement.style.setProperty("--distractionfree-fg",this.$root.session.settings.documentprefs.distractionfree_fg),document.documentElement.style.setProperty("--distractionfree-bg",this.$root.session.settings.documentprefs.distractionfree_bg),this.$root.UpdateRecord("Settings",this.$root.session.settings.uuid,this.$root.session.settings)}},mounted(){console.log(this.$root.session.settings.documentprefs),this.filteredFonts=this.popularGoogleFonts.slice(0,15),this.filteredDistractionFreeFonts=this.popularGoogleFonts.slice(0,15)}},Rd={style:{"text-align":"left"}},Fd={class:"container"},jd={class:"item item-center"},Ud={key:0,class:"dropdown"},zd=["onClick"],Wd={key:1,class:"dropdown"},Gd=["onClick"],qd={value:"left"},Zd={value:"center"},Kd={value:"right"},Yd={value:"justify"},Jd={value:"1rem"},Qd={value:"1.5rem"},Xd={value:"2rem"},eu={value:"3rem"},tu={value:"3.5rem"},nu={value:"3rem"},ou={value:"4rem"},iu={value:"5rem"},su={value:"6rem"},ru={value:"20px"},au={value:"0px"},lu={value:"20px"},du={value:"30px"},uu={value:"40px"},cu={value:"50px"},pu={value:"100px"},hu={value:"800px"},fu={value:"100%"},gu={id:"fonts"},mu=["value"],vu={value:"left"},yu={value:"center"},wu={value:"right"},bu={value:"justify"},Cu={value:"left"},Lu={value:"center"},$u={value:"right"},ku={value:"justify"},xu={value:"left"},Hu={value:"center"},Au={value:"right"},Vu={value:"justify"},Mu={value:"left"},Su={value:"center"},Tu={value:"right"},Eu={value:"justify"},Bu={id:"distractionfree-fonts"},Iu=["value"];function Du(t,e,n,o,r,s){return f(),y("div",Rd,[i("h1",null,k(this.$root.setlang.settings.title),1),i("div",Fd,[i("div",jd,[i("button",{class:"interfaceBtn fullw",onClick:e[0]||(e[0]=a=>r.themes=!r.themes),style:{"text-align":"left"}},[e[39]||(e[39]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2C17.5,2 22,6 22,11A6,6 0 0,1 16,17H14.2C13.9,17 13.7,17.2 13.7,17.5C13.7,17.6 13.8,17.7 13.8,17.8C14.2,18.3 14.4,18.9 14.4,19.5C14.5,20.9 13.4,22 12,22M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C12.3,20 12.5,19.8 12.5,19.5C12.5,19.3 12.4,19.2 12.4,19.1C12,18.6 11.8,18.1 11.8,17.5C11.8,16.1 12.9,15 14.3,15H16A4,4 0 0,0 20,11C20,7.1 16.4,4 12,4M6.5,10C7.3,10 8,10.7 8,11.5C8,12.3 7.3,13 6.5,13C5.7,13 5,12.3 5,11.5C5,10.7 5.7,10 6.5,10M9.5,6C10.3,6 11,6.7 11,7.5C11,8.3 10.3,9 9.5,9C8.7,9 8,8.3 8,7.5C8,6.7 8.7,6 9.5,6M14.5,6C15.3,6 16,6.7 16,7.5C16,8.3 15.3,9 14.5,9C13.7,9 13,8.3 13,7.5C13,6.7 13.7,6 14.5,6M17.5,10C18.3,10 19,10.7 19,11.5C19,12.3 18.3,13 17.5,13C16.7,13 16,12.3 16,11.5C16,10.7 16.7,10 17.5,10Z"})],-1)),ye(" "+k(this.$root.setlang.settings.themes),1)]),r.themes?(f(),y("div",Ud,[(f(!0),y(re,null,Pe(t.$root.themeList,(a,u)=>(f(),y("button",{class:"myoption",onClick:c=>s.setTheme(a.file),key:u},k(a.name),9,zd))),128))])):V("",!0),i("button",{class:"interfaceBtn fullw",onClick:e[1]||(e[1]=a=>r.lang=!r.lang),style:{"text-align":"left"}},[e[40]||(e[40]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M11 1H3C1.9 1 1 1.9 1 3V15L4 12H9V11C9 8.8 10.79 7 13 7V3C13 1.9 12.1 1 11 1M11 4L9.5 4C9.16 5.19 8.54 6.3 7.68 7.26L7.66 7.28L8.92 8.53L8.55 9.54L7 8L4.5 10.5L3.81 9.77L6.34 7.28C5.72 6.59 5.22 5.82 4.86 5H5.85C6.16 5.6 6.54 6.17 7 6.68C7.72 5.88 8.24 4.97 8.57 4L3 4V3H6.5V2H7.5V3H11V4M21 9H13C11.9 9 11 9.9 11 11V18C11 19.1 11.9 20 13 20H20L23 23V11C23 9.9 22.1 9 21 9M19.63 19L18.78 16.75H15.22L14.38 19H12.88L16.25 10H17.75L21.13 19H19.63M17 12L18.22 15.25H15.79L17 12Z"})],-1)),ye(" "+k(this.$root.setlang.settings.lang),1)]),r.lang?(f(),y("div",Wd,[(f(!0),y(re,null,Pe(Object.keys(this.$root.language),(a,u)=>(f(),y("button",{class:"myoption",key:u,onClick:c=>s.language(a)},k(this.$root.language[a].info.name),9,Gd))),128))])):V("",!0),e[42]||(e[42]=i("hr",null,null,-1)),i("h2",null,k(this.$root.setlang.settings.docprefs),1),i("label",null,k(this.$root.setlang.settings.alignment),1),ue(i("select",{class:"wavemaker-form","onUpdate:modelValue":e[2]||(e[2]=a=>this.$root.session.settings.documentprefs.align=a),onChange:e[3]||(e[3]=(...a)=>s.updateSettings&&s.updateSettings(...a))},[i("option",qd,k(this.$root.setlang.settings.alignL),1),i("option",Zd,k(this.$root.setlang.settings.alignC),1),i("option",Kd,k(this.$root.setlang.settings.alignR),1),i("option",Yd,k(this.$root.setlang.settings.alignJ),1)],544),[[Tt,this.$root.session.settings.documentprefs.align]]),i("label",null,k(this.$root.setlang.settings.fontsize),1),ue(i("select",{class:"wavemaker-form","onUpdate:modelValue":e[4]||(e[4]=a=>this.$root.session.settings.documentprefs.fontsize=a),onChange:e[5]||(e[5]=(...a)=>s.updateSettings&&s.updateSettings(...a))},[i("option",Jd,k(this.$root.setlang.settings.fontsize1),1),i("option",Qd,k(this.$root.setlang.settings.fontsize2),1),i("option",Xd,k(this.$root.setlang.settings.fontsize3),1),i("option",eu,k(this.$root.setlang.settings.fontsize4),1),i("option",tu,k(this.$root.setlang.settings.fontsize5),1)],544),[[Tt,this.$root.session.settings.documentprefs.fontsize]]),i("label",null,k(this.$root.setlang.settings.lineheight),1),ue(i("select",{class:"wavemaker-form","onUpdate:modelValue":e[6]||(e[6]=a=>this.$root.session.settings.documentprefs.lspacing=a),onChange:e[7]||(e[7]=(...a)=>s.updateSettings&&s.updateSettings(...a))},[i("option",nu,k(this.$root.setlang.settings.lineheight1),1),i("option",ou,k(this.$root.setlang.settings.lineheight2),1),i("option",iu,k(this.$root.setlang.settings.lineheight3),1),i("option",su,k(this.$root.setlang.settings.lineheight4),1)],544),[[Tt,this.$root.session.settings.documentprefs.lspacing]]),i("label",null,k(this.$root.setlang.settings.paragraph),1),ue(i("select",{class:"wavemaker-form","onUpdate:modelValue":e[8]||(e[8]=a=>this.$root.session.settings.documentprefs.indentation=a),onChange:e[9]||(e[9]=(...a)=>s.updateSettings&&s.updateSettings(...a))},[i("option",ru,k(this.$root.setlang.settings.paragraphyes),1),i("option",au,k(this.$root.setlang.settings.paragraphno),1)],544),[[Tt,this.$root.session.settings.documentprefs.indentation]]),i("label",null,k(this.$root.setlang.settings.paragraphspacing),1),ue(i("select",{class:"wavemaker-form","onUpdate:modelValue":e[10]||(e[10]=a=>this.$root.session.settings.documentprefs.pspacing=a),onChange:e[11]||(e[11]=(...a)=>s.updateSettings&&s.updateSettings(...a))},[i("option",lu,k(this.$root.setlang.settings.paragraphspacing1),1),i("option",du,k(this.$root.setlang.settings.paragraphspacing2),1),i("option",uu,k(this.$root.setlang.settings.paragraphspacing3),1),i("option",cu,k(this.$root.setlang.settings.paragraphspacing4),1),i("option",pu,k(this.$root.setlang.settings.paragraphspacing5),1)],544),[[Tt,this.$root.session.settings.documentprefs.pspacing]]),i("label",null,k(this.$root.setlang.settings.pagewidth),1),ue(i("select",{class:"wavemaker-form","onUpdate:modelValue":e[12]||(e[12]=a=>this.$root.session.settings.documentprefs.page=a),onChange:e[13]||(e[13]=(...a)=>s.updateSettings&&s.updateSettings(...a))},[i("option",hu,k(this.$root.setlang.settings.pagestyle),1),i("option",fu,k(this.$root.setlang.settings.fullwidth),1)],544),[[Tt,this.$root.session.settings.documentprefs.page]]),i("table",null,[i("tbody",null,[i("tr",null,[i("td",null,[i("label",null,k(this.$root.setlang.settings.pagetext),1),ue(i("input",{type:"color","onUpdate:modelValue":e[14]||(e[14]=a=>this.$root.session.settings.documentprefs.color=a),onChange:e[15]||(e[15]=(...a)=>s.updateSettings&&s.updateSettings(...a))},null,544),[[Ve,this.$root.session.settings.documentprefs.color]])]),i("td",null,[i("label",null,k(this.$root.setlang.settings.pagecolour),1),ue(i("input",{type:"color","onUpdate:modelValue":e[16]||(e[16]=a=>this.$root.session.settings.documentprefs.bgcolor=a),onChange:e[17]||(e[17]=(...a)=>s.updateSettings&&s.updateSettings(...a))},null,544),[[Ve,this.$root.session.settings.documentprefs.bgcolor]])])])])]),e[43]||(e[43]=i("label",null,"Choose Font",-1)),ue(i("input",{list:"fonts",class:"wavemaker-form","onUpdate:modelValue":e[18]||(e[18]=a=>this.$root.session.settings.documentprefs.font=a),onChange:e[19]||(e[19]=(...a)=>s.handleFontChange&&s.handleFontChange(...a)),onInput:e[20]||(e[20]=(...a)=>s.onFontInput&&s.onFontInput(...a)),placeholder:"Type to search Google Fonts..."},null,544),[[Ve,this.$root.session.settings.documentprefs.font]]),i("datalist",gu,[(f(!0),y(re,null,Pe(r.filteredFonts,a=>(f(),y("option",{key:a,value:a},k(a),9,mu))),128))]),i("label",null,k(this.$root.setlang.settings.h1align),1),ue(i("select",{class:"wavemaker-form","onUpdate:modelValue":e[21]||(e[21]=a=>this.$root.session.settings.documentprefs.h1align=a),onChange:e[22]||(e[22]=(...a)=>s.updateSettings&&s.updateSettings(...a))},[i("option",vu,k(this.$root.setlang.settings.alignL),1),i("option",yu,k(this.$root.setlang.settings.alignC),1),i("option",wu,k(this.$root.setlang.settings.alignR),1),i("option",bu,k(this.$root.setlang.settings.alignJ),1)],544),[[Tt,this.$root.session.settings.documentprefs.h1align]]),i("label",null,k(this.$root.setlang.settings.h2align),1),ue(i("select",{class:"wavemaker-form","onUpdate:modelValue":e[23]||(e[23]=a=>this.$root.session.settings.documentprefs.h2align=a),onChange:e[24]||(e[24]=(...a)=>s.updateSettings&&s.updateSettings(...a))},[i("option",Cu,k(this.$root.setlang.settings.alignL),1),i("option",Lu,k(this.$root.setlang.settings.alignC),1),i("option",$u,k(this.$root.setlang.settings.alignR),1),i("option",ku,k(this.$root.setlang.settings.alignJ),1)],544),[[Tt,this.$root.session.settings.documentprefs.h2align]]),i("label",null,k(this.$root.setlang.settings.h3align),1),ue(i("select",{class:"wavemaker-form","onUpdate:modelValue":e[25]||(e[25]=a=>this.$root.session.settings.documentprefs.h3align=a),onChange:e[26]||(e[26]=(...a)=>s.updateSettings&&s.updateSettings(...a))},[i("option",xu,k(this.$root.setlang.settings.alignL),1),i("option",Hu,k(this.$root.setlang.settings.alignC),1),i("option",Au,k(this.$root.setlang.settings.alignR),1),i("option",Vu,k(this.$root.setlang.settings.alignJ),1)],544),[[Tt,this.$root.session.settings.documentprefs.h3align]]),i("label",null,k(this.$root.setlang.settings.h4align),1),ue(i("select",{class:"wavemaker-form","onUpdate:modelValue":e[27]||(e[27]=a=>this.$root.session.settings.documentprefs.h4align=a),onChange:e[28]||(e[28]=(...a)=>s.updateSettings&&s.updateSettings(...a))},[i("option",Mu,k(this.$root.setlang.settings.alignL),1),i("option",Su,k(this.$root.setlang.settings.alignC),1),i("option",Tu,k(this.$root.setlang.settings.alignR),1),i("option",Eu,k(this.$root.setlang.settings.alignJ),1)],544),[[Tt,this.$root.session.settings.documentprefs.h4align]]),e[44]||(e[44]=i("hr",null,null,-1)),i("label",null,k(this.$root.setlang.settings.caretfocus),1),ue(i("input",{type:"checkbox","onUpdate:modelValue":e[29]||(e[29]=a=>this.$root.session.settings.documentprefs.caretfocus=a),style:{width:"20px",height:"20px"}},null,512),[[di,this.$root.session.settings.documentprefs.caretfocus]]),e[45]||(e[45]=i("hr",null,null,-1)),i("h2",null,k(this.$root.setlang.settings.typewriter),1),e[46]||(e[46]=i("label",null,"Distraction-Free Font",-1)),ue(i("input",{list:"distractionfree-fonts",class:"wavemaker-form","onUpdate:modelValue":e[30]||(e[30]=a=>this.$root.session.settings.documentprefs.distractionfree_font=a),onChange:e[31]||(e[31]=(...a)=>s.handleDistractionFreeFontChange&&s.handleDistractionFreeFontChange(...a)),onInput:e[32]||(e[32]=(...a)=>s.onDistractionFreeFontInput&&s.onDistractionFreeFontInput(...a)),placeholder:"Type to search Google Fonts..."},null,544),[[Ve,this.$root.session.settings.documentprefs.distractionfree_font]]),i("datalist",Bu,[(f(!0),y(re,null,Pe(r.filteredDistractionFreeFonts,a=>(f(),y("option",{key:a,value:a},k(a),9,Iu))),128))]),i("table",null,[i("tbody",null,[i("tr",null,[i("td",null,[i("label",null,k(this.$root.setlang.settings.typetext),1),ue(i("input",{type:"color","onUpdate:modelValue":e[33]||(e[33]=a=>this.$root.session.settings.documentprefs.distractionfree_fg=a),onChange:e[34]||(e[34]=(...a)=>s.updateSettings&&s.updateSettings(...a)),style:{width:"30px",height:"30px"}},null,544),[[Ve,this.$root.session.settings.documentprefs.distractionfree_fg]])]),i("td",null,[i("label",null,k(this.$root.setlang.settings.typepage),1),ue(i("input",{type:"color","onUpdate:modelValue":e[35]||(e[35]=a=>this.$root.session.settings.documentprefs.distractionfree_bg=a),onChange:e[36]||(e[36]=(...a)=>s.updateSettings&&s.updateSettings(...a)),style:{width:"30px",height:"30px"}},null,544),[[Ve,this.$root.session.settings.documentprefs.distractionfree_bg]])]),i("td",null,[i("label",null,k(this.$root.setlang.settings.typesound),1),ue(i("input",{type:"checkbox","onUpdate:modelValue":e[37]||(e[37]=a=>this.$root.session.settings.documentprefs.typesound=a),style:{width:"20px",height:"20px"}},null,512),[[di,this.$root.session.settings.documentprefs.typesound]])])])])]),e[47]||(e[47]=i("br",null,null,-1)),i("button",{onClick:e[38]||(e[38]=(...a)=>s.resetSettings&&s.resetSettings(...a)),class:"interfaceBtn"},[e[41]||(e[41]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M13.5 21H6V17H13.5C15.43 17 17 15.43 17 13.5S15.43 10 13.5 10H11V14L4 8L11 2V6H13.5C17.64 6 21 9.36 21 13.5S17.64 21 13.5 21Z"})],-1)),ye(" "+k(this.$root.setlang.settings.reset),1)])])]),e[48]||(e[48]=i("div",{style:{clear:"both"}},null,-1))])}const _u=He(Nd,[["render",Du],["__scopeId","data-v-387085ec"]]),Pu={name:"GoogleDrive",props:{msg:String},data(){return{tab:"load",searching:!1}},methods:{loggy(t){console.log(t)},openFile(t){this.$root.GoogleDriveApi.CURRENT_FILE_OBJ=t,this.$root.GoogleDriveApi.CURRENT_FILE_NAME=t.name,this.$root.GoogleDriveReadFile(),this.$root.popup.name=null}},async mounted(){this.$root.GoogleDriveApi.loggedin||await this.$root.GoogleDriveSignIn()}},Ou={key:1,style:{"text-align":"left"}},Nu={key:0},Ru={key:0,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Fu={key:1,version:"1.1",viewBox:"0 0 100 100",width:"24px",height:"24px"},ju={key:1},Uu=["onClick"],zu={class:"smalltext"},Wu={class:"smalltext"},Gu={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function qu(t,e,n,o,r,s){return f(),y(re,null,[t.$root.GoogleDriveApi.loggedin?V("",!0):(f(),y("button",{key:0,onClick:e[0]||(e[0]=a=>t.$root.GoogleDriveSignIn()),class:"interfaceBtn GoogleDrive"},[e[5]||(e[5]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M7.71,3.5L1.15,15L4.58,21L11.13,9.5M9.73,15L6.3,21H19.42L22.85,15M22.28,14L15.42,2H8.58L8.57,2L15.43,14H22.28Z"})],-1)),ye(" "+k(this.$root.setlang.google.info),1)])),t.$root.GoogleDriveApi.loggedin?(f(),y("div",Ou,[t.$root.session.settings?(f(),y("div",Nu,[i("h3",null,k(this.$root.setlang.google.saveinfo),1),i("h4",null,k(this.$root.session.settings.ProjectName),1),i("button",{onClick:e[1]||(e[1]=a=>t.$root.GoogleDriveWriteFile()),class:"interfaceBtn"},[e[6]||(e[6]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M13 19C13 19.34 13.04 19.67 13.09 20H6.5C5 20 3.69 19.5 2.61 18.43C1.54 17.38 1 16.09 1 14.58C1 13.28 1.39 12.12 2.17 11.1S4 9.43 5.25 9.15C5.67 7.62 6.5 6.38 7.75 5.43S10.42 4 12 4C13.95 4 15.6 4.68 16.96 6.04C18.32 7.4 19 9.05 19 11C20.15 11.13 21.1 11.63 21.86 12.5C22.37 13.07 22.7 13.71 22.86 14.42C21.82 13.54 20.5 13 19 13C15.69 13 13 15.69 13 19M16 18H18V22H20V18H22L19 15L16 18Z"})],-1)),ye(" "+k(this.$root.setlang.google.save),1)])])):V("",!0),i("h3",null,k(this.$root.setlang.google.files),1),i("div",null,[i("button",{onClick:e[2]||(e[2]=a=>{t.$root.GoogleDriveApi.files=[],t.$root.GoogleDriveListFiles()}),class:"interfaceBtn filebutton",style:{width:"auto"}},[t.$root.GoogleDriveApi.searching?V("",!0):(f(),y("svg",Ru,[...e[7]||(e[7]=[ye("> ",-1),i("path",{d:"M18 14.5C19.11 14.5 20.11 14.95 20.83 15.67L22 14.5V18.5H18L19.77 16.73C19.32 16.28 18.69 16 18 16C16.62 16 15.5 17.12 15.5 18.5C15.5 19.88 16.62 21 18 21C18.82 21 19.54 20.61 20 20H21.71C21.12 21.47 19.68 22.5 18 22.5C15.79 22.5 14 20.71 14 18.5C14 16.29 15.79 14.5 18 14.5M10 4L12 6H20C21.1 6 22 6.89 22 8V13C21 12.38 19.79 12 18.5 12C14.91 12 12 14.91 12 18.5C12 19 12.06 19.5 12.17 20H4C2.89 20 2 19.1 2 18L2 6C2 4.89 2.89 4 4 4H10Z"},null,-1)])])),t.$root.GoogleDriveApi.searching?(f(),y("svg",Fu,[...e[8]||(e[8]=[i("path",{d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50"},[i("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})],-1)])])):V("",!0),ye(" "+k(this.$root.setlang.google.search),1)])]),t.$root.GoogleDriveApi.files.length?(f(),y("div",ju,[(f(!0),y(re,null,Pe(t.$root.GoogleDriveApi.files,(a,u)=>(f(),y("div",{key:u},[i("button",{onClick:c=>s.openFile(a),class:"file"},[e[10]||(e[10]=Zn('<svg viewBox="0 0 24 24" data-v-b7d1eb81><defs id="defs8" data-v-b7d1eb81></defs><path id="path2" d="M20,18H4V8H20M20,6H12L10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6Z" data-v-b7d1eb81></path><path id="path3731" d="m 11.084747,9.8305089 h 7.186439 V 17.01695 h -7.186439 z" style="fill:none;stroke-width:0.29943502;" data-v-b7d1eb81></path><path id="path3733" d="m 17.021865,11.84974 -1.7835,-1.787036 c -0.308989,-0.3095941 -0.810692,-0.3095941 -1.119667,0 l -1.777381,1.783961 c -0.104021,0.104223 -0.104021,0.269733 0,0.373956 l 0.538408,0.539479 0.357918,0.334109 c 0.107067,0.09809 0.269211,0.09809 0.376277,0 l 0.718911,-0.665156 c 0.198848,-0.183903 0.501704,-0.183903 0.697492,0 l 0.71891,0.665156 c 0.107081,0.09809 0.269212,0.09809 0.376292,0 l 0.357932,-0.334109 0.538408,-0.536404 c 0.100961,-0.101162 0.100961,-0.269733 0,-0.373956 z" style="stroke-width:0.0139114;" data-v-b7d1eb81></path><path id="path3735" d="m 11.325657,13.986203 2.793041,2.798572 c 0.308975,0.309566 0.810678,0.309566 1.119667,0 l 2.79304,-2.798572 c 0.483359,-0.4843 0.143785,-0.62837 -0.211087,-0.965553 l -0.437475,-0.416863 c -0.103993,-0.101148 -0.269211,-0.09807 -0.376277,0 l -0.718897,0.665156 c -0.198876,0.183917 -0.501703,0.183917 -0.697506,0 l -0.71891,-0.665156 c -0.106323,-0.09807 -0.269954,-0.09807 -0.376292,0 l -0.71891,0.665156 c -0.198848,0.183917 -0.501704,0.183917 -0.697492,0 l -0.718911,-0.665156 c -0.106336,-0.09807 -0.269955,-0.09807 -0.376292,0 l -0.403815,0.373969 c -0.37013,0.343305 -0.758647,0.499618 -0.253884,1.008447 z" style="stroke-width:0.0139114;" data-v-b7d1eb81></path></svg>',1)),i("div",null,[i("strong",null,k(a.name),1),e[9]||(e[9]=ye()),i("span",zu,"("+k(a.size+"bytes")+")",1)]),i("div",Wu,k(a.modifiedTime),1)],8,Uu)]))),128))])):V("",!0),i("div",null,[e[13]||(e[13]=i("hr",null,null,-1)),i("button",{onClick:e[3]||(e[3]=(...a)=>t.$root.GoogleDriveSignOut&&t.$root.GoogleDriveSignOut(...a)),class:"interfaceBtn filebutton",style:{width:"auto",display:"inline-block"}},[e[11]||(e[11]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M10 4A4 4 0 0 0 6 8A4 4 0 0 0 10 12A4 4 0 0 0 14 8A4 4 0 0 0 10 4M17.5 13C15 13 13 15 13 17.5C13 20 15 22 17.5 22C20 22 22 20 22 17.5C22 15 20 13 17.5 13M10 14C5.58 14 2 15.79 2 18V20H11.5A6.5 6.5 0 0 1 11 17.5A6.5 6.5 0 0 1 11.95 14.14C11.32 14.06 10.68 14 10 14M17.5 14.5C19.16 14.5 20.5 15.84 20.5 17.5C20.5 18.06 20.35 18.58 20.08 19L16 14.92C16.42 14.65 16.94 14.5 17.5 14.5M14.92 16L19 20.08C18.58 20.35 18.06 20.5 17.5 20.5C15.84 20.5 14.5 19.16 14.5 17.5C14.5 16.94 14.65 16.42 14.92 16Z"})],-1)),ye(" "+k(this.$root.setlang.google.logout),1)]),i("button",{class:"interfaceBtn filebutton logout",onClick:e[4]||(e[4]=a=>t.$root.popup.name=null)},[(f(),y("svg",Gu,[...e[12]||(e[12]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])])),ye(" "+k(this.$root.setlang.google.close),1)])])])):V("",!0)],64)}const Zu=He(Pu,[["render",qu],["__scopeId","data-v-b7d1eb81"]]),Ku={name:"SettingsPopup",data(){return{showkey:!1,question:null,response:null,apikey:null,maxtokens:50,loading:!1,responsetext:""}},methods:{saveKey(){localStorage.setItem("ChatGPKey",this.apikey)},sendRequest(){this.loading=!0;var t=new FormData;t.append("apikey",this.apikey),t.append("question",this.question),t.append("maxtokens",this.maxtokens),fetch("https://wavemaker.co.uk/ai/index.php",{method:"POST",cache:"no-cache",body:t}).then(e=>{if(e.status!==200){console.log("Looks like there was a problem. Status Code: "+e.status),this.loading=!1;return}e.text().then(n=>{let o=JSON.parse(n);this.response=o.choices,this.response.forEach(r=>{this.responsetext=this.responsetext+r.text+`
`}),this.loading=!1,console.log(" >>>>>>>>>",n)})})}},mounted(){localStorage.getItem("ChatGPKey")&&(this.apikey=localStorage.getItem("ChatGPKey"))}},Yu={style:{"text-align":"left"}},Ju={style:{height:"2em"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","data-v-65511fdb":""},Qu={class:"container"},Xu={class:"item item-center"},e1={key:0},t1={key:0},n1={key:1,style:{width:"100%"}},o1={style:{width:"75%"}},i1={key:2},s1={key:0},r1={key:1},a1={class:"loader"},l1={style:{"max-width":"150px",margin:"0 auto"},version:"1.1",id:"L7",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 100","enable-background":"new 0 0 100 100","xml:space":"preserve"};function d1(t,e,n,o,r,s){return f(),y("div",Yu,[i("h1",null,[(f(),y("svg",Ju,[...e[7]||(e[7]=[i("title",{"data-v-65511fdb":""},"robot",-1),i("path",{d:"M12,2A2,2 0 0,1 14,4C14,4.74 13.6,5.39 13,5.73V7H14A7,7 0 0,1 21,14H22A1,1 0 0,1 23,15V18A1,1 0 0,1 22,19H21V20A2,2 0 0,1 19,22H5A2,2 0 0,1 3,20V19H2A1,1 0 0,1 1,18V15A1,1 0 0,1 2,14H3A7,7 0 0,1 10,7H11V5.73C10.4,5.39 10,4.74 10,4A2,2 0 0,1 12,2M7.5,13A2.5,2.5 0 0,0 5,15.5A2.5,2.5 0 0,0 7.5,18A2.5,2.5 0 0,0 10,15.5A2.5,2.5 0 0,0 7.5,13M16.5,13A2.5,2.5 0 0,0 14,15.5A2.5,2.5 0 0,0 16.5,18A2.5,2.5 0 0,0 19,15.5A2.5,2.5 0 0,0 16.5,13Z","data-v-65511fdb":""},null,-1)])])),e[8]||(e[8]=ye(" OpenAI Assistant (botty)",-1))]),i("div",Qu,[i("div",Xu,[r.loading?V("",!0):(f(),y("div",e1,[r.apikey?V("",!0):(f(),y("div",t1,[...e[9]||(e[9]=[ye(" You need to provide an API Key - need help? look here ",-1),i("a",{href:"https://wavemaker.co.uk/blog/getting-started-with-the-open-ai-bot/",target:"_blank"},"Click Here for info",-1),ye(),i("br",null,null,-1),i("br",null,null,-1)])])),i("button",{class:"interfaceBtn",onClick:e[0]||(e[0]=a=>r.showkey=!r.showkey)},[...e[10]||(e[10]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[i("title",null,"key"),i("path",{d:"M7 14C5.9 14 5 13.1 5 12S5.9 10 7 10 9 10.9 9 12 8.1 14 7 14M12.6 10C11.8 7.7 9.6 6 7 6C3.7 6 1 8.7 1 12S3.7 18 7 18C9.6 18 11.8 16.3 12.6 14H16V18H20V14H23V10H12.6Z"})],-1),ye(" Show OpenAi Api Key",-1)])]),r.showkey?(f(),y("table",n1,[i("tbody",null,[i("tr",null,[i("td",o1,[ue(i("input",{style:{width:"100%"},class:"formInput",type:"text","onUpdate:modelValue":e[1]||(e[1]=a=>r.apikey=a)},null,512),[[Ve,r.apikey]])]),i("td",null,[i("button",{class:"interfaceBtn",style:{width:"100%"},onClick:e[2]||(e[2]=a=>s.saveKey())},[...e[11]||(e[11]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[i("title",null,"content-save"),i("path",{d:"M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z"})],-1),ye(" Save",-1)])])])])])])):V("",!0),r.apikey?(f(),y("div",i1,[e[13]||(e[13]=i("h1",null,"How can I help you today?",-1)),ue(i("textarea",{style:{height:"auto"},class:"formInput",type:"text","onUpdate:modelValue":e[3]||(e[3]=a=>r.question=a),rows:"4"},null,512),[[Ve,r.question]]),e[14]||(e[14]=i("label",null,"Set a token limit for this request",-1)),ue(i("input",{type:"number",class:"formInput","onUpdate:modelValue":e[4]||(e[4]=a=>r.maxtokens=a)},null,512),[[Ve,r.maxtokens]]),i("button",{class:"interfaceBtn",onClick:e[5]||(e[5]=a=>s.sendRequest())},[...e[12]||(e[12]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[i("title",null,"robot-happy"),i("path",{d:"M22 14H21C21 10.13 17.87 7 14 7H13V5.73C13.6 5.39 14 4.74 14 4C14 2.9 13.11 2 12 2S10 2.9 10 4C10 4.74 10.4 5.39 11 5.73V7H10C6.13 7 3 10.13 3 14H2C1.45 14 1 14.45 1 15V18C1 18.55 1.45 19 2 19H3V20C3 21.11 3.9 22 5 22H19C20.11 22 21 21.11 21 20V19H22C22.55 19 23 18.55 23 18V15C23 14.45 22.55 14 22 14M9.79 16.5C9.4 15.62 8.53 15 7.5 15S5.6 15.62 5.21 16.5C5.08 16.19 5 15.86 5 15.5C5 14.12 6.12 13 7.5 13S10 14.12 10 15.5C10 15.86 9.92 16.19 9.79 16.5M18.79 16.5C18.4 15.62 17.5 15 16.5 15S14.6 15.62 14.21 16.5C14.08 16.19 14 15.86 14 15.5C14 14.12 15.12 13 16.5 13S19 14.12 19 15.5C19 15.86 18.92 16.19 18.79 16.5Z"})],-1),ye(" Send Request",-1)])]),i("div",null,[r.responsetext?(f(),y("div",s1,[ue(i("textarea",{style:{height:"auto"},class:"formInput",type:"text","onUpdate:modelValue":e[6]||(e[6]=a=>r.responsetext=a),rows:"8"},null,512),[[Ve,r.responsetext]])])):V("",!0)])])):V("",!0)])),r.loading?(f(),y("div",r1,[i("div",a1,[(f(),y("svg",l1,[...e[15]||(e[15]=[Zn(`<path fill="#fff" d="M31.6,3.5C5.9,13.6-6.6,42.7,3.5,68.4c10.1,25.7,39.2,38.3,64.9,28.1l-3.1-7.9c-21.3,8.4-45.4-2-53.8-23.3\r
  c-8.4-21.3,2-45.4,23.3-53.8L31.6,3.5z" data-v-2111268f><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="2s" from="0 50 50" to="360 50 50" repeatCount="indefinite" data-v-2111268f></animateTransform></path><path fill="#fff" d="M42.3,39.6c5.7-4.3,13.9-3.1,18.1,2.7c4.3,5.7,3.1,13.9-2.7,18.1l4.1,5.5c8.8-6.5,10.6-19,4.1-27.7\r
  c-6.5-8.8-19-10.6-27.7-4.1L42.3,39.6z" data-v-2111268f><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" from="0 50 50" to="-360 50 50" repeatCount="indefinite" data-v-2111268f></animateTransform></path><path fill="#fff" d="M82,35.7C74.1,18,53.4,10.1,35.7,18S10.1,46.6,18,64.3l7.6-3.4c-6-13.5,0-29.3,13.5-35.3s29.3,0,35.3,13.5\r
  L82,35.7z" data-v-2111268f><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="2s" from="0 50 50" to="360 50 50" repeatCount="indefinite" data-v-2111268f></animateTransform></path>`,3)])])),e[16]||(e[16]=i("h3",null," Open Ai is doing it's thing ",-1))])])):V("",!0)])])])}const u1=He(Ku,[["render",d1],["__scopeId","data-v-2111268f"]]),c1={name:"PopupManager",components:{ApiForm:Od,SettingsPopup:_u,GoogleDrive:Zu,AiHelp:u1}},p1={key:0,class:"wavemakerPopup",style:{"text-align":"center"}},h1={style:{"text-align":"right"}},f1={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function g1(t,e,n,o,r,s){const a=te("ApiForm"),u=te("SettingsPopup"),c=te("GoogleDrive"),p=te("AiHelp");return f(),y(re,null,[t.$root.$data.popup.name?(f(),y("div",{key:0,class:"wavemakerPopupBlackout",onClick:e[0]||(e[0]=C=>t.$root.$data.popup.name=null)})):V("",!0),De(Kn,{name:"bounce"},{default:wt(()=>[t.$root.$data.popup.name?(f(),y("div",p1,[i("div",h1,[i("button",{class:"clearInterfaceIconButton",onClick:e[1]||(e[1]=C=>t.$root.$data.popup.name=null)},[(f(),y("svg",f1,[...e[2]||(e[2]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])]))])]),t.$root.$data.popup.name==="ApiForm"?(f(),Be(a,{key:0})):V("",!0),t.$root.$data.popup.name==="SettingsPopup"?(f(),Be(u,{key:1})):V("",!0),t.$root.$data.popup.name==="GoogleDrive"?(f(),Be(c,{key:2})):V("",!0),t.$root.$data.popup.name==="AiHelp"?(f(),Be(p,{key:3})):V("",!0)])):V("",!0)]),_:1})],64)}const m1=He(c1,[["render",g1]]);function Ai(){const t=pt(!1),e=pt(!1),n=pt(!1),o=pt(null);let r=null;const s={INSTALL_PROMPT_SHOWN:"pwa_install_prompt_shown",UPDATE_PROMPT_SHOWN:"pwa_update_prompt_shown",OFFLINE_PROMPT_SHOWN:"pwa_offline_prompt_shown"},a=E=>sessionStorage.getItem(E)==="true",u=E=>{sessionStorage.setItem(E,"true")},c=E=>{E.preventDefault(),o.value=E,a(s.INSTALL_PROMPT_SHOWN)||(n.value=!0)},p=async()=>{if(!o.value)return;const E=await o.value.prompt();console.log("Install prompt result:",E),o.value=null,n.value=!1,u(s.INSTALL_PROMPT_SHOWN)},C=()=>{o.value=null,n.value=!1,console.log("PWA was installed")},v=async()=>{try{if(r)console.log("Updating service worker via updateSW..."),await r(!0);else if(console.log("updateSW not available, trying alternative update method..."),"serviceWorker"in navigator){const E=await navigator.serviceWorker.ready;await E.update(),E.waiting?(console.log("Found waiting service worker, activating..."),E.waiting.postMessage({type:"SKIP_WAITING"}),navigator.serviceWorker.addEventListener("controllerchange",()=>{console.log("Controller changed, reloading page..."),window.location.reload()})):(console.log("No waiting service worker found, using force update..."),await I({clearLocalStorage:!1,clearSessionStorage:!0,clearIndexedDB:!1,clearCaches:!0}))}else console.log("Service workers not supported, doing hard reload..."),window.location.reload(!0)}catch(E){console.error("Error updating app:",E),window.location.reload(!0)}},H=()=>{t.value=!1,u(s.UPDATE_PROMPT_SHOWN)},x=()=>{n.value=!1,u(s.INSTALL_PROMPT_SHOWN)},T=()=>{e.value=!1,u(s.OFFLINE_PROMPT_SHOWN)},I=async(E={})=>{const{clearLocalStorage:ee=!1,clearSessionStorage:ne=!0,clearIndexedDB:ae=!1,clearCaches:q=!0}=E;try{if(console.log("Starting force update with options:",E),q&&"caches"in window){const ce=await caches.keys();console.log("Clearing caches:",ce),await Promise.all(ce.map(_=>caches.delete(_)))}if("serviceWorker"in navigator){const ce=await navigator.serviceWorker.getRegistrations();console.log("Unregistering service workers:",ce.length),await Promise.all(ce.map(_=>_.unregister()))}ee&&(localStorage.clear(),console.log("LocalStorage cleared")),ne&&(sessionStorage.clear(),console.log("SessionStorage cleared")),ae&&"indexedDB"in window&&console.log("IndexedDB clearing requested (implement if needed)"),console.log("Force update complete, reloading..."),window.location.reload?window.location.reload(!0):window.location.href=window.location.href+"?t="+Date.now()}catch(ce){console.error("Error during force update:",ce),window.location.reload(!0)}};return Ci(()=>{window.addEventListener("beforeinstallprompt",c),window.addEventListener("appinstalled",C),"serviceWorker"in navigator&&(navigator.serviceWorker.ready.then(ee=>{ee.addEventListener("updatefound",()=>{const ne=ee.installing;ne&&ne.addEventListener("statechange",()=>{ne.state==="installed"&&navigator.serviceWorker.controller&&(a(s.UPDATE_PROMPT_SHOWN)||(t.value=!0))})})}),navigator.serviceWorker.addEventListener("message",ee=>{console.log("Service worker message received:",ee.data),ee.data&&(ee.data.type==="SW_UPDATED"||ee.data.type==="workbox-broadcast-update")&&(a(s.UPDATE_PROMPT_SHOWN)||(console.log("Showing update prompt due to SW message"),t.value=!0))}),navigator.serviceWorker.addEventListener("controllerchange",()=>{console.log("Service worker controller changed - new version active"),window.location.reload()})),window.matchMedia("(display-mode: standalone)").matches&&(n.value=!1),setInterval(async()=>{if("serviceWorker"in navigator)try{await(await navigator.serviceWorker.ready).update()}catch(ee){console.log("Periodic update check failed:",ee)}},5*60*1e3)}),{needRefresh:t,offlineReady:e,canInstall:n,installPWA:p,updateApp:v,closeUpdatePrompt:H,closeInstallPrompt:x,closeOfflinePrompt:T,forceUpdate:I,initVitePWA:()=>{console.log("Initializing Vite PWA...");const E=(ee=0)=>{if(typeof window<"u"&&window.__vite_plugin_pwa_sw_register__)console.log("Vite PWA plugin found, registering..."),r=window.__vite_plugin_pwa_sw_register__(!0,{onNeedRefresh(){console.log("PWA: Need refresh triggered"),a(s.UPDATE_PROMPT_SHOWN)||(t.value=!0)},onOfflineReady(){console.log("PWA: Offline ready triggered"),a(s.OFFLINE_PROMPT_SHOWN)||(e.value=!0)},onRegisterError(ne){console.error("SW registration error:",ne)}}),console.log("Vite PWA initialized successfully");else if(ee<50){const ne=Math.min(100+ee*10,500);setTimeout(()=>E(ee+1),ne)}else console.warn("Vite PWA plugin not found after retrying. PWA features may be limited."),console.log("Available on window:",Object.keys(window).filter(ne=>ne.includes("pwa")||ne.includes("sw")))};E()}}}const v1=["disabled","title"],y1={key:0,width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},w1={key:1,width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},b1={key:0},C1={__name:"ForceUpdateButton",props:{showText:{type:Boolean,default:!0},buttonClass:{type:String,default:""},confirmMessage:{type:String,default:"This will clear all cached data and reload the app. Are you sure?"},updateOptions:{type:Object,default:()=>({clearLocalStorage:!1,clearSessionStorage:!0,clearIndexedDB:!1,clearCaches:!0})}},setup(t){const e=t,{forceUpdate:n}=Ai(),o=pt(!1),r=ui(()=>o.value?"Updating...":"Force Update"),s=ui(()=>o.value?"Clearing cache and reloading...":"Clear all cached data and reload from server"),a=async()=>{if(!(o.value||!confirm(e.confirmMessage))){o.value=!0;try{await n(e.updateOptions)}catch(c){console.error("Force update failed:",c),o.value=!1}}};return(u,c)=>(f(),y("button",{onClick:a,disabled:o.value,class:"interfaceBtn fullw text-left",title:s.value},[i("div",{class:je({spinning:o.value})},[o.value?(f(),y("svg",w1,[...c[1]||(c[1]=[i("path",{d:"M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z"},null,-1)])])):(f(),y("svg",y1,[...c[0]||(c[0]=[i("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"},null,-1)])]))],2),t.showText?(f(),y("span",b1,k(r.value),1)):V("",!0)],8,v1))}},L1=He(C1,[["__scopeId","data-v-ba5d0ed7"]]),$1={name:"welcomeSettings",components:{ForceUpdateButton:L1},data(){return{}},methods:{MakeSettings(){let t=JSON.parse(JSON.stringify(this.$root.SettingsTemplate));t.uuid=this.$root.uuid(),t.ProjectName=this.$root.setlang.start.projectlabel,this.$root.AddRecord("Settings",t),this.$root.session.settings=this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Settings.get(t.uuid)))}}},k1={key:0,class:"wavemaker_welcome"},x1={class:"wavemakerForm"},H1={style:{"text-align":"center"}},A1=["title"],V1=["title"],M1={class:"languages"},S1=["value"],T1={style:{"background-color":"#fff",padding:"10px","border-radius":"5px","margin-top":"10px"}};function E1(t,e,n,o,r,s){const a=te("ForceUpdateButton");return this.$root.setlang?(f(),y("div",k1,[i("div",x1,[i("div",H1,[e[6]||(e[6]=Zn('<svg id="wavemaker_logo" version="1.1" viewBox="0 0 24 24" height="50" width="50" data-v-141e4d28><path d="M0 0h24v24H0V0z" fill="none" data-v-141e4d28></path><g transform="matrix(0.046875,0,0,0.04604639,-1.951887,-3.0598516)" data-v-141e4d28><g id="_921457168" data-v-141e4d28><path class="wavemaker_logo-top" d="M 464.632,212.901 337.566,83.292 c -22.014,-22.454 -57.758,-22.454 -79.771,0 l -126.63,129.386 c -7.411,7.559 -7.411,19.563 0,27.122 l 38.359,39.127 25.5,24.232 c 7.628,7.114 19.18,7.114 26.808,0 l 51.219,-48.242 c 14.167,-13.338 35.744,-13.338 49.693,0 l 51.219,48.242 c 7.629,7.114 19.18,7.114 26.809,0 l 25.501,-24.232 38.359,-38.904 c 7.193,-7.337 7.193,-19.563 0,-27.122 z" data-v-141e4d28></path><path class="wavemaker_logo-bottom" d="m 58.804,367.853 198.991,202.973 c 22.013,22.452 57.757,22.452 79.771,0 L 536.557,367.853 c 34.437,-35.125 10.244,-45.574 -15.039,-70.029 L 490.35,267.59 c -7.409,-7.336 -19.18,-7.113 -26.808,0 l -51.218,48.242 c -14.169,13.339 -35.744,13.339 -49.694,0 L 311.411,267.59 c -7.575,-7.113 -19.233,-7.113 -26.809,0 l -51.219,48.242 c -14.167,13.339 -35.744,13.339 -49.693,0 L 132.471,267.59 c -7.576,-7.113 -19.233,-7.113 -26.809,0 l -28.77,27.123 c -26.37,24.899 -54.05,36.236 -18.088,73.14 z" data-v-141e4d28></path></g></g></svg><div class="softwareName" data-v-141e4d28>Wavemaker Cards</div>',2)),i("div",null,"Version 4 ("+k(this.$root.myPackage.version)+") ",1),i("h3",null,k(this.$root.setlang.welcome.info),1)]),i("button",{class:"interfaceBtn fullw text-left focuson",onClick:e[0]||(e[0]=(...u)=>s.MakeSettings&&s.MakeSettings(...u))},[e[7]||(e[7]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M10,16.5V7.5L16,12M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})],-1)),i("span",null,k(this.$root.setlang.welcome.getstarted),1)]),i("button",{onClick:e[1]||(e[1]=u=>t.$root.$data.popup.name="GoogleDrive"),class:"interfaceBtn fullw text-left",title:this.$root.setlang.welcome.loadgoogle},[e[8]||(e[8]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M13.75,9H16.14L19,14H16.05L13.5,9.46M18.3,17H12.75L14.15,14.5H19.27L19.53,14.96M11.5,17L10.4,14.86L13.24,9.9L14.74,12.56L12.25,17M20,6H12L10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6Z"})],-1)),i("span",null,k(this.$root.setlang.welcome.loadgoogle),1)],8,A1),i("button",{onClick:e[2]||(e[2]=(...u)=>t.$root.file_loadDB&&t.$root.file_loadDB(...u)),class:"interfaceBtn fullw text-left",title:this.$root.setlang.welcome.loadfile},[e[9]||(e[9]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M19,20H4C2.89,20 2,19.1 2,18V6C2,4.89 2.89,4 4,4H10L12,6H19A2,2 0 0,1 21,8H21L4,8V18L6.14,10H23.21L20.93,18.5C20.7,19.37 19.92,20 19,20Z"})],-1)),i("span",null,k(this.$root.setlang.welcome.loadfile),1)],8,V1),i("div",M1,[ue(i("select",{"onUpdate:modelValue":e[3]||(e[3]=u=>this.$root.lang=u),onChange:e[4]||(e[4]=u=>this.$root.switchLang())},[(f(!0),y(re,null,Pe(Object.keys(this.$root.language).sort(),(u,c)=>(f(),y("option",{key:c,value:u},k(u)+" ("+k(this.$root.language[u].info.name)+") ",9,S1))),128))],544),[[Tt,this.$root.lang]])]),e[13]||(e[13]=i("a",{href:"https://www.patreon.com/1984092/join",target:"_blank",class:"patreonBtn",title:"Support Via Patreon"},[i("span",null," Support Via Patreon")],-1)),i("div",null,[i("label",null,k(this.$root.setlang.welcome.legacy),1),i("button",{class:"interfaceBtn fullw text-left",onClick:e[5]||(e[5]=u=>t.$root.v3import=!0)},[e[10]||(e[10]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M20 6H2V2H20V6M16.5 12H15V17L18.61 19.16L19.36 17.94L16.5 16.25V12M23 16C23 19.87 19.87 23 16 23C13.62 23 11.53 21.81 10.26 20H3V7H19V9.68C21.36 10.81 23 13.21 23 16M8 12H10.26C10.83 11.19 11.56 10.5 12.41 10H8.5C8.22 10 8 10.22 8 10.5V12M21 16C21 13.24 18.76 11 16 11S11 13.24 11 16 13.24 21 16 21 21 18.76 21 16Z"})],-1)),ye(" "+k(this.$root.setlang.welcome.v3import),1)])]),i("div",T1,[e[11]||(e[11]=i("h2",null,"App Updates",-1)),e[12]||(e[12]=i("p",{style:{"font-size":"0.9em",color:"#212121","margin-bottom":"5px"}}," Clear all cached data and force reload from server. Use this if you're experiencing issues or want to ensure you have the latest version. ",-1)),De(a,{"confirm-message":"This will clear all cached app data and reload. Your project data will be preserved. Continue?"})]),e[14]||(e[14]=i("div",{style:{"text-align":"center",padding:"10px"}},[i("a",{href:"privacy.html",target:"_blank"},"Privacy Policy")],-1))])])):V("",!0)}const B1=He($1,[["render",E1],["__scopeId","data-v-141e4d28"]]),I1={name:"ToolBar",data(){return{}},methods:{setTool(t){this.$root.session.selectedTool=t,this.$root.togglenav&&(this.$root.navbar=!1)},toggleNav(){this.$root.togglenav&&(this.$root.navbar=!this.$root.navbar)}}},D1={class:"TopToolbar"},_1={style:{float:"right"}},P1=["title"],O1={class:"tooltiptext"},N1={class:"tooltiptext"},R1={class:"tooltiptext"},F1={key:0},j1={class:"tooltiptext"},U1={key:1,class:"toolbarButton"},z1={class:"tooltiptext"},W1={class:"tooltiptext",style:{right:"0px"}},G1={key:0,class:"navbar"},q1=["title"],Z1={class:"tooltiptext"},K1=["title"],Y1={class:"tooltiptext"},J1={class:"tooltiptext"},Q1={class:"tooltiptext"},X1={class:"tooltiptext"},ec={class:"tooltiptext"},tc={class:"tooltiptext"},nc={class:"tooltiptext"};function oc(t,e,n,o,r,s){return f(),y(re,null,[i("div",D1,[i("button",{id:"wavemakerIconButton",onClick:e[0]||(e[0]=(...a)=>s.toggleNav&&s.toggleNav(...a))},[...e[14]||(e[14]=[Zn('<svg id="wavemaker_logo" version="1.1" viewBox="0 0 24 24" data-v-3a766c37><path d="M0 0h24v24H0V0z" fill="none" data-v-3a766c37></path><g transform="matrix(0.046875,0,0,0.04604639,-1.951887,-3.0598516)" data-v-3a766c37><g id="_921457168" data-v-3a766c37><path class="wavemaker_logo-top" d="M 464.632,212.901 337.566,83.292 c -22.014,-22.454 -57.758,-22.454 -79.771,0 l -126.63,129.386 c -7.411,7.559 -7.411,19.563 0,27.122 l 38.359,39.127 25.5,24.232 c 7.628,7.114 19.18,7.114 26.808,0 l 51.219,-48.242 c 14.167,-13.338 35.744,-13.338 49.693,0 l 51.219,48.242 c 7.629,7.114 19.18,7.114 26.809,0 l 25.501,-24.232 38.359,-38.904 c 7.193,-7.337 7.193,-19.563 0,-27.122 z" data-v-3a766c37></path><path class="wavemaker_logo-bottom" d="m 58.804,367.853 198.991,202.973 c 22.013,22.452 57.757,22.452 79.771,0 L 536.557,367.853 c 34.437,-35.125 10.244,-45.574 -15.039,-70.029 L 490.35,267.59 c -7.409,-7.336 -19.18,-7.113 -26.808,0 l -51.218,48.242 c -14.169,13.339 -35.744,13.339 -49.694,0 L 311.411,267.59 c -7.575,-7.113 -19.233,-7.113 -26.809,0 l -51.219,48.242 c -14.167,13.339 -35.744,13.339 -49.693,0 L 132.471,267.59 c -7.576,-7.113 -19.233,-7.113 -26.809,0 l -28.77,27.123 c -26.37,24.899 -54.05,36.236 -18.088,73.14 z" data-v-3a766c37></path></g></g></svg>',1)])]),i("div",_1,[i("button",{onClick:e[1]||(e[1]=a=>t.$root.$data.popup.name="SettingsPopup"),class:"toolbarButton",title:this.$root.setlang.settings.title},[e[15]||(e[15]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"})],-1)),i("span",O1,k(this.$root.setlang.toolbar.settings),1)],8,P1),i("button",{onClick:e[2]||(e[2]=(...a)=>t.$root.file_downloadDB&&t.$root.file_downloadDB(...a)),class:"toolbarButton"},[e[16]||(e[16]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z"})],-1)),i("span",N1,k(this.$root.setlang.toolbar.save),1)]),i("button",{onClick:e[3]||(e[3]=a=>t.$root.popup.name="GoogleDrive"),class:"toolbarButton"},[e[17]||(e[17]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M7.71,3.5L1.15,15L4.58,21L11.13,9.5M9.73,15L6.3,21H19.42L22.85,15M22.28,14L15.42,2H8.58L8.57,2L15.43,14H22.28Z"})],-1)),i("span",R1,k(this.$root.setlang.toolbar.googledrive),1)]),t.$root.GoogleDriveApi.loggedin?(f(),y("span",F1,[t.$root.GoogleDriveApi.loading?V("",!0):(f(),y("button",{key:0,onClick:e[4]||(e[4]=a=>this.$root.GoogleDriveWriteFile()),class:"toolbarButton"},[e[18]||(e[18]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M13 19C13 19.34 13.04 19.67 13.09 20H6.5C5 20 3.69 19.5 2.61 18.43C1.54 17.38 1 16.09 1 14.58C1 13.28 1.39 12.12 2.17 11.1S4 9.43 5.25 9.15C5.67 7.62 6.5 6.38 7.75 5.43S10.42 4 12 4C13.95 4 15.6 4.68 16.96 6.04C18.32 7.4 19 9.05 19 11C20.15 11.13 21.1 11.63 21.86 12.5C22.37 13.07 22.7 13.71 22.86 14.42C21.82 13.54 20.5 13 19 13C15.69 13 13 15.69 13 19M16 18H18V22H20V18H22L19 15L16 18Z"})],-1)),i("span",j1,k(this.$root.setlang.toolbar.quick),1)])),t.$root.GoogleDriveApi.loading?(f(),y("button",U1,[e[19]||(e[19]=i("svg",{version:"1.1",viewBox:"0 0 100 100"},[i("path",{d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50"},[i("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})])],-1)),i("span",z1,k(this.$root.setlang.toolbar.googledrive),1)])):V("",!0)])):V("",!0),i("button",{onClick:e[5]||(e[5]=a=>t.$root.closeProject()),class:"toolbarButton"},[e[20]||(e[20]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"})],-1)),i("span",W1,k(this.$root.setlang.toolbar.close),1)])])]),De(Kn,{name:"toolbar-slide-fade"},{default:wt(()=>[t.$root.navbar?(f(),y("div",G1,[i("button",{class:je(["toolbarButton vertical",t.$root.session.selectedTool?"":"active"]),onClick:e[6]||(e[6]=a=>s.setTool(null)),title:this.$root.setlang.toolbar.projecthome},[e[21]||(e[21]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z"})],-1)),i("span",Z1,k(this.$root.setlang.toolbar.projecthome),1)],10,q1),i("button",{class:je(["toolbarButton vertical",t.$root.session.selectedTool==="writer"?"active":""]),onClick:e[7]||(e[7]=a=>s.setTool("writer")),title:this.$root.setlang.toolbar.writer},[e[22]||(e[22]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M19 2L14 6.5V17.5L19 13V2M6.5 5C4.55 5 2.45 5.4 1 6.5V21.16C1 21.41 1.25 21.66 1.5 21.66C1.6 21.66 1.65 21.59 1.75 21.59C3.1 20.94 5.05 20.5 6.5 20.5C8.45 20.5 10.55 20.9 12 22C13.35 21.15 15.8 20.5 17.5 20.5C19.15 20.5 20.85 20.81 22.25 21.56C22.35 21.61 22.4 21.59 22.5 21.59C22.75 21.59 23 21.34 23 21.09V6.5C22.4 6.05 21.75 5.75 21 5.5V19C19.9 18.65 18.7 18.5 17.5 18.5C15.8 18.5 13.35 19.15 12 20V6.5C10.55 5.4 8.45 5 6.5 5Z"})],-1)),i("span",Y1,k(this.$root.setlang.toolbar.writer),1)],10,K1),i("button",{class:je(["toolbarButton vertical",t.$root.session.selectedTool==="planningboard"?"active":""]),onClick:e[8]||(e[8]=a=>s.setTool("planningboard"))},[e[23]||(e[23]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M22,9V7H20V5A2,2 0 0,0 18,3H4A2,2 0 0,0 2,5V19A2,2 0 0,0 4,21H18A2,2 0 0,0 20,19V17H22V15H20V13H22V11H20V9H22M18,19H4V5H18V19M6,13H11V17H6V13M12,7H16V10H12V7M6,7H11V12H6V7M12,11H16V17H12V11Z"})],-1)),i("span",J1,k(this.$root.setlang.toolbar.planningboard),1)],2),i("button",{class:je(["toolbarButton vertical",t.$root.session.selectedTool==="mindmap"?"active":""]),onClick:e[9]||(e[9]=a=>s.setTool("mindmap"))},[e[24]||(e[24]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M21 16V13C21 11.89 20.11 11 19 11H13V8H15V2H9V8H11V11H5C3.89 11 3 11.89 3 13V16H1V22H7V16H5V13H11V16H9V22H15V16H13V13H19V16H17V22H23V16H21M11 4H13V6H11V4M5 20H3V18H5V20M13 20H11V18H13V20M21 20H19V18H21V20Z"})],-1)),i("span",Q1,k(this.$root.setlang.toolbar.mindmap),1)],2),i("button",{class:je(["toolbarButton vertical",t.$root.session.selectedTool==="snowflake"?"active":""]),onClick:e[10]||(e[10]=a=>s.setTool("snowflake"))},[e[25]||(e[25]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M14.25,12L16.27,11H23L22,9H18.03L20.42,5.83L19.43,3.83L15.37,9.2L13.35,10.21L13.75,8L17.83,2.62L15.64,2.22L12,7L8.4,2.2L6.2,2.6L10.26,8L10.66,10.21L8.82,9.29L8.66,9.21L4.6,3.8L3.6,5.8L6,9H2L1,11H7.77L9.75,12L7.73,13H1L2,15H5.97L3.58,18.17L4.57,20.17L8.63,14.8L10.65,13.79L10.25,16L6.17,21.38L8.36,21.79L12,17L15.6,21.8L17.8,21.4L13.74,16L13.34,13.79L15.34,14.79L19.4,20.2L20.4,18.2L18,15H22L23,13H16.23"})],-1)),i("span",X1,k(this.$root.setlang.toolbar.snowflake),1)],2),i("button",{class:je(["toolbarButton vertical",t.$root.session.selectedTool==="timeline"?"active":""]),onClick:e[11]||(e[11]=a=>s.setTool("timeline"))},[e[26]||(e[26]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M12,20A7,7 0 0,1 5,13A7,7 0 0,1 12,6A7,7 0 0,1 19,13A7,7 0 0,1 12,20M12,4A9,9 0 0,0 3,13A9,9 0 0,0 12,22A9,9 0 0,0 21,13A9,9 0 0,0 12,4M12.5,8H11V14L15.75,16.85L16.5,15.62L12.5,13.25V8M7.88,3.39L6.6,1.86L2,5.71L3.29,7.24L7.88,3.39M22,5.72L17.4,1.86L16.11,3.39L20.71,7.25L22,5.72Z"})],-1)),i("span",ec,k(this.$root.setlang.toolbar.timeline),1)],2),i("button",{class:je(["toolbarButton vertical",t.$root.session.selectedTool==="gridplanner"?"active":""]),onClick:e[12]||(e[12]=a=>s.setTool("gridplanner"))},[e[27]||(e[27]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M10,4V8H14V4H10M16,4V8H20V4H16M16,10V14H20V10H16M16,16V20H20V16H16M14,20V16H10V20H14M8,20V16H4V20H8M8,14V10H4V14H8M8,8V4H4V8H8M10,14H14V10H10V14M4,2H20A2,2 0 0,1 22,4V20A2,2 0 0,1 20,22H4C2.92,22 2,21.1 2,20V4A2,2 0 0,1 4,2Z"})],-1)),i("span",tc,k(this.$root.setlang.toolbar.gridplanner),1)],2),i("button",{class:je(["toolbarButton vertical lastbtn",t.$root.session.selectedTool==="cardsdatabase"?"active":""]),onClick:e[13]||(e[13]=a=>s.setTool("cardsdatabase"))},[e[28]||(e[28]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M12,3C7.58,3 4,4.79 4,7C4,9.21 7.58,11 12,11C16.42,11 20,9.21 20,7C20,4.79 16.42,3 12,3M4,9V12C4,14.21 7.58,16 12,16C16.42,16 20,14.21 20,12V9C20,11.21 16.42,13 12,13C7.58,13 4,11.21 4,9M4,14V17C4,19.21 7.58,21 12,21C16.42,21 20,19.21 20,17V14C20,16.21 16.42,18 12,18C7.58,18 4,16.21 4,14Z"})],-1)),i("span",nc,k(this.$root.setlang.toolbar.cardsdatabase),1)],2)])):V("",!0)]),_:1})],64)}const ic=He(I1,[["render",oc],["__scopeId","data-v-3a766c37"]]),sc={name:"ProjectInfo",methods:{update(){let t=this.$root.session.settings.uuid;this.$root.UpdateRecord("Settings",t,this.$root.session.settings)},setTool(t){t&&(this.$root.session.writer={},this.$root.session[t]={}),this.$root.session.selectedTool=t,this.navbar=!1},gettingStartedPopup(){this.$root.openInNew("https://wavemaker.co.uk/getstarted/")}}},rc={class:"wavemaker_info_box"},ac={style:{width:"100%"}},lc={style:{width:"40px"}};function dc(t,e,n,o,r,s){return f(),y("div",rc,[i("table",ac,[i("tbody",null,[i("tr",null,[e[10]||(e[10]=i("td",null,null,-1)),i("td",lc,[i("button",{onClick:e[0]||(e[0]=(...a)=>s.gettingStartedPopup&&s.gettingStartedPopup(...a)),class:"interfaceBtn helpBtn"},[...e[9]||(e[9]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z"})],-1)])])])])])]),i("label",null,k(this.$root.setlang.start.projectlabel),1),ue(i("input",{class:"projectName","onUpdate:modelValue":e[1]||(e[1]=a=>this.$root.session.settings.ProjectName=a),onChange:e[2]||(e[2]=(...a)=>s.update&&s.update(...a))},null,544),[[Ve,this.$root.session.settings.ProjectName]]),i("button",{class:"interfaceBtn",onClick:e[3]||(e[3]=a=>s.setTool("writer"))},[e[11]||(e[11]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M19 2L14 6.5V17.5L19 13V2M6.5 5C4.55 5 2.45 5.4 1 6.5V21.16C1 21.41 1.25 21.66 1.5 21.66C1.6 21.66 1.65 21.59 1.75 21.59C3.1 20.94 5.05 20.5 6.5 20.5C8.45 20.5 10.55 20.9 12 22C13.35 21.15 15.8 20.5 17.5 20.5C19.15 20.5 20.85 20.81 22.25 21.56C22.35 21.61 22.4 21.59 22.5 21.59C22.75 21.59 23 21.34 23 21.09V6.5C22.4 6.05 21.75 5.75 21 5.5V19C19.9 18.65 18.7 18.5 17.5 18.5C15.8 18.5 13.35 19.15 12 20V6.5C10.55 5.4 8.45 5 6.5 5Z"})],-1)),ye(" "+k(this.$root.setlang.tools.writer),1)]),i("button",{class:"interfaceBtn",onClick:e[4]||(e[4]=a=>s.setTool("mindmap"))},[e[12]||(e[12]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M21 16V13C21 11.89 20.11 11 19 11H13V8H15V2H9V8H11V11H5C3.89 11 3 11.89 3 13V16H1V22H7V16H5V13H11V16H9V22H15V16H13V13H19V16H17V22H23V16H21M11 4H13V6H11V4M5 20H3V18H5V20M13 20H11V18H13V20M21 20H19V18H21V20Z"})],-1)),ye(" "+k(this.$root.setlang.tools.mindmap),1)]),i("button",{class:"interfaceBtn",onClick:e[5]||(e[5]=a=>s.setTool("snowflake"))},[e[13]||(e[13]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M14.25,12L16.27,11H23L22,9H18.03L20.42,5.83L19.43,3.83L15.37,9.2L13.35,10.21L13.75,8L17.83,2.62L15.64,2.22L12,7L8.4,2.2L6.2,2.6L10.26,8L10.66,10.21L8.82,9.29L8.66,9.21L4.6,3.8L3.6,5.8L6,9H2L1,11H7.77L9.75,12L7.73,13H1L2,15H5.97L3.58,18.17L4.57,20.17L8.63,14.8L10.65,13.79L10.25,16L6.17,21.38L8.36,21.79L12,17L15.6,21.8L17.8,21.4L13.74,16L13.34,13.79L15.34,14.79L19.4,20.2L20.4,18.2L18,15H22L23,13H16.23"})],-1)),ye(" "+k(this.$root.setlang.tools.snowflake),1)]),i("button",{class:"interfaceBtn",onClick:e[6]||(e[6]=a=>s.setTool("timeline"))},[e[14]||(e[14]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M12,20A7,7 0 0,1 5,13A7,7 0 0,1 12,6A7,7 0 0,1 19,13A7,7 0 0,1 12,20M12,4A9,9 0 0,0 3,13A9,9 0 0,0 12,22A9,9 0 0,0 21,13A9,9 0 0,0 12,4M12.5,8H11V14L15.75,16.85L16.5,15.62L12.5,13.25V8M7.88,3.39L6.6,1.86L2,5.71L3.29,7.24L7.88,3.39M22,5.72L17.4,1.86L16.11,3.39L20.71,7.25L22,5.72Z"})],-1)),ye(" "+k(this.$root.setlang.tools.timeline),1)]),i("button",{class:"interfaceBtn",onClick:e[7]||(e[7]=a=>s.setTool("gridplanner"))},[e[15]||(e[15]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M10,4V8H14V4H10M16,4V8H20V4H16M16,10V14H20V10H16M16,16V20H20V16H16M14,20V16H10V20H14M8,20V16H4V20H8M8,14V10H4V14H8M8,8V4H4V8H8M10,14H14V10H10V14M4,2H20A2,2 0 0,1 22,4V20A2,2 0 0,1 20,22H4C2.92,22 2,21.1 2,20V4A2,2 0 0,1 4,2Z"})],-1)),ye(" "+k(this.$root.setlang.tools.gridplanner),1)]),i("button",{class:"interfaceBtn",onClick:e[8]||(e[8]=a=>s.setTool("cardsdatabase"))},[e[16]||(e[16]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M12,3C7.58,3 4,4.79 4,7C4,9.21 7.58,11 12,11C16.42,11 20,9.21 20,7C20,4.79 16.42,3 12,3M4,9V12C4,14.21 7.58,16 12,16C16.42,16 20,14.21 20,12V9C20,11.21 16.42,13 12,13C7.58,13 4,11.21 4,9M4,14V17C4,19.21 7.58,21 12,21C16.42,21 20,19.21 20,17V14C20,16.21 16.42,18 12,18C7.58,18 4,16.21 4,14Z"})],-1)),ye(" "+k(this.$root.setlang.tools.cardsdatabase),1)])])}const uc=He(sc,[["render",dc],["__scopeId","data-v-68184fa2"]]);Rl.register(Fl,jl,Ul,zl,Wl,Gl);const cc={name:"BarChart",components:{Bar:ql},props:{chartId:{type:String,default:"bar-chart"},datasetIdKey:{type:String,default:"label"},width:{type:Number,default:400},height:{type:Number,default:200},cssClasses:{default:"",type:String},styles:{type:Object,default:()=>{}},plugins:{type:Object,default:()=>{}}},computed:{logArray(){let t={};if(this.$root.session.writer.selected.log){t.labels=Object.keys(this.$root.session.writer.selected.log);let e=[],n=0;t.labels.forEach(o=>{this.$root.session.writer.selected.log[o]&&e.push(this.$root.session.writer.selected.log[o]-n),n=this.$root.session.writer.selected.log[o]}),t.datasets=[{label:"Words",backgroundColor:"#f87979",data:e}]}return t}},data(){return{chartData:{labels:["January","February","March"],datasets:[{data:[40,20,12]}]},chartOptions:{responsive:!0}}}},pc={key:0,class:"chartWrapper"},hc={class:"chartAreaWrapper"},fc={class:"chartAreaWrapper2"};function gc(t,e,n,o,r,s){const a=te("Bar");return s.logArray.labels?(f(),y("div",pc,[i("div",hc,[i("div",fc,[De(a,{"chart-data":s.logArray,"chart-options":{responsive:!0,maintainAspectRatio:!1}},null,8,["chart-data"])])])])):V("",!0)}const mc=He(cc,[["render",gc],["__scopeId","data-v-6f8aee50"]]);/*!
  * vue-draggable-next v2.3.0
  * (c) 2025 Anish George
  * @license MIT
  */function vc(){return typeof window<"u"?window.console:global.console}const yc=vc();function wc(t){const e=Object.create(null);return function(o){return e[o]||(e[o]=t(o))}}const bc=/-(\w)/g,hs=wc(t=>t.replace(bc,(e,n)=>n?n.toUpperCase():""));function Yo(t){t.parentElement!==null&&t.parentElement.removeChild(t)}function fs(t,e,n){const o=n===0?t.children[0]:t.children[n-1].nextSibling;t.insertBefore(e,o)}/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function gs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gs(Object(n),!0).forEach(function(o){Cc(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gs(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function fo(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fo=function(e){return typeof e}:fo=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fo(t)}function Cc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zt(){return Zt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Zt.apply(this,arguments)}function Lc(t,e){if(t==null)return{};var n={},o=Object.keys(t),r,s;for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function $c(t,e){if(t==null)return{};var n=Lc(t,e),o,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)o=s[r],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}var kc="1.14.0";function qt(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Kt=qt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Qn=qt(/Edge/i),ms=qt(/firefox/i),jn=qt(/safari/i)&&!qt(/chrome/i)&&!qt(/android/i),Us=qt(/iP(ad|od|hone)/i),xc=qt(/chrome/i)&&qt(/android/i),zs={capture:!1,passive:!1};function Re(t,e,n){t.addEventListener(e,n,!Kt&&zs)}function Oe(t,e,n){t.removeEventListener(e,n,!Kt&&zs)}function $o(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function Hc(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function jt(t,e,n,o){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&$o(t,e):$o(t,e))||o&&t===n)return t;if(t===n)break}while(t=Hc(t))}return null}var vs=/\s+/g;function Ht(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var o=(" "+t.className+" ").replace(vs," ").replace(" "+e+" "," ");t.className=(o+(n?" "+e:"")).replace(vs," ")}}function $e(t,e,n){var o=t&&t.style;if(o){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in o)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),o[e]=n+(typeof n=="string"?"":"px")}}function Vn(t,e){var n="";if(typeof t=="string")n=t;else do{var o=$e(t,"transform");o&&o!=="none"&&(n=o+" "+n)}while(!e&&(t=t.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function Ws(t,e,n){if(t){var o=t.getElementsByTagName(e),r=0,s=o.length;if(n)for(;r<s;r++)n(o[r],r);return o}return[]}function Ut(){var t=document.scrollingElement;return t||document.documentElement}function ot(t,e,n,o,r){if(!(!t.getBoundingClientRect&&t!==window)){var s,a,u,c,p,C,v;if(t!==window&&t.parentNode&&t!==Ut()?(s=t.getBoundingClientRect(),a=s.top,u=s.left,c=s.bottom,p=s.right,C=s.height,v=s.width):(a=0,u=0,c=window.innerHeight,p=window.innerWidth,C=window.innerHeight,v=window.innerWidth),(e||n)&&t!==window&&(r=r||t.parentNode,!Kt))do if(r&&r.getBoundingClientRect&&($e(r,"transform")!=="none"||n&&$e(r,"position")!=="static")){var H=r.getBoundingClientRect();a-=H.top+parseInt($e(r,"border-top-width")),u-=H.left+parseInt($e(r,"border-left-width")),c=a+s.height,p=u+s.width;break}while(r=r.parentNode);if(o&&t!==window){var x=Vn(r||t),T=x&&x.a,I=x&&x.d;x&&(a/=I,u/=T,v/=T,C/=I,c=a+C,p=u+v)}return{top:a,left:u,bottom:c,right:p,width:v,height:C}}}function ys(t,e,n){for(var o=en(t,!0),r=ot(t)[e];o;){var s=ot(o)[n],a=void 0;if(a=r>=s,!a)return o;if(o===Ut())break;o=en(o,!1)}return!1}function Sn(t,e,n,o){for(var r=0,s=0,a=t.children;s<a.length;){if(a[s].style.display!=="none"&&a[s]!==ke.ghost&&(o||a[s]!==ke.dragged)&&jt(a[s],n.draggable,t,!1)){if(r===e)return a[s];r++}s++}return null}function Vi(t,e){for(var n=t.lastElementChild;n&&(n===ke.ghost||$e(n,"display")==="none"||e&&!$o(n,e));)n=n.previousElementSibling;return n||null}function Et(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==ke.clone&&(!e||$o(t,e))&&n++;return n}function ws(t){var e=0,n=0,o=Ut();if(t)do{var r=Vn(t),s=r.a,a=r.d;e+=t.scrollLeft*s,n+=t.scrollTop*a}while(t!==o&&(t=t.parentNode));return[e,n]}function Ac(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var o in e)if(e.hasOwnProperty(o)&&e[o]===t[n][o])return Number(n)}return-1}function en(t,e){if(!t||!t.getBoundingClientRect)return Ut();var n=t,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=$e(n);if(n.clientWidth<n.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Ut();if(o||e)return n;o=!0}}while(n=n.parentNode);return Ut()}function Vc(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Jo(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Un;function Gs(t,e){return function(){if(!Un){var n=arguments,o=this;n.length===1?t.call(o,n[0]):t.apply(o,n),Un=setTimeout(function(){Un=void 0},e)}}}function Mc(){clearTimeout(Un),Un=void 0}function qs(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function Zs(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}var Vt="Sortable"+new Date().getTime();function Sc(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(r){if(!($e(r,"display")==="none"||r===ke.ghost)){t.push({target:r,rect:ot(r)});var s=zt({},t[t.length-1].rect);if(r.thisAnimationDuration){var a=Vn(r,!0);a&&(s.top-=a.f,s.left-=a.e)}r.fromRect=s}})}},addAnimationState:function(o){t.push(o)},removeAnimationState:function(o){t.splice(Ac(t,{target:o}),1)},animateAll:function(o){var r=this;if(!this.options.animation){clearTimeout(e),typeof o=="function"&&o();return}var s=!1,a=0;t.forEach(function(u){var c=0,p=u.target,C=p.fromRect,v=ot(p),H=p.prevFromRect,x=p.prevToRect,T=u.rect,I=Vn(p,!0);I&&(v.top-=I.f,v.left-=I.e),p.toRect=v,p.thisAnimationDuration&&Jo(H,v)&&!Jo(C,v)&&(T.top-v.top)/(T.left-v.left)===(C.top-v.top)/(C.left-v.left)&&(c=Ec(T,H,x,r.options)),Jo(v,C)||(p.prevFromRect=C,p.prevToRect=v,c||(c=r.options.animation),r.animate(p,T,v,c)),c&&(s=!0,a=Math.max(a,c),clearTimeout(p.animationResetTimer),p.animationResetTimer=setTimeout(function(){p.animationTime=0,p.prevFromRect=null,p.fromRect=null,p.prevToRect=null,p.thisAnimationDuration=null},c),p.thisAnimationDuration=c)}),clearTimeout(e),s?e=setTimeout(function(){typeof o=="function"&&o()},a):typeof o=="function"&&o(),t=[]},animate:function(o,r,s,a){if(a){$e(o,"transition",""),$e(o,"transform","");var u=Vn(this.el),c=u&&u.a,p=u&&u.d,C=(r.left-s.left)/(c||1),v=(r.top-s.top)/(p||1);o.animatingX=!!C,o.animatingY=!!v,$e(o,"transform","translate3d("+C+"px,"+v+"px,0)"),this.forRepaintDummy=Tc(o),$e(o,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),$e(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){$e(o,"transition",""),$e(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},a)}}}}function Tc(t){return t.offsetWidth}function Ec(t,e,n,o){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*o.animation}var Ln=[],Qo={initializeByDefault:!0},Xn={mount:function(e){for(var n in Qo)Qo.hasOwnProperty(n)&&!(n in e)&&(e[n]=Qo[n]);Ln.forEach(function(o){if(o.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Ln.push(e)},pluginEvent:function(e,n,o){var r=this;this.eventCanceled=!1,o.cancel=function(){r.eventCanceled=!0};var s=e+"Global";Ln.forEach(function(a){n[a.pluginName]&&(n[a.pluginName][s]&&n[a.pluginName][s](zt({sortable:n},o)),n.options[a.pluginName]&&n[a.pluginName][e]&&n[a.pluginName][e](zt({sortable:n},o)))})},initializePlugins:function(e,n,o,r){Ln.forEach(function(u){var c=u.pluginName;if(!(!e.options[c]&&!u.initializeByDefault)){var p=new u(e,n,e.options);p.sortable=e,p.options=e.options,e[c]=p,Zt(o,p.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var a=this.modifyOption(e,s,e.options[s]);typeof a<"u"&&(e.options[s]=a)}},getEventProperties:function(e,n){var o={};return Ln.forEach(function(r){typeof r.eventProperties=="function"&&Zt(o,r.eventProperties.call(n[r.pluginName],e))}),o},modifyOption:function(e,n,o){var r;return Ln.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[n]=="function"&&(r=s.optionListeners[n].call(e[s.pluginName],o))}),r}};function Bc(t){var e=t.sortable,n=t.rootEl,o=t.name,r=t.targetEl,s=t.cloneEl,a=t.toEl,u=t.fromEl,c=t.oldIndex,p=t.newIndex,C=t.oldDraggableIndex,v=t.newDraggableIndex,H=t.originalEvent,x=t.putSortable,T=t.extraEventProperties;if(e=e||n&&n[Vt],!!e){var I,se=e.options,E="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!Kt&&!Qn?I=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(I=document.createEvent("Event"),I.initEvent(o,!0,!0)),I.to=a||n,I.from=u||n,I.item=r||n,I.clone=s,I.oldIndex=c,I.newIndex=p,I.oldDraggableIndex=C,I.newDraggableIndex=v,I.originalEvent=H,I.pullMode=x?x.lastPutMode:void 0;var ee=zt(zt({},T),Xn.getEventProperties(o,e));for(var ne in ee)I[ne]=ee[ne];n&&n.dispatchEvent(I),se[E]&&se[E].call(e,I)}}var Ic=["evt"],Ct=function(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=o.evt,s=$c(o,Ic);Xn.pluginEvent.bind(ke)(e,n,zt({dragEl:z,parentEl:Ye,ghostEl:Ae,rootEl:qe,nextEl:ln,lastDownEl:go,cloneEl:Je,cloneHidden:Xt,dragStarted:On,putSortable:ut,activeSortable:ke.active,originalEvent:r,oldIndex:Hn,oldDraggableIndex:zn,newIndex:At,newDraggableIndex:Jt,hideGhostForTarget:Qs,unhideGhostForTarget:Xs,cloneNowHidden:function(){Xt=!0},cloneNowShown:function(){Xt=!1},dispatchSortableEvent:function(u){yt({sortable:n,name:u,originalEvent:r})}},s))};function yt(t){Bc(zt({putSortable:ut,cloneEl:Je,targetEl:z,rootEl:qe,oldIndex:Hn,oldDraggableIndex:zn,newIndex:At,newDraggableIndex:Jt},t))}var z,Ye,Ae,qe,ln,go,Je,Xt,Hn,At,zn,Jt,so,ut,kn=!1,ko=!1,xo=[],rn,Pt,Xo,ei,bs,Cs,On,$n,Wn,Gn=!1,ro=!1,mo,ft,ti=[],gi=!1,Ho=[],To=typeof document<"u",ao=Us,Ls=Qn||Kt?"cssFloat":"float",Dc=To&&!xc&&!Us&&"draggable"in document.createElement("div"),Ks=function(){if(To){if(Kt)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),Ys=function(e,n){var o=$e(e),r=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),s=Sn(e,0,n),a=Sn(e,1,n),u=s&&$e(s),c=a&&$e(a),p=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+ot(s).width,C=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+ot(a).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&u.float&&u.float!=="none"){var v=u.float==="left"?"left":"right";return a&&(c.clear==="both"||c.clear===v)?"vertical":"horizontal"}return s&&(u.display==="block"||u.display==="flex"||u.display==="table"||u.display==="grid"||p>=r&&o[Ls]==="none"||a&&o[Ls]==="none"&&p+C>r)?"vertical":"horizontal"},_c=function(e,n,o){var r=o?e.left:e.top,s=o?e.right:e.bottom,a=o?e.width:e.height,u=o?n.left:n.top,c=o?n.right:n.bottom,p=o?n.width:n.height;return r===u||s===c||r+a/2===u+p/2},Pc=function(e,n){var o;return xo.some(function(r){var s=r[Vt].options.emptyInsertThreshold;if(!(!s||Vi(r))){var a=ot(r),u=e>=a.left-s&&e<=a.right+s,c=n>=a.top-s&&n<=a.bottom+s;if(u&&c)return o=r}}),o},Js=function(e){function n(s,a){return function(u,c,p,C){var v=u.options.group.name&&c.options.group.name&&u.options.group.name===c.options.group.name;if(s==null&&(a||v))return!0;if(s==null||s===!1)return!1;if(a&&s==="clone")return s;if(typeof s=="function")return n(s(u,c,p,C),a)(u,c,p,C);var H=(a?u:c).options.group.name;return s===!0||typeof s=="string"&&s===H||s.join&&s.indexOf(H)>-1}}var o={},r=e.group;(!r||fo(r)!="object")&&(r={name:r}),o.name=r.name,o.checkPull=n(r.pull,!0),o.checkPut=n(r.put),o.revertClone=r.revertClone,e.group=o},Qs=function(){!Ks&&Ae&&$e(Ae,"display","none")},Xs=function(){!Ks&&Ae&&$e(Ae,"display","")};To&&document.addEventListener("click",function(t){if(ko)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),ko=!1,!1},!0);var an=function(e){if(z){e=e.touches?e.touches[0]:e;var n=Pc(e.clientX,e.clientY);if(n){var o={};for(var r in e)e.hasOwnProperty(r)&&(o[r]=e[r]);o.target=o.rootEl=n,o.preventDefault=void 0,o.stopPropagation=void 0,n[Vt]._onDragOver(o)}}},Oc=function(e){z&&z.parentNode[Vt]._isOutsideThisEl(e.target)};function ke(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Zt({},e),t[Vt]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ys(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,u){a.setData("Text",u.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ke.supportPointer!==!1&&"PointerEvent"in window&&!jn,emptyInsertThreshold:5};Xn.initializePlugins(this,t,n);for(var o in n)!(o in e)&&(e[o]=n[o]);Js(e);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=e.forceFallback?!1:Dc,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Re(t,"pointerdown",this._onTapStart):(Re(t,"mousedown",this._onTapStart),Re(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Re(t,"dragover",this),Re(t,"dragenter",this)),xo.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Zt(this,Sc())}ke.prototype={constructor:ke,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&($n=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,z):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,o=this.el,r=this.options,s=r.preventOnFilter,a=e.type,u=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,c=(u||e).target,p=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,C=r.filter;if(Gc(o),!z&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||r.disabled)&&!p.isContentEditable&&!(!this.nativeDraggable&&jn&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=jt(c,r.draggable,o,!1),!(c&&c.animated)&&go!==c)){if(Hn=Et(c),zn=Et(c,r.draggable),typeof C=="function"){if(C.call(this,e,c,this)){yt({sortable:n,rootEl:p,name:"filter",targetEl:c,toEl:o,fromEl:o}),Ct("filter",n,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(C&&(C=C.split(",").some(function(v){if(v=jt(p,v.trim(),o,!1),v)return yt({sortable:n,rootEl:v,name:"filter",targetEl:c,fromEl:o,toEl:o}),Ct("filter",n,{evt:e}),!0}),C)){s&&e.cancelable&&e.preventDefault();return}r.handle&&!jt(p,r.handle,o,!1)||this._prepareDragStart(e,u,c)}}},_prepareDragStart:function(e,n,o){var r=this,s=r.el,a=r.options,u=s.ownerDocument,c;if(o&&!z&&o.parentNode===s){var p=ot(o);if(qe=s,z=o,Ye=z.parentNode,ln=z.nextSibling,go=o,so=a.group,ke.dragged=z,rn={target:z,clientX:(n||e).clientX,clientY:(n||e).clientY},bs=rn.clientX-p.left,Cs=rn.clientY-p.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,z.style["will-change"]="all",c=function(){if(Ct("delayEnded",r,{evt:e}),ke.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!ms&&r.nativeDraggable&&(z.draggable=!0),r._triggerDragStart(e,n),yt({sortable:r,name:"choose",originalEvent:e}),Ht(z,a.chosenClass,!0)},a.ignore.split(",").forEach(function(C){Ws(z,C.trim(),ni)}),Re(u,"dragover",an),Re(u,"mousemove",an),Re(u,"touchmove",an),Re(u,"mouseup",r._onDrop),Re(u,"touchend",r._onDrop),Re(u,"touchcancel",r._onDrop),ms&&this.nativeDraggable&&(this.options.touchStartThreshold=4,z.draggable=!0),Ct("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Qn||Kt))){if(ke.eventCanceled){this._onDrop();return}Re(u,"mouseup",r._disableDelayedDrag),Re(u,"touchend",r._disableDelayedDrag),Re(u,"touchcancel",r._disableDelayedDrag),Re(u,"mousemove",r._delayedDragTouchMoveHandler),Re(u,"touchmove",r._delayedDragTouchMoveHandler),a.supportPointer&&Re(u,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(c,a.delay)}else c()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){z&&ni(z),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Oe(e,"mouseup",this._disableDelayedDrag),Oe(e,"touchend",this._disableDelayedDrag),Oe(e,"touchcancel",this._disableDelayedDrag),Oe(e,"mousemove",this._delayedDragTouchMoveHandler),Oe(e,"touchmove",this._delayedDragTouchMoveHandler),Oe(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?Re(document,"pointermove",this._onTouchMove):n?Re(document,"touchmove",this._onTouchMove):Re(document,"mousemove",this._onTouchMove):(Re(z,"dragend",this),Re(qe,"dragstart",this._onDragStart));try{document.selection?vo(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(kn=!1,qe&&z){Ct("dragStarted",this,{evt:n}),this.nativeDraggable&&Re(document,"dragover",Oc);var o=this.options;!e&&Ht(z,o.dragClass,!1),Ht(z,o.ghostClass,!0),ke.active=this,e&&this._appendGhost(),yt({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Pt){this._lastX=Pt.clientX,this._lastY=Pt.clientY,Qs();for(var e=document.elementFromPoint(Pt.clientX,Pt.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Pt.clientX,Pt.clientY),e!==n);)n=e;if(z.parentNode[Vt]._isOutsideThisEl(e),n)do{if(n[Vt]){var o=void 0;if(o=n[Vt]._onDragOver({clientX:Pt.clientX,clientY:Pt.clientY,target:e,rootEl:n}),o&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);Xs()}},_onTouchMove:function(e){if(rn){var n=this.options,o=n.fallbackTolerance,r=n.fallbackOffset,s=e.touches?e.touches[0]:e,a=Ae&&Vn(Ae,!0),u=Ae&&a&&a.a,c=Ae&&a&&a.d,p=ao&&ft&&ws(ft),C=(s.clientX-rn.clientX+r.x)/(u||1)+(p?p[0]-ti[0]:0)/(u||1),v=(s.clientY-rn.clientY+r.y)/(c||1)+(p?p[1]-ti[1]:0)/(c||1);if(!ke.active&&!kn){if(o&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<o)return;this._onDragStart(e,!0)}if(Ae){a?(a.e+=C-(Xo||0),a.f+=v-(ei||0)):a={a:1,b:0,c:0,d:1,e:C,f:v};var H="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");$e(Ae,"webkitTransform",H),$e(Ae,"mozTransform",H),$e(Ae,"msTransform",H),$e(Ae,"transform",H),Xo=C,ei=v,Pt=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Ae){var e=this.options.fallbackOnBody?document.body:qe,n=ot(z,!0,ao,!0,e),o=this.options;if(ao){for(ft=e;$e(ft,"position")==="static"&&$e(ft,"transform")==="none"&&ft!==document;)ft=ft.parentNode;ft!==document.body&&ft!==document.documentElement?(ft===document&&(ft=Ut()),n.top+=ft.scrollTop,n.left+=ft.scrollLeft):ft=Ut(),ti=ws(ft)}Ae=z.cloneNode(!0),Ht(Ae,o.ghostClass,!1),Ht(Ae,o.fallbackClass,!0),Ht(Ae,o.dragClass,!0),$e(Ae,"transition",""),$e(Ae,"transform",""),$e(Ae,"box-sizing","border-box"),$e(Ae,"margin",0),$e(Ae,"top",n.top),$e(Ae,"left",n.left),$e(Ae,"width",n.width),$e(Ae,"height",n.height),$e(Ae,"opacity","0.8"),$e(Ae,"position",ao?"absolute":"fixed"),$e(Ae,"zIndex","100000"),$e(Ae,"pointerEvents","none"),ke.ghost=Ae,e.appendChild(Ae),$e(Ae,"transform-origin",bs/parseInt(Ae.style.width)*100+"% "+Cs/parseInt(Ae.style.height)*100+"%")}},_onDragStart:function(e,n){var o=this,r=e.dataTransfer,s=o.options;if(Ct("dragStart",this,{evt:e}),ke.eventCanceled){this._onDrop();return}Ct("setupClone",this),ke.eventCanceled||(Je=Zs(z),Je.draggable=!1,Je.style["will-change"]="",this._hideClone(),Ht(Je,this.options.chosenClass,!1),ke.clone=Je),o.cloneId=vo(function(){Ct("clone",o),!ke.eventCanceled&&(o.options.removeCloneOnHide||qe.insertBefore(Je,z),o._hideClone(),yt({sortable:o,name:"clone"}))}),!n&&Ht(z,s.dragClass,!0),n?(ko=!0,o._loopId=setInterval(o._emulateDragOver,50)):(Oe(document,"mouseup",o._onDrop),Oe(document,"touchend",o._onDrop),Oe(document,"touchcancel",o._onDrop),r&&(r.effectAllowed="move",s.setData&&s.setData.call(o,r,z)),Re(document,"drop",o),$e(z,"transform","translateZ(0)")),kn=!0,o._dragStartId=vo(o._dragStarted.bind(o,n,e)),Re(document,"selectstart",o),On=!0,jn&&$e(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,o=e.target,r,s,a,u=this.options,c=u.group,p=ke.active,C=so===c,v=u.sort,H=ut||p,x,T=this,I=!1;if(gi)return;function se(U,ie){Ct(U,T,zt({evt:e,isOwner:C,axis:x?"vertical":"horizontal",revert:a,dragRect:r,targetRect:s,canSort:v,fromSortable:H,target:o,completed:ee,onMove:function(Se,me){return lo(qe,n,z,r,Se,ot(Se),e,me)},changed:ne},ie))}function E(){se("dragOverAnimationCapture"),T.captureAnimationState(),T!==H&&H.captureAnimationState()}function ee(U){return se("dragOverCompleted",{insertion:U}),U&&(C?p._hideClone():p._showClone(T),T!==H&&(Ht(z,ut?ut.options.ghostClass:p.options.ghostClass,!1),Ht(z,u.ghostClass,!0)),ut!==T&&T!==ke.active?ut=T:T===ke.active&&ut&&(ut=null),H===T&&(T._ignoreWhileAnimating=o),T.animateAll(function(){se("dragOverAnimationComplete"),T._ignoreWhileAnimating=null}),T!==H&&(H.animateAll(),H._ignoreWhileAnimating=null)),(o===z&&!z.animated||o===n&&!o.animated)&&($n=null),!u.dragoverBubble&&!e.rootEl&&o!==document&&(z.parentNode[Vt]._isOutsideThisEl(e.target),!U&&an(e)),!u.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),I=!0}function ne(){At=Et(z),Jt=Et(z,u.draggable),yt({sortable:T,name:"change",toEl:n,newIndex:At,newDraggableIndex:Jt,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),o=jt(o,u.draggable,n,!0),se("dragOver"),ke.eventCanceled)return I;if(z.contains(e.target)||o.animated&&o.animatingX&&o.animatingY||T._ignoreWhileAnimating===o)return ee(!1);if(ko=!1,p&&!u.disabled&&(C?v||(a=Ye!==qe):ut===this||(this.lastPutMode=so.checkPull(this,p,z,e))&&c.checkPut(this,p,z,e))){if(x=this._getDirection(e,o)==="vertical",r=ot(z),se("dragOverValid"),ke.eventCanceled)return I;if(a)return Ye=qe,E(),this._hideClone(),se("revert"),ke.eventCanceled||(ln?qe.insertBefore(z,ln):qe.appendChild(z)),ee(!0);var ae=Vi(n,u.draggable);if(!ae||jc(e,x,this)&&!ae.animated){if(ae===z)return ee(!1);if(ae&&n===e.target&&(o=ae),o&&(s=ot(o)),lo(qe,n,z,r,o,s,e,!!o)!==!1)return E(),n.appendChild(z),Ye=n,ne(),ee(!0)}else if(ae&&Fc(e,x,this)){var q=Sn(n,0,u,!0);if(q===z)return ee(!1);if(o=q,s=ot(o),lo(qe,n,z,r,o,s,e,!1)!==!1)return E(),n.insertBefore(z,q),Ye=n,ne(),ee(!0)}else if(o.parentNode===n){s=ot(o);var ce=0,_,M=z.parentNode!==n,L=!_c(z.animated&&z.toRect||r,o.animated&&o.toRect||s,x),g=x?"top":"left",S=ys(o,"top","top")||ys(z,"top","top"),w=S?S.scrollTop:void 0;$n!==o&&(_=s[g],Gn=!1,ro=!L&&u.invertSwap||M),ce=Uc(e,o,s,x,L?1:u.swapThreshold,u.invertedSwapThreshold==null?u.swapThreshold:u.invertedSwapThreshold,ro,$n===o);var fe;if(ce!==0){var oe=Et(z);do oe-=ce,fe=Ye.children[oe];while(fe&&($e(fe,"display")==="none"||fe===Ae))}if(ce===0||fe===o)return ee(!1);$n=o,Wn=ce;var Ie=o.nextElementSibling,ge=!1;ge=ce===1;var D=lo(qe,n,z,r,o,s,e,ge);if(D!==!1)return(D===1||D===-1)&&(ge=D===1),gi=!0,setTimeout(Rc,30),E(),ge&&!Ie?n.appendChild(z):o.parentNode.insertBefore(z,ge?Ie:o),S&&qs(S,0,w-S.scrollTop),Ye=z.parentNode,_!==void 0&&!ro&&(mo=Math.abs(_-ot(o)[g])),ne(),ee(!0)}if(n.contains(z))return ee(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Oe(document,"mousemove",this._onTouchMove),Oe(document,"touchmove",this._onTouchMove),Oe(document,"pointermove",this._onTouchMove),Oe(document,"dragover",an),Oe(document,"mousemove",an),Oe(document,"touchmove",an)},_offUpEvents:function(){var e=this.el.ownerDocument;Oe(e,"mouseup",this._onDrop),Oe(e,"touchend",this._onDrop),Oe(e,"pointerup",this._onDrop),Oe(e,"touchcancel",this._onDrop),Oe(document,"selectstart",this)},_onDrop:function(e){var n=this.el,o=this.options;if(At=Et(z),Jt=Et(z,o.draggable),Ct("drop",this,{evt:e}),Ye=z&&z.parentNode,At=Et(z),Jt=Et(z,o.draggable),ke.eventCanceled){this._nulling();return}kn=!1,ro=!1,Gn=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),mi(this.cloneId),mi(this._dragStartId),this.nativeDraggable&&(Oe(document,"drop",this),Oe(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),jn&&$e(document.body,"user-select",""),$e(z,"transform",""),e&&(On&&(e.cancelable&&e.preventDefault(),!o.dropBubble&&e.stopPropagation()),Ae&&Ae.parentNode&&Ae.parentNode.removeChild(Ae),(qe===Ye||ut&&ut.lastPutMode!=="clone")&&Je&&Je.parentNode&&Je.parentNode.removeChild(Je),z&&(this.nativeDraggable&&Oe(z,"dragend",this),ni(z),z.style["will-change"]="",On&&!kn&&Ht(z,ut?ut.options.ghostClass:this.options.ghostClass,!1),Ht(z,this.options.chosenClass,!1),yt({sortable:this,name:"unchoose",toEl:Ye,newIndex:null,newDraggableIndex:null,originalEvent:e}),qe!==Ye?(At>=0&&(yt({rootEl:Ye,name:"add",toEl:Ye,fromEl:qe,originalEvent:e}),yt({sortable:this,name:"remove",toEl:Ye,originalEvent:e}),yt({rootEl:Ye,name:"sort",toEl:Ye,fromEl:qe,originalEvent:e}),yt({sortable:this,name:"sort",toEl:Ye,originalEvent:e})),ut&&ut.save()):At!==Hn&&At>=0&&(yt({sortable:this,name:"update",toEl:Ye,originalEvent:e}),yt({sortable:this,name:"sort",toEl:Ye,originalEvent:e})),ke.active&&((At==null||At===-1)&&(At=Hn,Jt=zn),yt({sortable:this,name:"end",toEl:Ye,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Ct("nulling",this),qe=z=Ye=Ae=ln=Je=go=Xt=rn=Pt=On=At=Jt=Hn=zn=$n=Wn=ut=so=ke.dragged=ke.ghost=ke.clone=ke.active=null,Ho.forEach(function(e){e.checked=!0}),Ho.length=Xo=ei=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":z&&(this._onDragOver(e),Nc(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,o=this.el.children,r=0,s=o.length,a=this.options;r<s;r++)n=o[r],jt(n,a.draggable,this.el,!1)&&e.push(n.getAttribute(a.dataIdAttr)||Wc(n));return e},sort:function(e,n){var o={},r=this.el;this.toArray().forEach(function(s,a){var u=r.children[a];jt(u,this.options.draggable,r,!1)&&(o[s]=u)},this),n&&this.captureAnimationState(),e.forEach(function(s){o[s]&&(r.removeChild(o[s]),r.appendChild(o[s]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return jt(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var o=this.options;if(n===void 0)return o[e];var r=Xn.modifyOption(this,e,n);typeof r<"u"?o[e]=r:o[e]=n,e==="group"&&Js(o)},destroy:function(){Ct("destroy",this);var e=this.el;e[Vt]=null,Oe(e,"mousedown",this._onTapStart),Oe(e,"touchstart",this._onTapStart),Oe(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Oe(e,"dragover",this),Oe(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),xo.splice(xo.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Xt){if(Ct("hideClone",this),ke.eventCanceled)return;$e(Je,"display","none"),this.options.removeCloneOnHide&&Je.parentNode&&Je.parentNode.removeChild(Je),Xt=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Xt){if(Ct("showClone",this),ke.eventCanceled)return;z.parentNode==qe&&!this.options.group.revertClone?qe.insertBefore(Je,z):ln?qe.insertBefore(Je,ln):qe.appendChild(Je),this.options.group.revertClone&&this.animate(z,Je),$e(Je,"display",""),Xt=!1}}};function Nc(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function lo(t,e,n,o,r,s,a,u){var c,p=t[Vt],C=p.options.onMove,v;return window.CustomEvent&&!Kt&&!Qn?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=t,c.dragged=n,c.draggedRect=o,c.related=r||e,c.relatedRect=s||ot(e),c.willInsertAfter=u,c.originalEvent=a,t.dispatchEvent(c),C&&(v=C.call(p,c,a)),v}function ni(t){t.draggable=!1}function Rc(){gi=!1}function Fc(t,e,n){var o=ot(Sn(n.el,0,n.options,!0)),r=10;return e?t.clientX<o.left-r||t.clientY<o.top&&t.clientX<o.right:t.clientY<o.top-r||t.clientY<o.bottom&&t.clientX<o.left}function jc(t,e,n){var o=ot(Vi(n.el,n.options.draggable)),r=10;return e?t.clientX>o.right+r||t.clientX<=o.right&&t.clientY>o.bottom&&t.clientX>=o.left:t.clientX>o.right&&t.clientY>o.top||t.clientX<=o.right&&t.clientY>o.bottom+r}function Uc(t,e,n,o,r,s,a,u){var c=o?t.clientY:t.clientX,p=o?n.height:n.width,C=o?n.top:n.left,v=o?n.bottom:n.right,H=!1;if(!a){if(u&&mo<p*r){if(!Gn&&(Wn===1?c>C+p*s/2:c<v-p*s/2)&&(Gn=!0),Gn)H=!0;else if(Wn===1?c<C+mo:c>v-mo)return-Wn}else if(c>C+p*(1-r)/2&&c<v-p*(1-r)/2)return zc(e)}return H=H||a,H&&(c<C+p*s/2||c>v-p*s/2)?c>C+p/2?1:-1:0}function zc(t){return Et(z)<Et(t)?1:-1}function Wc(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;n--;)o+=e.charCodeAt(n);return o.toString(36)}function Gc(t){Ho.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var o=e[n];o.checked&&Ho.push(o)}}function vo(t){return setTimeout(t,0)}function mi(t){return clearTimeout(t)}To&&Re(document,"touchmove",function(t){(ke.active||kn)&&t.cancelable&&t.preventDefault()});ke.utils={on:Re,off:Oe,css:$e,find:Ws,is:function(e,n){return!!jt(e,n,e,!1)},extend:Vc,throttle:Gs,closest:jt,toggleClass:Ht,clone:Zs,index:Et,nextTick:vo,cancelNextTick:mi,detectDirection:Ys,getChild:Sn};ke.get=function(t){return t[Vt]};ke.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(ke.utils=zt(zt({},ke.utils),o.utils)),Xn.mount(o)})};ke.create=function(t,e){return new ke(t,e)};ke.version=kc;var tt=[],Nn,vi,yi=!1,oi,ii,Ao,Rn;function qc(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var o=n.originalEvent;this.sortable.nativeDraggable?Re(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Re(document,"pointermove",this._handleFallbackAutoScroll):o.touches?Re(document,"touchmove",this._handleFallbackAutoScroll):Re(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var o=n.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?Oe(document,"dragover",this._handleAutoScroll):(Oe(document,"pointermove",this._handleFallbackAutoScroll),Oe(document,"touchmove",this._handleFallbackAutoScroll),Oe(document,"mousemove",this._handleFallbackAutoScroll)),$s(),yo(),Mc()},nulling:function(){Ao=vi=Nn=yi=Rn=oi=ii=null,tt.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,o){var r=this,s=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,u=document.elementFromPoint(s,a);if(Ao=n,o||this.options.forceAutoScrollFallback||Qn||Kt||jn){si(n,this.options,u,o);var c=en(u,!0);yi&&(!Rn||s!==oi||a!==ii)&&(Rn&&$s(),Rn=setInterval(function(){var p=en(document.elementFromPoint(s,a),!0);p!==c&&(c=p,yo()),si(n,r.options,p,o)},10),oi=s,ii=a)}else{if(!this.options.bubbleScroll||en(u,!0)===Ut()){yo();return}si(n,this.options,en(u,!1),!1)}}},Zt(t,{pluginName:"scroll",initializeByDefault:!0})}function yo(){tt.forEach(function(t){clearInterval(t.pid)}),tt=[]}function $s(){clearInterval(Rn)}var si=Gs(function(t,e,n,o){if(e.scroll){var r=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,u=e.scrollSpeed,c=Ut(),p=!1,C;vi!==n&&(vi=n,yo(),Nn=e.scroll,C=e.scrollFn,Nn===!0&&(Nn=en(n,!0)));var v=0,H=Nn;do{var x=H,T=ot(x),I=T.top,se=T.bottom,E=T.left,ee=T.right,ne=T.width,ae=T.height,q=void 0,ce=void 0,_=x.scrollWidth,M=x.scrollHeight,L=$e(x),g=x.scrollLeft,S=x.scrollTop;x===c?(q=ne<_&&(L.overflowX==="auto"||L.overflowX==="scroll"||L.overflowX==="visible"),ce=ae<M&&(L.overflowY==="auto"||L.overflowY==="scroll"||L.overflowY==="visible")):(q=ne<_&&(L.overflowX==="auto"||L.overflowX==="scroll"),ce=ae<M&&(L.overflowY==="auto"||L.overflowY==="scroll"));var w=q&&(Math.abs(ee-r)<=a&&g+ne<_)-(Math.abs(E-r)<=a&&!!g),fe=ce&&(Math.abs(se-s)<=a&&S+ae<M)-(Math.abs(I-s)<=a&&!!S);if(!tt[v])for(var oe=0;oe<=v;oe++)tt[oe]||(tt[oe]={});(tt[v].vx!=w||tt[v].vy!=fe||tt[v].el!==x)&&(tt[v].el=x,tt[v].vx=w,tt[v].vy=fe,clearInterval(tt[v].pid),(w!=0||fe!=0)&&(p=!0,tt[v].pid=setInterval((function(){o&&this.layer===0&&ke.active._onTouchMove(Ao);var Ie=tt[this.layer].vy?tt[this.layer].vy*u:0,ge=tt[this.layer].vx?tt[this.layer].vx*u:0;typeof C=="function"&&C.call(ke.dragged.parentNode[Vt],ge,Ie,t,Ao,tt[this.layer].el)!=="continue"||qs(tt[this.layer].el,ge,Ie)}).bind({layer:v}),24))),v++}while(e.bubbleScroll&&H!==c&&(H=en(H,!1)));yi=p}},30),er=function(e){var n=e.originalEvent,o=e.putSortable,r=e.dragEl,s=e.activeSortable,a=e.dispatchSortableEvent,u=e.hideGhostForTarget,c=e.unhideGhostForTarget;if(n){var p=o||s;u();var C=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,v=document.elementFromPoint(C.clientX,C.clientY);c(),p&&!p.el.contains(v)&&(a("spill"),this.onSpill({dragEl:r,putSortable:o}))}};function Mi(){}Mi.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,o=e.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var r=Sn(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(n,r):this.sortable.el.appendChild(n),this.sortable.animateAll(),o&&o.animateAll()},drop:er};Zt(Mi,{pluginName:"revertOnSpill"});function Si(){}Si.prototype={onSpill:function(e){var n=e.dragEl,o=e.putSortable,r=o||this.sortable;r.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),r.animateAll()},drop:er};Zt(Si,{pluginName:"removeOnSpill"});ke.mount(new qc);ke.mount(Si,Mi);function Zc(t,e){return Object.values(t).indexOf(e)}function Kc(t,e,n,o){if(!t)return[];const r=Object.values(t),s=e.length-o;return[...e].map((u,c)=>c>=s?r.length:r.indexOf(u))}function Yc(t){return["transition-group","TransitionGroup"].includes(t)}function ks(t){if(!t||t.length!==1)return!1;const[{type:e}]=t;return e?Yc(e.name):!1}function Jc(t,e){return e?{...e.props,...e.attrs}:t}const wi=["Start","Add","Remove","Update","End"],bi=["Choose","Unchoose","Sort","Filter","Clone"],Qc=["Move",...wi,...bi].map(t=>"on"+t);let ri=null;const Tn=Ts({name:"VueDraggableNext",inheritAttrs:!1,props:{options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:t=>t},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},emits:["update:modelValue","move","change",...wi.map(t=>t.toLowerCase()),...bi.map(t=>t.toLowerCase())],setup(t,{emit:e,slots:n,attrs:o}){const r=pt(!1),s=pt(!1),a=pt(0),u=pt(0),c=pt([]),p=pt(null),C=pt(null),v=ui(()=>t.list?t.list:t.modelValue),H=xl();function x(){return t.component?te(t.component):t.tag}function T(R){if(C.value)for(const N in R){const G=hs(N);Qc.indexOf(G)===-1&&C.value.option(G,R[N])}}function I(){var R;return((R=H==null?void 0:H.proxy)==null?void 0:R.$el.children)||[]}async function se(){var R;await po(),c.value=Kc(I(),((R=H==null?void 0:H.proxy)==null?void 0:R.$el.children)||[],r.value,u.value)}function E(R){const N=Zc(I()||[],R);if(N===-1)return null;const G=v.value?v.value[N]:null;return{index:N,element:G}}function ee(R){po(()=>e("change",R))}function ne(R){if(t.list){R(t.list);return}const N=[...t.modelValue||[]];R(N),e("update:modelValue",N)}function ae(...R){ne(G=>G.splice(...R))}function q(R,N){ne(we=>we.splice(N,0,we.splice(R,1)[0]))}function ce(R){const N=c.value,G=N.length;return R>G-1?G:N[R]}function _(){var N,G;return n.default&&((G=(N=n.default()[0])==null?void 0:N.component)==null?void 0:G.proxy)||null}function M(R){if(!t.noTransitionOnDrag||!r.value)return;const N=I();N[R]&&(N[R].data=null);const G=_();G&&(G.children=[],G.kept=void 0)}function L(R){se(),p.value=E(R.item),p.value&&(R.item._underlying_vm_=t.clone(p.value.element),ri=R.item)}function g(R){const N=R.item._underlying_vm_;if(N===void 0)return;Yo(R.item);const G=ce(R.newIndex);ae(G,0,N),se(),ee({added:{element:N,newIndex:G}})}function S(R){var G;if(fs((G=H==null?void 0:H.proxy)==null?void 0:G.$el,R.item,R.oldIndex),R.pullMode==="clone"){Yo(R.clone);return}if(!p.value)return;const N=p.value.index;ae(N,1),M(N),ee({removed:{element:p.value.element,oldIndex:N}})}function w(R){var we,be;Yo(R.item),fs(R.from,R.item,R.oldIndex);const N=(we=p.value)==null?void 0:we.index,G=ce(R.newIndex);q(N,G),ee({moved:{element:(be=p.value)==null?void 0:be.element,oldIndex:N,newIndex:G}})}function fe(R,N){Object.prototype.hasOwnProperty.call(R,N)&&(R[N]+=a.value)}function oe(R){return R.__draggable_component__}function Ie({to:R,related:N}){const G=oe(R);if(!G)return{component:G};const we=G.realList,be={list:we,component:G};if(R!==N&&we&&G.getUnderlyingVm){const $=G.getUnderlyingVm(N);if($)return Object.assign($,be)}return be}function ge(R,N){const G=[...N.to.children].filter(m=>m.style.display!=="none");if(G.length===0)return 0;const we=G.indexOf(N.related),be=R.component.getVmIndex(we);return G.indexOf(ri)!==-1||!N.willInsertAfter?be:be+1}const D=()=>{var be,$;const R={};wi.forEach(m=>{R["on"+m]=ie(m)}),bi.forEach(m=>{R["on"+m]=U.bind(null,m)});const N=Object.keys(o).reduce((m,A)=>(m[hs(A)]=o[A],m),{}),G=Object.assign({},N,R,{onMove:(m,A)=>Le(m,A)});"draggable"in G||(G.draggable=">*");const we=((be=H==null?void 0:H.proxy)==null?void 0:be.$el.nodeType)===1?H.proxy.$el:(($=H==null?void 0:H.proxy)==null?void 0:$.$el.parentElement)||null;we&&(C.value=new ke(we,G),we.__draggable_component__=H==null?void 0:H.proxy,se())};function U(R,N){po(()=>e(R.toLowerCase(),N))}function ie(R){return N=>{if(v.value!==null){const G="onDrag"+R,we=me[G];we&&we(N)}U(R,N)}}function Le(R,N){const G=t.move;if(!G||!v.value)return!0;const we=Ie(R),be=p.value,$=ge(we,R);be&&Object.assign(be,{futureIndex:$});const m=Object.assign({},R,{relatedContext:we,draggedContext:be});return G(m,N)}function Se(){se(),ri=null}const me={onDragStart:L,onDragAdd:g,onDragRemove:S,onDragUpdate:w,onDragMove:Le,onDragEnd:Se};return Ci(()=>{D()}),t.list!==null&&t.modelValue!==null&&yc.error("list props are mutually exclusive! Please set one."),{getTag:x,realList:v,visibleIndexes:c,noneFunctionalComponentMode:s,headerOffset:a,footerOffset:u,transitionMode:r,computeIndexes:se,updateOptions:T,getChildrenNodes:I,getUnderlyingVm:E,emitChanges:ee,alterList:ne,spliceList:ae,updatePosition:q,getVmIndex:ce,getComponent:_,resetTransitionData:M,onDragStart:L,onDragAdd:g,onDragRemove:S,onDragUpdate:w,updateProperty:fe,onDragMove:Le,onDragEnd:Se,mounted:D,context:p,sortableInstance:C,getRelatedContextFromMoveEvent:Ie,getTargetedComponent:oe,computeFutureIndex:ge}},render(){const t=this.getTag(),e=Jc(this.$attrs,this.componentData);if(typeof t=="string"){const o=this.$slots.default&&typeof this.$slots.default=="function"?this.$slots.default():null;return o?(this.transitionMode=ks(o),Go(t,e,o)):Go(t,e,[])}const n=this.$slots.default?{default:this.$slots.default}:{};if(this.$slots.default){const o=typeof this.$slots.default=="function"?this.$slots.default():null;this.transitionMode=ks(o||[])}return Go(t,e,n)}}),Xc={name:"NodeTemplate",props:{nodeElement:Object},data(){return{item:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Files.get(this.nodeElement.uuid)))}}};function ep(t,e,n,o,r,s){return r.item?(f(),y(re,{key:0},[ye(k(r.item.title),1)],64)):V("",!0)}const tp=He(Xc,[["render",ep]]),np={name:"WriterNode",components:{VueDraggableNext:Tn,NodeTemplate:tp},emits:["updateDatabase"],props:{list:Array},data(){return{drag:!1}},computed:{dragOptions(){return{animation:200,group:"filesystem",disabled:!1,ghostClass:"ghost"}}},methods:{toggleOpen(t){t.open=!t.open,this.updateDatabase()},deleteFile(t,e){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(n=>{n.isConfirmed&&(this.$root.session.writer.file&&this.$root.session.writer.file.uuid===e.uuid&&(this.$root.session.writer.file=null),e.type==="folder"&&e.children.length&&this.recursiveDelete(e.children),this.list.splice(t,1),this.updateDatabase(),this.$root.DeleteRecord("Files",e.uuid),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})},recursiveDelete(t){t.forEach(e=>{this.$root.session.writer.file&&this.$root.session.writer.file.uuid===e.uuid&&(this.$root.session.writer.file=null),e.type==="folder"?e.children.length&&this.recursiveDelete(e.children):this.$root.DeleteRecord("Files",e.uuid)})},updateDatabase(){this.$emit("updateDatabase")},selectNode(t){this.$root.session.writer.file=t},isSelected(t){return!!(this.$root.session.writer.file&&this.$root.session.writer.file.uuid===t)}}},op={class:"list-group-item",tabindex:"0"},ip={key:0,class:"itemBox"},sp=["onClick"],rp={class:"handle"},ap={key:0,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},lp={key:1,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},dp={class:"title"},up=["onClick"],cp={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},pp={key:1,class:"itemBox"},hp=["onClick"],fp=["onClick"],gp={key:0},mp={key:0,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},vp={key:1,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},yp={key:1},wp={key:0,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},bp={key:1,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Cp={class:"title"},Lp=["onClick"],$p={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},kp={key:2};function xp(t,e,n,o,r,s){const a=te("NodeTemplate"),u=te("WriterNode",!0),c=te("VueDraggableNext");return f(),Be(c,cn({list:n.list,tag:"transition-group",handle:".handle","component-data":{tag:"div",type:"transition-group",name:r.drag?null:"flip-list"}},s.dragOptions,{onStart:e[0]||(e[0]=p=>r.drag=!0),onEnd:e[1]||(e[1]=p=>r.drag=!1),"item-key":"uuid",onChange:s.updateDatabase,emptyInsertThreshold:30}),{default:wt(()=>[(f(!0),y(re,null,Pe(n.list,(p,C)=>(f(),y("div",{key:p.uuid,class:"childbox"},[i("div",op,[p.type==="file"?(f(),y("div",ip,[i("div",{class:je(["itemTitle",s.isSelected(p.uuid)?"chosen":""]),onClick:v=>s.selectNode(p)},[i("span",rp,[s.isSelected(p.uuid)?(f(),y("svg",ap,[...e[2]||(e[2]=[i("path",{d:"M13,9H18.5L13,3.5V9M6,2H14L20,8V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V4C4,2.89 4.89,2 6,2M15,18V16H6V18H15M18,14V12H6V14H18Z"},null,-1)])])):V("",!0),s.isSelected(p.uuid)?V("",!0):(f(),y("svg",lp,[...e[3]||(e[3]=[i("path",{d:"M6,2A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6M6,4H13V9H18V20H6V4M8,12V14H16V12H8M8,16V18H13V16H8Z"},null,-1)])]))]),i("div",dp,[(f(),Be(a,{nodeElement:p,key:p.title},null,8,["nodeElement"]))])],10,sp),i("button",{class:"deleteIconButton",onClick:v=>s.deleteFile(C,p),tabindex:"0"},[(f(),y("svg",cp,[...e[4]||(e[4]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])]))],8,up)])):V("",!0),p.type==="folder"?(f(),y("div",pp,[i("div",{class:je(["itemTitle",s.isSelected(p.uuid)?"chosen":""]),onClick:v=>s.selectNode(p)},[i("span",{class:"handle",onClick:v=>s.toggleOpen(p)},[s.isSelected(p.uuid)?(f(),y("span",gp,[p.open?V("",!0):(f(),y("svg",mp,[...e[5]||(e[5]=[i("path",{d:"M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z"},null,-1)])])),p.open?(f(),y("svg",vp,[...e[6]||(e[6]=[i("path",{d:"M19,20H4C2.89,20 2,19.1 2,18V6C2,4.89 2.89,4 4,4H10L12,6H19A2,2 0 0,1 21,8H21L4,8V18L6.14,10H23.21L20.93,18.5C20.7,19.37 19.92,20 19,20Z"},null,-1)])])):V("",!0)])):V("",!0),s.isSelected(p.uuid)?V("",!0):(f(),y("span",yp,[p.open?V("",!0):(f(),y("svg",wp,[...e[7]||(e[7]=[i("path",{d:"M20,18H4V8H20M20,6H12L10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6Z"},null,-1)])])),p.open?(f(),y("svg",bp,[...e[8]||(e[8]=[i("path",{d:"M6.1,10L4,18V8H21A2,2 0 0,0 19,6H12L10,4H4A2,2 0 0,0 2,6V18A2,2 0 0,0 4,20H19C19.9,20 20.7,19.4 20.9,18.5L23.2,10H6.1M19,18H6L7.6,12H20.6L19,18Z"},null,-1)])])):V("",!0)]))],8,fp),i("div",Cp,k(p.title),1)],10,hp),i("button",{class:"deleteIconButton",onClick:v=>s.deleteFile(C,p),tabindex:"0"},[(f(),y("svg",$p,[...e[9]||(e[9]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])]))],8,Lp)])):V("",!0),p.open?(f(),y("div",kp,[De(u,{list:p.children,onUpdateDatabase:s.updateDatabase,onSelectNode:v=>s.selectNode(p)},null,8,["list","onUpdateDatabase","onSelectNode"])])):V("",!0)])]))),128))]),_:1},16,["list","component-data","onChange"])}const Hp=He(np,[["render",xp],["__scopeId","data-v-6ec7c1fa"]]),Ap={name:"WriterLeftSide",components:{WriterNode:Hp},data(){return{drag:!1,pinme:!1,defaultFileStructure:{type:"file"},defaultFolderStructure:{type:"folder",open:!0,title:this.$root.setlang.writer.newfolder,children:[]}}},methods:{previewText(t){if(t){t=t.replace(/(<([^>]+)>)/gi," ");let e="...";return t.length<100&&(e=""),t.substring(0,75)+e}},searchForFileandParent(t,e){let n={index:null,parent:null};for(let o=0;o<e.length;o++){if(e[o].uuid===t.uuid)return n.index=o,n.parent=e,n;if(e[o].children&&e[o].children.length)return this.searchForFileandParent(t,e[o].children)}},searchForFolder(t,e){for(let n=0;n<e.length;n++){if(e[n].uuid===t)return e[n];if(e[n].children){console.log("childs",e[n].children);let o=this.searchForFolder(t,e[n].children);if(o)return o}}},async addNode(t){let e=null;if(t==="file"){e=JSON.parse(JSON.stringify(this.defaultFileStructure)),e.uuid=this.$root.uuid();let o={};o.title=this.$root.setlang.writer.newfile,o.writerid=this.$root.session.writer.selected.uuid,o.uuid=e.uuid,o.content="",o.notes=[],await this.$root.AddRecord("Files",o)}t==="folder"&&(e=JSON.parse(JSON.stringify(this.defaultFolderStructure)),e.uuid=this.$root.uuid());let n=JSON.parse(JSON.stringify(this.$root.session.writer.selected));if(console.log("WriterNewObj",n),!this.$root.session.writer.file)n.files.push(e);else if(this.$root.session.writer.file.type==="folder"){let o=this.searchForFolder(this.$root.session.writer.file.uuid,n.files);console.log("folder",o),o&&o.children.push(e)}else{let o=this.searchForFileandParent(this.$root.session.writer.file,n.files);o&&o.parent.splice(o.index+1,0,e)}this.$root.UpdateRecord("Writer",n.uuid,n)},async updateDatabase(){console.log("updating writer database",this.$root.session.writer.selected),await this.$root.UpdateRecord("Writer",this.$root.session.writer.selected.uuid,this.$root.session.writer.selected)}},computed:{dragOptions(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}}}},Vp={key:0,style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},Mp={key:1,style:{width:"18px",height:"px"},viewBox:"0 0 24 24"},Sp={class:"scrollpanel"},Tp={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Ep={key:0},Bp={key:1},Ip={class:"addbar"},Dp={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},_p={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function Pp(t,e,n,o,r,s){const a=te("WriterNode");return this.$root.session.writer.selected?(f(),y("div",{key:0,class:je(["menu",t.$root.lhspin?"lhspinned":""])},[i("button",{class:"pinBtn",onClick:e[0]||(e[0]=u=>t.$root.lhspin=!t.$root.lhspin)},[t.$root.lhspin?(f(),y("svg",Vp,[...e[4]||(e[4]=[i("path",{d:"M16,12V4H17V2H7V4H8V12L6,14V16H11.2V22H12.8V16H18V14L16,12Z"},null,-1)])])):V("",!0),t.$root.lhspin?V("",!0):(f(),y("svg",Mp,[...e[5]||(e[5]=[i("path",{d:"M2,5.27L3.28,4L20,20.72L18.73,22L12.8,16.07V22H11.2V16H6V14L8,12V11.27L2,5.27M16,12L18,14V16H17.82L8,6.18V4H7V2H17V4H16V12Z"},null,-1)])]))]),i("div",Sp,[i("button",{class:"settingsBtn",style:{border:"0",outline:"none"},onClick:e[1]||(e[1]=u=>this.$root.session.writer.file=null)},[(f(),y("svg",Tp,[...e[6]||(e[6]=[i("path",{d:"M17.5 14.33C18.29 14.33 19.13 14.41 20 14.57V16.07C19.38 15.91 18.54 15.83 17.5 15.83C15.6 15.83 14.11 16.16 13 16.82V15.13C14.17 14.6 15.67 14.33 17.5 14.33M13 12.46C14.29 11.93 15.79 11.67 17.5 11.67C18.29 11.67 19.13 11.74 20 11.9V13.4C19.38 13.24 18.54 13.16 17.5 13.16C15.6 13.16 14.11 13.5 13 14.15M17.5 10.5C15.6 10.5 14.11 10.82 13 11.5V9.84C14.23 9.28 15.73 9 17.5 9C18.29 9 19.13 9.08 20 9.23V10.78C19.26 10.59 18.41 10.5 17.5 10.5M21 18.5V7C19.96 6.67 18.79 6.5 17.5 6.5C15.45 6.5 13.62 7 12 8V19.5C13.62 18.5 15.45 18 17.5 18C18.69 18 19.86 18.16 21 18.5M17.5 4.5C19.85 4.5 21.69 5 23 6V20.56C23 20.68 22.95 20.8 22.84 20.91C22.73 21 22.61 21.08 22.5 21.08C22.39 21.08 22.31 21.06 22.25 21.03C20.97 20.34 19.38 20 17.5 20C15.45 20 13.62 20.5 12 21.5C10.66 20.5 8.83 20 6.5 20C4.84 20 3.25 20.36 1.75 21.07C1.72 21.08 1.68 21.08 1.63 21.1C1.59 21.11 1.55 21.12 1.5 21.12C1.39 21.12 1.27 21.08 1.16 21C1.05 20.89 1 20.78 1 20.65V6C2.34 5 4.18 4.5 6.5 4.5C8.83 4.5 10.66 5 12 6C13.34 5 15.17 4.5 17.5 4.5Z"},null,-1)])])),i("div",null,[this.$root.session.writer.selected.title?V("",!0):(f(),y("span",Ep,[i("i",null,k(this.$root.setlang.writer.settings),1)])),this.$root.session.writer.selected.title?(f(),y("span",Bp,k(this.$root.session.writer.selected.title),1)):V("",!0)])]),(f(),Be(a,{list:t.$root.session.writer.selected.files,onUpdateDatabase:s.updateDatabase,key:this.$root.session.writer.selected.lastupdated},null,8,["list","onUpdateDatabase"]))]),i("div",Ip,[i("button",{onClick:e[2]||(e[2]=u=>s.addNode("folder"))},[(f(),y("svg",Dp,[...e[7]||(e[7]=[i("path",{d:"M13 19C13 19.34 13.04 19.67 13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.89 4 4 4H10L12 6H20C21.1 6 22 6.89 22 8V13.81C21.12 13.3 20.1 13 19 13C15.69 13 13 15.69 13 19M20 18V15H18V18H15V20H18V23H20V20H23V18H20Z"},null,-1)])]))]),i("button",{onClick:e[3]||(e[3]=u=>s.addNode("file")),style:{left:"50px"}},[(f(),y("svg",_p,[...e[8]||(e[8]=[i("path",{d:"M14 2H6C4.89 2 4 2.89 4 4V20C4 21.11 4.89 22 6 22H13.81C13.28 21.09 13 20.05 13 19C13 18.67 13.03 18.33 13.08 18H6V16H13.81C14.27 15.2 14.91 14.5 15.68 14H6V12H18V13.08C18.33 13.03 18.67 13 19 13S19.67 13.03 20 13.08V8L14 2M13 9V3.5L18.5 9H13M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"},null,-1)])]))])])],2)):V("",!0)}const Op=He(Ap,[["render",Pp],["__scopeId","data-v-a5799975"]]),Np={name:"MiniImage",props:["uuid"],data(){return{base64Url:null}},async mounted(){let t=await Rt.ImageLibrary.get(this.uuid);this.base64Url=t.base64}},Rp=["src"];function Fp(t,e,n,o,r,s){return r.base64Url?(f(),y("img",{key:0,src:"data:image/png;base64,"+r.base64Url},null,8,Rp)):V("",!0)}const Ti=He(Np,[["render",Fp]]),jp={name:"CardViewer",emits:["linkcard"],components:{MiniImage:Ti},props:{cardid:{type:String,required:!0},allowlink:{type:Boolean,default:!1}},computed:{currentProjectCards(){let t=[];return Object.keys(this.linkcards).forEach(e=>{this.linkcards[e].title!=""&&t.push(this.linkcards[e])}),t},chooser(){let t=!1;return!this.cardInfo&&this.allowlink?!0:t}},data(){return{cardInfo:gn(fn(async()=>await Rt.Cards.get(this.cardid))),linkcards:gn(fn(async()=>await Rt.Cards.where("title").notEqual("").toArray())),advancedEdit:!1,tag:null,cardChange:null,showimage:null,showLinkBox:!1}},methods:{sendlink(t){this.$emit("linkcard",t,this.cardid)}},async mounted(){}},Up={key:0},zp={key:0},Wp={class:"cardTitle"},Gp={key:0},qp={key:1},Zp={key:1,class:"cardDescription"},Kp=["innerHTML"],Yp={key:1,class:"card"},Jp={key:0},Qp={key:0,class:"LinkBox"},Xp={key:0},eh=["value","onClick"],th={key:1};function nh(t,e,n,o,r,s){const a=te("MiniImage");return f(),y(re,null,[r.cardInfo?(f(),y("div",Up,[i("div",{class:"card",onDblclick:e[1]||(e[1]=u=>t.$root.$data.session.EditCard=n.cardid),style:It("background-color: var("+r.cardInfo.color+"); color : var("+r.cardInfo.color+"-f); fill : var("+r.cardInfo.color+"-f)")},[r.cardInfo.showimage?(f(),y("div",zp,[(f(),Be(a,{uuid:r.cardInfo.showimage,key:r.cardInfo.showimage},null,8,["uuid"]))])):V("",!0),i("div",Wp,[r.cardInfo.title?(f(),y("span",Gp,k(r.cardInfo.title),1)):(f(),y("span",qp,k(this.$root.setlang.cards.cardtitle),1))]),r.cardInfo.showdesc?(f(),y("div",Zp,[i("span",{innerHTML:r.cardInfo.description},null,8,Kp)])):V("",!0),i("button",{class:"clearInterfaceIconButton editButton",onClick:e[0]||(e[0]=u=>t.$root.$data.session.EditCard=n.cardid)},[...e[4]||(e[4]=[i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M14.06,9L15,9.94L5.92,19H5V18.08L14.06,9M17.66,3C17.41,3 17.15,3.1 16.96,3.29L15.13,5.12L18.88,8.87L20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18.17,3.09 17.92,3 17.66,3M14.06,6.19L3,17.25V21H6.75L17.81,9.94L14.06,6.19Z"})],-1)])])],36)])):V("",!0),r.cardInfo?V("",!0):(f(),y("div",Yp,[s.chooser?(f(),y("div",Jp,[i("button",{onClick:e[2]||(e[2]=u=>this.$root.makeNewCard(this.cardid)),class:"interfaceBtn",style:{width:"100%","text-align":"left"}},[e[5]||(e[5]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.9 4 4 4H20C21.11 4 22 4.89 22 6V13.81C21.12 13.3 20.09 13 19 13C15.69 13 13 15.69 13 19C13 19.34 13.04 19.67 13.09 20M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"})],-1)),ye(" "+k(this.$root.setlang.cards.createnewbtn),1)]),e[8]||(e[8]=i("div",{style:{"text-align":"center",padding:"5px"}}," or ",-1)),i("button",{onClick:e[3]||(e[3]=u=>r.showLinkBox=!r.showLinkBox),class:"interfaceBtn"},[e[6]||(e[6]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M11,16H10C8.39,16 6,14.94 6,12C6,9.07 8.39,8 10,8H11V10H10C9.54,10 8,10.17 8,12C8,13.9 9.67,14 10,14H11V16M15,11V13H9V11H15M14,16H13V14H14C14.46,14 16,13.83 16,12C16,10.1 14.33,10 14,10H13V8H14C15.61,8 18,9.07 18,12C18,14.94 15.61,16 14,16Z"})],-1)),ye(" "+k(this.$root.setlang.cards.linkexisting),1)]),r.showLinkBox?(f(),y("div",Qp,[r.linkcards.length==0?(f(),y("div",Xp," No cards ")):V("",!0),(f(!0),y(re,null,Pe(r.linkcards,(u,c)=>(f(),y("button",{class:"interfaceBtn",key:c,value:u.uuid,onClick:p=>s.sendlink(u.uuid)},[e[7]||(e[7]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M19,19H5V5H19V19M11,16H10C8.39,16 6,14.94 6,12C6,9.07 8.39,8 10,8H11V10H10C9.54,10 8,10.17 8,12C8,13.9 9.67,14 10,14H11V16M14,16H13V14H14C14.46,14 16,13.83 16,12C16,10.1 14.33,10 14,10H13V8H14C15.61,8 18,9.07 18,12C18,14.94 15.61,16 14,16M15,13H9V11H15V13Z"})],-1)),ye(" "+k(u.title),1)],8,eh))),128))])):V("",!0)])):(f(),y("div",th,"loading"))]))],64)}const Eo=He(jp,[["render",nh],["__scopeId","data-v-a4d9b1a0"]]),oh={name:"WriterRightSide",display:"Transitions",order:7,components:{VueDraggableNext:Tn,CardViewer:Eo},data(){return{drag:!1,item:gn(fn(async()=>await Rt.Files.get(this.$root.session.writer.file.uuid)))}},methods:{linkCard(t,e){var n=this.item.notes.find(o=>o.uuid===e);n.uuid=t,this.updateDatabase()},deleteNote(t){this.$swal({title:"Are you sure?",text:"You won't be able to undo this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(e=>{e.isConfirmed&&(this.item.notes.splice(t,1),this.updateDatabase(),this.$swal("Deleted!","Your file has been deleted.","success"))})},addCard(){let t={};t.uuid=this.$root.uuid(),this.item.notes.push(t),this.updateDatabase()},updateDatabase(){this.$root.UpdateRecord("Files",this.item.uuid,this.item)}},computed:{dragOptions(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}}}},ih={key:0,style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},sh={key:1,style:{width:"18px",height:"px"},viewBox:"0 0 24 24"},rh={class:"scrollpanel scroll-lhs"},ah={class:"scroll-inside"},lh={key:0},dh={style:{"padding-left":"0px"}},uh=["onClick"],ch={style:{width:"16px",height:"16px"},viewBox:"0 0 24 24"},ph=["onClick"],hh={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},fh={key:0,class:"addbar"},gh={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},mh={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function vh(t,e,n,o,r,s){const a=te("CardViewer"),u=te("VueDraggableNext");return f(),y("div",{class:je(["menu",t.$root.rhspin?"rhspinned":""])},[i("button",{class:"pinBtn",onClick:e[0]||(e[0]=c=>t.$root.rhspin=!t.$root.rhspin)},[t.$root.rhspin?(f(),y("svg",ih,[...e[5]||(e[5]=[i("path",{d:"M16,12V4H17V2H7V4H8V12L6,14V16H11.2V22H12.8V16H18V14L16,12Z"},null,-1)])])):V("",!0),t.$root.rhspin?V("",!0):(f(),y("svg",sh,[...e[6]||(e[6]=[i("path",{d:"M2,5.27L3.28,4L20,20.72L18.73,22L12.8,16.07V22H11.2V16H6V14L8,12V11.27L2,5.27M16,12L18,14V16H17.82L8,6.18V4H7V2H17V4H16V12Z"},null,-1)])]))]),i("div",rh,[i("div",ah,[r.item?(f(),y("div",lh,[De(u,cn({list:r.item.notes,tag:"transition-group",handle:".handle","component-data":{tag:"div",type:"transition-group",name:r.drag?null:"flip-list"}},s.dragOptions,{onStart:e[1]||(e[1]=c=>r.drag=!0),onEnd:e[2]||(e[2]=c=>r.drag=!1),"item-key":"order",onChange:s.updateDatabase}),{default:wt(()=>[(f(!0),y(re,null,Pe(r.item.notes,(c,p)=>(f(),y("div",{key:p,class:"list-group-item",tabindex:"0"},[i("div",dh,[i("div",{class:je(c.completed?"completedcard":"")},[(f(),Be(a,{cardid:c.uuid,allowlink:!0,onLinkcard:s.linkCard,key:c.uuid},null,8,["cardid","onLinkcard"])),i("button",{class:"togglecomplete",onClick:C=>{c.completed=!c.completed,s.updateDatabase()}},[(f(),y("svg",ch,[...e[7]||(e[7]=[i("path",{d:"M19,19H5V5H15V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V11H19M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"},null,-1)])]))],8,uh)],2),e[9]||(e[9]=i("div",{class:"handle"},[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M1.88,0.46L0.46,1.88L5.59,7H2V9H9V2H7V5.59M11,7V9H21V15H23V9A2,2 0 0,0 21,7M7,11V21A2,2 0 0,0 9,23H15V21H9V11M15.88,14.46L14.46,15.88L19.6,21H17V23H23V17H21V19.59"})])],-1)),i("button",{class:"deleteIconButton",onClick:C=>s.deleteNote(p,c),tabindex:"0"},[(f(),y("svg",hh,[...e[8]||(e[8]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])]))],8,ph)])]))),128))]),_:1},16,["list","component-data","onChange"])])):V("",!0)])]),r.item?(f(),y("div",fh,[i("button",{onClick:e[3]||(e[3]=c=>t.$root.openInNew("planningboard")),class:"popBtn"},[(f(),y("svg",gh,[...e[10]||(e[10]=[i("path",{d:"M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z"},null,-1)])]))]),i("button",{onClick:e[4]||(e[4]=(...c)=>s.addCard&&s.addCard(...c)),class:"addBtn"},[(f(),y("svg",mh,[...e[11]||(e[11]=[i("path",{d:"M13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.9 4 4 4H20C21.11 4 22 4.89 22 6V13.81C21.12 13.3 20.09 13 19 13C15.69 13 13 15.69 13 19C13 19.34 13.04 19.67 13.09 20M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"},null,-1)])]))])])):V("",!0)],2)}const yh=He(oh,[["render",vh],["__scopeId","data-v-ac26f627"]]),wh=/^\s*>\s$/,bh=Lt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",lt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Mn({find:wh,type:this.type})]}}),Ch=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Lh=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,$h=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,kh=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,xh=Yn.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",lt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[hn({find:Ch,type:this.type}),hn({find:$h,type:this.type})]},addPasteRules(){return[pn({find:Lh,type:this.type}),pn({find:kh,type:this.type})]}}),Hh="listItem",xs="textStyle",Hs=/^\s*([-+*])\s$/,Ah=Lt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",lt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Hh,this.editor.getAttributes(xs)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Mn({find:Hs,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Mn({find:Hs,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(xs),editor:this.editor})),[t]}}),Vh=/(^|[^`])`([^`]+)`(?!`)/,Mh=/(^|[^`])`([^`]+)`(?!`)/g,Sh=Yn.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",lt(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[hn({find:Vh,type:this.type})]},addPasteRules(){return[pn({find:Mh,type:this.type})]}}),Th=/^```([a-z]+)?[\s\n]$/,Eh=/^~~~([a-z]+)?[\s\n]$/,Bh=Lt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",lt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:o,empty:r}=n;if(!r||o.parent.type!==this.type)return!1;const s=o.parentOffset===o.parent.nodeSize-2,a=o.parent.textContent.endsWith(`

`);return!s||!a?!1:t.chain().command(({tr:u})=>(u.delete(o.pos-2,o.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:o}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type||!(r.parentOffset===r.parent.nodeSize-2))return!1;const u=r.after();return u===void 0?!1:o.nodeAt(u)?t.commands.command(({tr:p})=>(p.setSelection(qn.near(o.resolve(u))),!0)):t.commands.exitCode()}}},addInputRules(){return[ci({find:Th,type:this.type,getAttributes:t=>({language:t[1]})}),ci({find:Eh,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Mo({key:new Li("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),o=e.clipboardData.getData("vscode-editor-data"),r=o?JSON.parse(o):void 0,s=r==null?void 0:r.mode;if(!n||!s)return!1;const{tr:a,schema:u}=t.state,c=u.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:s},c)),a.selection.$from.parent.type!==this.type&&a.setSelection(An.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),Ih=Lt.create({name:"doc",topNode:!0,content:"block+"});function Dh(t={}){return new Mo({view(e){return new _h(e,t)}})}class _h{constructor(e,n){var o;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(o=n.width)!==null&&o!==void 0?o:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let s=a=>{this[r](a)};return e.dom.addEventListener(r,s),{name:r,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,o,r=this.editorView.dom,s=r.getBoundingClientRect(),a=s.width/r.offsetWidth,u=s.height/r.offsetHeight;if(n){let v=e.nodeBefore,H=e.nodeAfter;if(v||H){let x=this.editorView.nodeDOM(this.cursorPos-(v?v.nodeSize:0));if(x){let T=x.getBoundingClientRect(),I=v?T.bottom:T.top;v&&H&&(I=(I+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let se=this.width/2*u;o={left:T.left,right:T.right,top:I-se,bottom:I+se}}}}if(!o){let v=this.editorView.coordsAtPos(this.cursorPos),H=this.width/2*a;o={left:v.left-H,right:v.left+H,top:v.top,bottom:v.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let p,C;if(!c||c==document.body&&getComputedStyle(c).position=="static")p=-pageXOffset,C=-pageYOffset;else{let v=c.getBoundingClientRect(),H=v.width/c.offsetWidth,x=v.height/c.offsetHeight;p=v.left-c.scrollLeft*H,C=v.top-c.scrollTop*x}this.element.style.left=(o.left-p)/a+"px",this.element.style.top=(o.top-C)/u+"px",this.element.style.width=(o.right-o.left)/a+"px",this.element.style.height=(o.bottom-o.top)/u+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),o=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),r=o&&o.type.spec.disableDropCursor,s=typeof r=="function"?r(this.editorView,n,e):r;if(n&&!s){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=Hl(this.editorView.state.doc,a,this.editorView.dragging.slice);u!=null&&(a=u)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const Ph=Jn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Dh(this.options)]}});class Qe extends qn{constructor(e){super(e,e)}map(e,n){let o=e.resolve(n.map(this.head));return Qe.valid(o)?new Qe(o):qn.near(o)}content(){return Es.empty}eq(e){return e instanceof Qe&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Qe(e.resolve(n.pos))}getBookmark(){return new Ei(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!Oh(e)||!Nh(e))return!1;let o=n.type.spec.allowGapCursor;if(o!=null)return o;let r=n.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,n,o=!1){e:for(;;){if(!o&&Qe.valid(e))return e;let r=e.pos,s=null;for(let a=e.depth;;a--){let u=e.node(a);if(n>0?e.indexAfter(a)<u.childCount:e.index(a)>0){s=u.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;r+=n;let c=e.doc.resolve(r);if(Qe.valid(c))return c}for(;;){let a=n>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!$i.isSelectable(s)){e=e.doc.resolve(r+s.nodeSize*n),o=!1;continue e}break}s=a,r+=n;let u=e.doc.resolve(r);if(Qe.valid(u))return u}return null}}}Qe.prototype.visible=!1;Qe.findFrom=Qe.findGapCursorFrom;qn.jsonID("gapcursor",Qe);class Ei{constructor(e){this.pos=e}map(e){return new Ei(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Qe.valid(n)?new Qe(n):qn.near(n)}}function tr(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function Oh(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),o=t.node(e);if(n==0){if(o.type.spec.isolating)return!0;continue}for(let r=o.child(n-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||tr(r.type))return!0;if(r.inlineContent)return!1}}return!0}function Nh(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),o=t.node(e);if(n==o.childCount){if(o.type.spec.isolating)return!0;continue}for(let r=o.child(n);;r=r.firstChild){if(r.childCount==0&&!r.inlineContent||tr(r.type))return!0;if(r.inlineContent)return!1}}return!0}function Rh(){return new Mo({props:{decorations:zh,createSelectionBetween(t,e,n){return e.pos==n.pos&&Qe.valid(n)?new Qe(n):null},handleClick:jh,handleKeyDown:Fh,handleDOMEvents:{beforeinput:Uh}}})}const Fh=Al({ArrowLeft:uo("horiz",-1),ArrowRight:uo("horiz",1),ArrowUp:uo("vert",-1),ArrowDown:uo("vert",1)});function uo(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(o,r,s){let a=o.selection,u=e>0?a.$to:a.$from,c=a.empty;if(a instanceof An){if(!s.endOfTextblock(n)||u.depth==0)return!1;c=!1,u=o.doc.resolve(e>0?u.after():u.before())}let p=Qe.findGapCursorFrom(u,e,c);return p?(r&&r(o.tr.setSelection(new Qe(p))),!0):!1}}function jh(t,e,n){if(!t||!t.editable)return!1;let o=t.state.doc.resolve(e);if(!Qe.valid(o))return!1;let r=t.posAtCoords({left:n.clientX,top:n.clientY});return r&&r.inside>-1&&$i.isSelectable(t.state.doc.nodeAt(r.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Qe(o))),!0)}function Uh(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Qe))return!1;let{$from:n}=t.state.selection,o=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!o)return!1;let r=ls.empty;for(let a=o.length-1;a>=0;a--)r=ls.from(o[a].createAndFill(null,r));let s=t.state.tr.replace(n.pos,n.pos,new Es(r,0,0));return s.setSelection(An.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function zh(t){if(!(t.selection instanceof Qe))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Vl.create(t.doc,[Ml.widget(t.selection.head,e,{key:"gapcursor"})])}const Wh=Jn.create({name:"gapCursor",addProseMirrorPlugins(){return[Rh()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Sl(Tl(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),Gh=Lt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",lt(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:o})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:r,storedMarks:s}=n;if(r.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:u}=o.extensionManager,c=s||r.$to.parentOffset&&r.$from.marks();return e().insertContent({type:this.name}).command(({tr:p,dispatch:C})=>{if(C&&c&&a){const v=c.filter(H=>u.includes(H.type.name));p.ensureMarks(v)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),qh=Lt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,lt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>ci({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Vo=200,at=function(){};at.prototype.append=function(e){return e.length?(e=at.from(e),!this.length&&e||e.length<Vo&&this.leafAppend(e)||this.length<Vo&&e.leafPrepend(this)||this.appendInner(e)):this};at.prototype.prepend=function(e){return e.length?at.from(e).append(this):this};at.prototype.appendInner=function(e){return new Zh(this,e)};at.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?at.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};at.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};at.prototype.forEach=function(e,n,o){n===void 0&&(n=0),o===void 0&&(o=this.length),n<=o?this.forEachInner(e,n,o,0):this.forEachInvertedInner(e,n,o,0)};at.prototype.map=function(e,n,o){n===void 0&&(n=0),o===void 0&&(o=this.length);var r=[];return this.forEach(function(s,a){return r.push(e(s,a))},n,o),r};at.from=function(e){return e instanceof at?e:e&&e.length?new nr(e):at.empty};var nr=function(t){function e(o){t.call(this),this.values=o}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(r,s){return r==0&&s==this.length?this:new e(this.values.slice(r,s))},e.prototype.getInner=function(r){return this.values[r]},e.prototype.forEachInner=function(r,s,a,u){for(var c=s;c<a;c++)if(r(this.values[c],u+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,a,u){for(var c=s-1;c>=a;c--)if(r(this.values[c],u+c)===!1)return!1},e.prototype.leafAppend=function(r){if(this.length+r.length<=Vo)return new e(this.values.concat(r.flatten()))},e.prototype.leafPrepend=function(r){if(this.length+r.length<=Vo)return new e(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(at);at.empty=new nr([]);var Zh=function(t){function e(n,o){t.call(this),this.left=n,this.right=o,this.length=n.length+o.length,this.depth=Math.max(n.depth,o.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(o){return o<this.left.length?this.left.get(o):this.right.get(o-this.left.length)},e.prototype.forEachInner=function(o,r,s,a){var u=this.left.length;if(r<u&&this.left.forEachInner(o,r,Math.min(s,u),a)===!1||s>u&&this.right.forEachInner(o,Math.max(r-u,0),Math.min(this.length,s)-u,a+u)===!1)return!1},e.prototype.forEachInvertedInner=function(o,r,s,a){var u=this.left.length;if(r>u&&this.right.forEachInvertedInner(o,r-u,Math.max(s,u)-u,a+u)===!1||s<u&&this.left.forEachInvertedInner(o,Math.min(r,u),s,a)===!1)return!1},e.prototype.sliceInner=function(o,r){if(o==0&&r==this.length)return this;var s=this.left.length;return r<=s?this.left.slice(o,r):o>=s?this.right.slice(o-s,r-s):this.left.slice(o,s).append(this.right.slice(0,r-s))},e.prototype.leafAppend=function(o){var r=this.right.leafAppend(o);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(o){var r=this.left.leafPrepend(o);if(r)return new e(r,this.right)},e.prototype.appendInner=function(o){return this.left.depth>=Math.max(this.right.depth,o.depth)+1?new e(this.left,new e(this.right,o)):new e(this,o)},e}(at);const Kh=500;class Ot{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let o=this.items.length;for(;;o--)if(this.items.get(o-1).selection){--o;break}let r,s;n&&(r=this.remapping(o,this.items.length),s=r.maps.length);let a=e.tr,u,c,p=[],C=[];return this.items.forEach((v,H)=>{if(!v.step){r||(r=this.remapping(o,H+1),s=r.maps.length),s--,C.push(v);return}if(r){C.push(new Ft(v.map));let x=v.step.map(r.slice(s)),T;x&&a.maybeStep(x).doc&&(T=a.mapping.maps[a.mapping.maps.length-1],p.push(new Ft(T,void 0,void 0,p.length+C.length))),s--,T&&r.appendMap(T,s)}else a.maybeStep(v.step);if(v.selection)return u=r?v.selection.map(r.slice(s)):v.selection,c=new Ot(this.items.slice(0,o).append(C.reverse().concat(p)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:a,selection:u}}addTransform(e,n,o,r){let s=[],a=this.eventCount,u=this.items,c=!r&&u.length?u.get(u.length-1):null;for(let C=0;C<e.steps.length;C++){let v=e.steps[C].invert(e.docs[C]),H=new Ft(e.mapping.maps[C],v,n),x;(x=c&&c.merge(H))&&(H=x,C?s.pop():u=u.slice(0,u.length-1)),s.push(H),n&&(a++,n=void 0),r||(c=H)}let p=a-o.depth;return p>Jh&&(u=Yh(u,p),a-=p),new Ot(u.append(s),a)}remapping(e,n){let o=new El;return this.items.forEach((r,s)=>{let a=r.mirrorOffset!=null&&s-r.mirrorOffset>=e?o.maps.length-r.mirrorOffset:void 0;o.appendMap(r.map,a)},e,n),o}addMaps(e){return this.eventCount==0?this:new Ot(this.items.append(e.map(n=>new Ft(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let o=[],r=Math.max(0,this.items.length-n),s=e.mapping,a=e.steps.length,u=this.eventCount;this.items.forEach(H=>{H.selection&&u--},r);let c=n;this.items.forEach(H=>{let x=s.getMirror(--c);if(x==null)return;a=Math.min(a,x);let T=s.maps[x];if(H.step){let I=e.steps[x].invert(e.docs[x]),se=H.selection&&H.selection.map(s.slice(c+1,x));se&&u++,o.push(new Ft(T,I,se))}else o.push(new Ft(T))},r);let p=[];for(let H=n;H<a;H++)p.push(new Ft(s.maps[H]));let C=this.items.slice(0,r).append(p).append(o),v=new Ot(C,u);return v.emptyItemCount()>Kh&&(v=v.compress(this.items.length-o.length)),v}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),o=n.maps.length,r=[],s=0;return this.items.forEach((a,u)=>{if(u>=e)r.push(a),a.selection&&s++;else if(a.step){let c=a.step.map(n.slice(o)),p=c&&c.getMap();if(o--,p&&n.appendMap(p,o),c){let C=a.selection&&a.selection.map(n.slice(o));C&&s++;let v=new Ft(p.invert(),c,C),H,x=r.length-1;(H=r.length&&r[x].merge(v))?r[x]=H:r.push(v)}}else a.map&&o--},this.items.length,0),new Ot(at.from(r.reverse()),s)}}Ot.empty=new Ot(at.empty,0);function Yh(t,e){let n;return t.forEach((o,r)=>{if(o.selection&&e--==0)return n=r,!1}),t.slice(n)}class Ft{constructor(e,n,o,r){this.map=e,this.step=n,this.selection=o,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Ft(n.getMap().invert(),n,this.selection)}}}class Qt{constructor(e,n,o,r,s){this.done=e,this.undone=n,this.prevRanges=o,this.prevTime=r,this.prevComposition=s}}const Jh=20;function Qh(t,e,n,o){let r=n.getMeta(un),s;if(r)return r.historyState;n.getMeta(tf)&&(t=new Qt(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(un))return a.getMeta(un).redo?new Qt(t.done.addTransform(n,void 0,o,wo(e)),t.undone,As(n.mapping.maps),t.prevTime,t.prevComposition):new Qt(t.done,t.undone.addTransform(n,void 0,o,wo(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let u=n.getMeta("composition"),c=t.prevTime==0||!a&&t.prevComposition!=u&&(t.prevTime<(n.time||0)-o.newGroupDelay||!Xh(n,t.prevRanges)),p=a?ai(t.prevRanges,n.mapping):As(n.mapping.maps);return new Qt(t.done.addTransform(n,c?e.selection.getBookmark():void 0,o,wo(e)),Ot.empty,p,n.time,u??t.prevComposition)}else return(s=n.getMeta("rebased"))?new Qt(t.done.rebased(n,s),t.undone.rebased(n,s),ai(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Qt(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),ai(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function Xh(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((o,r)=>{for(let s=0;s<e.length;s+=2)o<=e[s+1]&&r>=e[s]&&(n=!0)}),n}function As(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((o,r,s,a)=>e.push(s,a));return e}function ai(t,e){if(!t)return null;let n=[];for(let o=0;o<t.length;o+=2){let r=e.map(t[o],1),s=e.map(t[o+1],-1);r<=s&&n.push(r,s)}return n}function ef(t,e,n){let o=wo(e),r=un.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,o);if(!s)return null;let a=s.selection.resolve(s.transform.doc),u=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),r,o),c=new Qt(n?u:s.remaining,n?s.remaining:u,null,0,-1);return s.transform.setSelection(a).setMeta(un,{redo:n,historyState:c})}let li=!1,Vs=null;function wo(t){let e=t.plugins;if(Vs!=e){li=!1,Vs=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){li=!0;break}}return li}const un=new Li("history"),tf=new Li("closeHistory");function nf(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Mo({key:un,state:{init(){return new Qt(Ot.empty,Ot.empty,null,0,-1)},apply(e,n,o){return Qh(n,o,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let o=n.inputType,r=o=="historyUndo"?ir:o=="historyRedo"?sr:null;return!r||!e.editable?!1:(n.preventDefault(),r(e.state,e.dispatch))}}}})}function or(t,e){return(n,o)=>{let r=un.getState(n);if(!r||(t?r.undone:r.done).eventCount==0)return!1;if(o){let s=ef(r,n,t);s&&o(e?s.scrollIntoView():s)}return!0}}const ir=or(!1,!0),sr=or(!0,!0),of=Jn.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>ir(t,e),redo:()=>({state:t,dispatch:e})=>sr(t,e)}},addProseMirrorPlugins(){return[nf(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),sf=Lt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",lt(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!Bl(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$from:o,$to:r}=n,s=t();return o.parentOffset===0?s.insertContentAt({from:Math.max(o.pos-1,0),to:r.pos},{type:this.name}):Il(n)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:a,dispatch:u})=>{var c;if(u){const{$to:p}=a.selection,C=p.end();if(p.nodeAfter)p.nodeAfter.isTextblock?a.setSelection(An.create(a.doc,p.pos+1)):p.nodeAfter.isBlock?a.setSelection($i.create(a.doc,p.pos)):a.setSelection(An.create(a.doc,p.pos));else{const v=(c=p.parent.type.contentMatch.defaultType)===null||c===void 0?void 0:c.create();v&&(a.insert(C,v),a.setSelection(An.create(a.doc,C+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Bs({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),rf=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,af=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,lf=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,df=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,uf=Yn.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",lt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[hn({find:rf,type:this.type}),hn({find:lf,type:this.type})]},addPasteRules(){return[pn({find:af,type:this.type}),pn({find:df,type:this.type})]}}),cf=Lt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",lt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),pf="listItem",Ms="textStyle",Ss=/^(\d+)\.\s$/,hf=Lt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",lt(this.options.HTMLAttributes,n),0]:["ol",lt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(pf,this.editor.getAttributes(Ms)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Mn({find:Ss,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Mn({find:Ss,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Ms)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),ff=Lt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",lt(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),gf=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,mf=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,vf=Yn.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",lt(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[hn({find:gf,type:this.type})]},addPasteRules(){return[pn({find:mf,type:this.type})]}}),yf=Lt.create({name:"text",group:"inline"}),Bi=Jn.create({name:"starterKit",addExtensions(){const t=[];return this.options.bold!==!1&&t.push(xh.configure(this.options.bold)),this.options.blockquote!==!1&&t.push(bh.configure(this.options.blockquote)),this.options.bulletList!==!1&&t.push(Ah.configure(this.options.bulletList)),this.options.code!==!1&&t.push(Sh.configure(this.options.code)),this.options.codeBlock!==!1&&t.push(Bh.configure(this.options.codeBlock)),this.options.document!==!1&&t.push(Ih.configure(this.options.document)),this.options.dropcursor!==!1&&t.push(Ph.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&t.push(Wh.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&t.push(Gh.configure(this.options.hardBreak)),this.options.heading!==!1&&t.push(qh.configure(this.options.heading)),this.options.history!==!1&&t.push(of.configure(this.options.history)),this.options.horizontalRule!==!1&&t.push(sf.configure(this.options.horizontalRule)),this.options.italic!==!1&&t.push(uf.configure(this.options.italic)),this.options.listItem!==!1&&t.push(cf.configure(this.options.listItem)),this.options.orderedList!==!1&&t.push(hf.configure(this.options.orderedList)),this.options.paragraph!==!1&&t.push(ff.configure(this.options.paragraph)),this.options.strike!==!1&&t.push(vf.configure(this.options.strike)),this.options.text!==!1&&t.push(yf.configure(this.options.text)),t}}),wf=t=>Xe({find:/--$/,replace:t??""}),bf=t=>Xe({find:/\.\.\.$/,replace:t??""}),Cf=t=>Xe({find:/(?:^|[\s{[(<'"\u2018\u201C])(")$/,replace:t??""}),Lf=t=>Xe({find:/"$/,replace:t??""}),$f=t=>Xe({find:/(?:^|[\s{[(<'"\u2018\u201C])(')$/,replace:t??""}),kf=t=>Xe({find:/'$/,replace:t??""}),xf=t=>Xe({find:/<-$/,replace:t??""}),Hf=t=>Xe({find:/->$/,replace:t??""}),Af=t=>Xe({find:/\(c\)$/,replace:t??""}),Vf=t=>Xe({find:/\(tm\)$/,replace:t??""}),Mf=t=>Xe({find:/\(sm\)$/,replace:t??""}),Sf=t=>Xe({find:/\(r\)$/,replace:t??""}),Tf=t=>Xe({find:/(?:^|\s)(1\/2)\s$/,replace:t??""}),Ef=t=>Xe({find:/\+\/-$/,replace:t??""}),Bf=t=>Xe({find:/!=$/,replace:t??""}),If=t=>Xe({find:/<<$/,replace:t??""}),Df=t=>Xe({find:/>>$/,replace:t??""}),_f=t=>Xe({find:/\d+\s?([*x])\s?\d+$/,replace:t??""}),Pf=t=>Xe({find:/\^2$/,replace:t??""}),Of=t=>Xe({find:/\^3$/,replace:t??""}),Nf=t=>Xe({find:/(?:^|\s)(1\/4)\s$/,replace:t??""}),Rf=t=>Xe({find:/(?:^|\s)(3\/4)\s$/,replace:t??""}),rr=Jn.create({name:"typography",addOptions(){return{closeDoubleQuote:"",closeSingleQuote:"",copyright:"",ellipsis:"",emDash:"",laquo:"",leftArrow:"",multiplication:"",notEqual:"",oneHalf:"",oneQuarter:"",openDoubleQuote:"",openSingleQuote:"",plusMinus:"",raquo:"",registeredTrademark:"",rightArrow:"",servicemark:"",superscriptThree:"",superscriptTwo:"",threeQuarters:"",trademark:""}},addInputRules(){const t=[];return this.options.emDash!==!1&&t.push(wf(this.options.emDash)),this.options.ellipsis!==!1&&t.push(bf(this.options.ellipsis)),this.options.openDoubleQuote!==!1&&t.push(Cf(this.options.openDoubleQuote)),this.options.closeDoubleQuote!==!1&&t.push(Lf(this.options.closeDoubleQuote)),this.options.openSingleQuote!==!1&&t.push($f(this.options.openSingleQuote)),this.options.closeSingleQuote!==!1&&t.push(kf(this.options.closeSingleQuote)),this.options.leftArrow!==!1&&t.push(xf(this.options.leftArrow)),this.options.rightArrow!==!1&&t.push(Hf(this.options.rightArrow)),this.options.copyright!==!1&&t.push(Af(this.options.copyright)),this.options.trademark!==!1&&t.push(Vf(this.options.trademark)),this.options.servicemark!==!1&&t.push(Mf(this.options.servicemark)),this.options.registeredTrademark!==!1&&t.push(Sf(this.options.registeredTrademark)),this.options.oneHalf!==!1&&t.push(Tf(this.options.oneHalf)),this.options.plusMinus!==!1&&t.push(Ef(this.options.plusMinus)),this.options.notEqual!==!1&&t.push(Bf(this.options.notEqual)),this.options.laquo!==!1&&t.push(If(this.options.laquo)),this.options.raquo!==!1&&t.push(Df(this.options.raquo)),this.options.multiplication!==!1&&t.push(_f(this.options.multiplication)),this.options.superscriptTwo!==!1&&t.push(Pf(this.options.superscriptTwo)),this.options.superscriptThree!==!1&&t.push(Of(this.options.superscriptThree)),this.options.oneQuarter!==!1&&t.push(Nf(this.options.oneQuarter)),this.options.threeQuarters!==!1&&t.push(Rf(this.options.threeQuarters)),t}}),Ff=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,ar=Lt.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",lt(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[Bs({find:Ff,type:this.type,getAttributes:t=>{const[,,e,n,o]=t;return{src:n,alt:e,title:o}}})]}}),jf=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,Uf=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,zf=Yn.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",lt(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[hn({find:jf,type:this.type})]},addPasteRules(){return[pn({find:Uf,type:this.type})]}}),Wf={name:"NewPage",props:{pageuuid:String},components:{EditorContent:ki},data(){return{item:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Files.get(this.pageuuid))),editor:null,updateUUID:null,mypos:0,hilighter:!1}},methods:{wordcountToggle(){this.item.excludefromwordcount=!this.item.excludefromwordcount,this.changed(),this.$root.calcFullWordCount()},repositionEditor(){if(console.log("repos",this.$root.session.settings.documentprefs.caretfocus),this.editor&&this.item&&this.$root.session.settings.documentprefs.caretfocus&&(this.mypos=this.getCaretPosition(),this.mypos!=0&&this.$refs.scrolltarget)){let t=parseInt(this.mypos)+this.$refs.scrolltarget.scrollTop-window.innerHeight/2;this.$refs.scrolltarget.scrollTo({top:t,behavior:"smooth"})}},getCaretPosition(){var t=0,e,n;if(e=window.getSelection(),e.anchorNode)return n=e.getRangeAt(0),t=n.getBoundingClientRect(),t.y},changed(){this.$root.UpdateRecord("Files",this.item.uuid,this.item)},addImage(){let t=window.prompt("Provide a URL to your image");if(t){if(t.includes("drive.google.com")){let e=t.split("/");t=e[0]+"//"+e[2]+"/uc?export=view&id="+e[5]}this.editor.chain().focus().setImage({src:t}).run()}}},mounted(){this.updateUUID=this.$root.uuid(),this.$watch("item",(t,e)=>{if(!e)return this.editor.commands.setContent(this.item.content),this.item.wordcount=this.$root.wordCounter(this.editor.getHTML()),this.$root.calcFullWordCount(),!1;t.updateUUID!=this.updateUUID&&(this.editor.commands.setContent(t.content),this.item.wordcount=this.$root.wordCounter(this.editor.getHTML()),this.$root.calcFullWordCount())}),this.editor=new xi({extensions:[Bi,rr,ar,zf.configure({multicolor:!0})],content:"",onTransaction:()=>{this.repositionEditor()},onUpdate:()=>{this.item.wordcount=this.$root.wordCounter(this.editor.getHTML()),this.text=this.editor.getHTML(),this.item.content=this.text,this.item.updateUUID=this.updateUUID,this.$emit("update:modelValue",this.editor.getJSON()),this.$root.calcFullWordCount(),this.changed()}})},beforeUnmount(){this.editor&&this.editor.destroy()}},Gf={key:0},qf={class:"PageEditorScroll",ref:"scrolltarget"},Zf={key:0,class:"titleBar"},Kf=["placeholder"],Yf=["title"],Jf=["title"],Qf=["title"],Xf=["title"],eg=["title"],tg=["title"],ng=["title"],og=["title"],ig=["title"],sg=["title"],rg=["title"],ag={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},lg=["title"],dg={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},ug={key:0,class:"hilighter"},cg=["title"],pg={key:0,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},hg={key:1,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},fg={key:2,class:"wordcountdisplay"};function gg(t,e,n,o,r,s){const a=te("EditorContent");return r.item?(f(),y("div",Gf,[i("div",qf,[r.editor?(f(),Be(a,{key:0,editor:r.editor},null,8,["editor"])):V("",!0)],512),r.item?(f(),y("div",Zf,[ue(i("input",{type:"text",placeholder:this.$root.setlang.writer.newfile,"onUpdate:modelValue":e[0]||(e[0]=u=>r.item.title=u),onChange:e[1]||(e[1]=(...u)=>s.changed&&s.changed(...u))},null,40,Kf),[[Ve,r.item.title]])])):V("",!0),r.editor?(f(),y("div",{key:1,class:"toolbar",style:It([t.$root.$data.session.writer.lhs?"left:40px;":"",t.$root.$data.session.writer.rhs?"right:-40px;":""])},[i("button",{onClick:e[2]||(e[2]=u=>r.editor.chain().focus().toggleBold().run()),class:je({"is-active":r.editor.isActive("bold")}),title:this.$root.setlang.editor.bold},[...e[22]||(e[22]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[i("path",{d:"M13.5,15.5H10V12.5H13.5A1.5,1.5 0 0,1 15,14A1.5,1.5 0 0,1 13.5,15.5M10,6.5H13A1.5,1.5 0 0,1 14.5,8A1.5,1.5 0 0,1 13,9.5H10M15.6,10.79C16.57,10.11 17.25,9 17.25,8C17.25,5.74 15.5,4 13.25,4H7V18H14.04C16.14,18 17.75,16.3 17.75,14.21C17.75,12.69 16.89,11.39 15.6,10.79Z"})],-1)])],10,Yf),i("button",{onClick:e[3]||(e[3]=u=>r.editor.chain().focus().toggleItalic().run()),class:je({"is-active":r.editor.isActive("italic")}),title:this.$root.setlang.editor.italic},[...e[23]||(e[23]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[i("path",{d:"M10,4V7H12.21L8.79,15H6V18H14V15H11.79L15.21,7H18V4H10Z"})],-1)])],10,Jf),i("button",{onClick:e[4]||(e[4]=u=>r.editor.chain().focus().toggleStrike().run()),class:je({"is-active":r.editor.isActive("strike")}),title:this.$root.setlang.editor.strikethrough},[...e[24]||(e[24]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24",class:"strikefix"},[i("path",{d:"M23,12V14H18.61C19.61,16.14 19.56,22 12.38,22C4.05,22.05 4.37,15.5 4.37,15.5L8.34,15.55C8.37,18.92 11.5,18.92 12.12,18.88C12.76,18.83 15.15,18.84 15.34,16.5C15.42,15.41 14.32,14.58 13.12,14H1V12H23M19.41,7.89L15.43,7.86C15.43,7.86 15.6,5.09 12.15,5.08C8.7,5.06 9,7.28 9,7.56C9.04,7.84 9.34,9.22 12,9.88H5.71C5.71,9.88 2.22,3.15 10.74,2C19.45,0.8 19.43,7.91 19.41,7.89Z"})],-1)])],10,Qf),i("button",{onClick:e[5]||(e[5]=u=>r.editor.chain().focus().setParagraph().run()),class:je({"is-active":r.editor.isActive("paragraph")}),title:this.$root.setlang.editor.paragraph},[...e[25]||(e[25]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[i("path",{d:"M13,4A4,4 0 0,1 17,8A4,4 0 0,1 13,12H11V18H9V4H13M13,10A2,2 0 0,0 15,8A2,2 0 0,0 13,6H11V10H13Z"})],-1)])],10,Xf),i("button",{onClick:e[6]||(e[6]=u=>r.editor.chain().focus().toggleHeading({level:1}).run()),class:je({"is-active":r.editor.isActive("heading",{level:1})}),title:this.$root.setlang.editor.h1},[...e[26]||(e[26]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[i("path",{d:"M3,4H5V10H9V4H11V18H9V12H5V18H3V4M14,18V16H16V6.31L13.5,7.75V5.44L16,4H18V16H20V18H14Z"})],-1)])],10,eg),i("button",{onClick:e[7]||(e[7]=u=>r.editor.chain().focus().toggleHeading({level:2}).run()),class:je({"is-active":r.editor.isActive("heading",{level:2})}),title:this.$root.setlang.editor.h2},[...e[27]||(e[27]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[i("path",{d:"M3,4H5V10H9V4H11V18H9V12H5V18H3V4M21,18H15A2,2 0 0,1 13,16C13,15.47 13.2,15 13.54,14.64L18.41,9.41C18.78,9.05 19,8.55 19,8A2,2 0 0,0 17,6A2,2 0 0,0 15,8H13A4,4 0 0,1 17,4A4,4 0 0,1 21,8C21,9.1 20.55,10.1 19.83,10.83L15,16H21V18Z"})],-1)])],10,tg),i("button",{onClick:e[8]||(e[8]=(...u)=>s.addImage&&s.addImage(...u)),title:this.$root.setlang.editor.pic},[...e[28]||(e[28]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[i("path",{d:"M13 19C13 19.7 13.13 20.37 13.35 21H5C3.9 21 3 20.11 3 19V5C3 3.9 3.9 3 5 3H19C20.11 3 21 3.9 21 5V13.35C20.37 13.13 19.7 13 19 13V5H5V19H13M13.96 12.29L11.21 15.83L9.25 13.47L6.5 17H13.35C13.75 15.88 14.47 14.91 15.4 14.21L13.96 12.29M20 18V15H18V18H15V20H18V23H20V20H23V18H20Z"})],-1)])],8,ng),i("button",{onClick:e[9]||(e[9]=u=>r.editor.chain().focus().toggleBulletList().run()),class:je({"is-active":r.editor.isActive("bulletList")}),title:this.$root.setlang.editor.blist},[...e[29]||(e[29]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[i("path",{d:"M3,4H7V8H3V4M9,5V7H21V5H9M3,10H7V14H3V10M9,11V13H21V11H9M3,16H7V20H3V16M9,17V19H21V17H9"})],-1)])],10,og),i("button",{onClick:e[10]||(e[10]=u=>r.editor.chain().focus().toggleOrderedList().run()),class:je({"is-active":r.editor.isActive("orderedList")}),title:this.$root.setlang.editor.nlist},[...e[30]||(e[30]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[i("path",{d:"M7,13V11H21V13H7M7,19V17H21V19H7M7,7V5H21V7H7M3,8V5H2V4H4V8H3M2,17V16H5V20H2V19H4V18.5H3V17.5H4V17H2M4.25,10A0.75,0.75 0 0,1 5,10.75C5,10.95 4.92,11.14 4.79,11.27L3.12,13H5V14H2V13.08L4,11H2V10H4.25Z"})],-1)])],10,ig),i("button",{onClick:e[11]||(e[11]=u=>this.$root.session.selectedTool="planningboard"),title:this.$root.setlang.editor.planningboard},[...e[31]||(e[31]=[i("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},[i("path",{d:"M22,9V7H20V5A2,2 0 0,0 18,3H4A2,2 0 0,0 2,5V19A2,2 0 0,0 4,21H18A2,2 0 0,0 20,19V17H22V15H20V13H22V11H20V9H22M18,19H4V5H18V19M6,13H11V17H6V13M12,7H16V10H12V7M6,7H11V12H6V7M12,11H16V17H12V11Z"})],-1)])],8,sg),i("button",{onClick:e[12]||(e[12]=u=>this.$root.session.selectedTool="distractionfree"),title:this.$root.setlang.editor.typewriter},[(f(),y("svg",ag,[...e[32]||(e[32]=[i("path",{d:"M20 13H16C16 14.1 15.1 15 14 15H10C8.9 15 8 14.1 8 13H4L2 18V20C2 21.1 2.9 22 4 22H20C21.1 22 22 21.1 22 20V18M6 20C5.11 20 4.66 18.92 5.29 18.29C5.92 17.66 7 18.11 7 19C7 19.55 6.55 20 6 20M10 20C9.11 20 8.66 18.92 9.29 18.29C9.92 17.66 11 18.11 11 19C11 19.55 10.55 20 10 20M14 20C13.11 20 12.66 18.92 13.29 18.29C13.92 17.66 15 18.11 15 19C15 19.55 14.55 20 14 20M18 20C17.11 20 16.66 18.92 17.29 18.29C17.92 17.66 19 18.11 19 19C19 19.55 18.55 20 18 20M18 10V3H6V10H3V12H21V10M8 5H16V6H8M8 7H14V8H8"},null,-1)])]))],8,rg),i("button",{onClick:e[13]||(e[13]=u=>r.hilighter=!r.hilighter),title:this.$root.setlang.editor.hilight},[(f(),y("svg",dg,[...e[33]||(e[33]=[i("path",{d:"M7 16C7.55 16 8 16.45 8 17C8 18.1 7.1 19 6 19C5.83 19 5.67 19 5.5 18.95C5.81 18.4 6 17.74 6 17C6 16.45 6.45 16 7 16M18.67 3C18.41 3 18.16 3.1 17.96 3.29L9 12.25L11.75 15L20.71 6.04C21.1 5.65 21.1 5 20.71 4.63L19.37 3.29C19.17 3.09 18.92 3 18.67 3M7 14C5.34 14 4 15.34 4 17C4 18.31 2.84 19 2 19C2.92 20.22 4.5 21 6 21C8.21 21 10 19.21 10 17C10 15.34 8.66 14 7 14Z"},null,-1)])]))],8,lg),r.hilighter?(f(),y("div",ug,[i("button",{style:{"background-color":"yellow"},onClick:e[14]||(e[14]=u=>r.editor.chain().focus().toggleHighlight({color:"yellow"}).run())}),i("button",{style:{"background-color":"#ffc078"},onClick:e[15]||(e[15]=u=>r.editor.chain().focus().toggleHighlight({color:"#ffc078"}).run())}),i("button",{style:{"background-color":"#8ce99a"},onClick:e[16]||(e[16]=u=>r.editor.chain().focus().toggleHighlight({color:"#8ce99a"}).run())}),i("button",{style:{"background-color":"#74c0fc"},onClick:e[17]||(e[17]=u=>r.editor.chain().focus().toggleHighlight({color:"#74c0fc"}).run())}),i("button",{style:{"background-color":"#b197fc"},onClick:e[18]||(e[18]=u=>r.editor.chain().focus().toggleHighlight({color:"#b197fc"}).run())}),i("button",{style:{"background-color":"#ffa8a8"},onClick:e[19]||(e[19]=u=>r.editor.chain().focus().toggleHighlight({color:"#ffa8a8"}).run())}),i("button",{style:{"background-color":"#ff0000"},onClick:e[20]||(e[20]=u=>r.editor.chain().focus().toggleHighlight({color:"#ff0000"}).run())})])):V("",!0),i("button",{onClick:e[21]||(e[21]=u=>s.wordcountToggle()),title:this.$root.setlang.editor.wordcount},[r.item.excludefromwordcount?V("",!0):(f(),y("svg",pg,[...e[34]||(e[34]=[i("path",{d:"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"},null,-1)])])),r.item.excludefromwordcount?(f(),y("svg",hg,[...e[35]||(e[35]=[i("path",{d:"M2,5.27L3.28,4L20,20.72L18.73,22L15.65,18.92C14.5,19.3 13.28,19.5 12,19.5C7,19.5 2.73,16.39 1,12C1.69,10.24 2.79,8.69 4.19,7.46L2,5.27M12,9A3,3 0 0,1 15,12C15,12.35 14.94,12.69 14.83,13L11,9.17C11.31,9.06 11.65,9 12,9M12,4.5C17,4.5 21.27,7.61 23,12C22.18,14.08 20.79,15.88 19,17.19L17.58,15.76C18.94,14.82 20.06,13.54 20.82,12C19.17,8.64 15.76,6.5 12,6.5C10.91,6.5 9.84,6.68 8.84,7L7.3,5.47C8.74,4.85 10.33,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C12.69,17.5 13.37,17.43 14,17.29L11.72,15C10.29,14.85 9.15,13.71 9,12.28L5.6,8.87C4.61,9.72 3.78,10.78 3.18,12Z"},null,-1)])])):V("",!0)],8,cg)],4)):V("",!0),r.item?(f(),y("div",fg,k(r.item.wordcount)+" / "+k(this.$root.fullWordCount),1)):V("",!0)])):V("",!0)}const mg=He(Wf,[["render",gg],["__scopeId","data-v-64faf032"]]),vg={name:"PageBlock",props:{section:Object},data(){return{item:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Files.get(this.section.uuid)))}},methods:{selectnode(t){this.$root.session.writer.file=t}}},yg={class:"section"},wg=["innerHTML"];function bg(t,e,n,o,r,s){return r.item?(f(),y("div",{key:0,class:"hitTarget",onClick:e[0]||(e[0]=a=>s.selectnode(n.section))},[i("h3",null,k(r.item.title),1),i("div",yg,[i("div",{innerHTML:r.item.content},null,8,wg)])])):V("",!0)}const Cg=He(vg,[["render",bg],["__scopeId","data-v-cea9b9d7"]]),Lg={name:"WriterTool",components:{WriterLeftSide:Op,WriterRightSide:yh,PageEditor:mg,PageBlock:Cg,BarChart:mc},data(){return{exportHTML:null,exportObject:{}}},methods:{async getPage(t){return this.$root.db.Files.get(t)},async exportDoc(t){t||(t=this.$root.session.writer.selected.files),this.exportObject={},(await this.$root.db.Files.where({writerid:this.$root.session.writer.selected.uuid}).toArray()).forEach(n=>{this.exportObject[n.uuid]=n}),this.exportHTML="",this.getfileexport(t),window.Export2Word(this.exportHTML),this.exportHTML="",this.exportObject={}},getfileexport(t){t.forEach(e=>{let n=this.exportObject[e.uuid];e.type==="file"?this.exportHTML=this.exportHTML+"<h1>"+n.title+"</h1>"+n.content:this.exportHTML=this.exportHTML+"<h1>"+e.title+"</h1>",e.children&&e.children.length&&this.getfileexport(e.children)})},updateDatabase(){this.$root.UpdateRecord("Writer",this.$root.session.writer.selected.uuid,JSON.parse(JSON.stringify(this.$root.session.writer.selected)))}},mounted(){this.$root.calcFullWordCount()}},$g={key:0},kg={key:0,class:"wavemaker_info_box"},xg={style:{width:"100%"}},Hg=["placeholder"],Ag=["placeholder"],Vg={key:1},Mg={key:0},Sg={class:"titleBar"},Tg=["placeholder"],Eg={class:"wavemaker_info_box"};function Bg(t,e,n,o,r,s){const a=te("BarChart"),u=te("PageEditor"),c=te("PageBlock"),p=te("WriterRightSide"),C=te("WriterLeftSide");return f(),y(re,null,[i("div",{class:je(["writer",[t.$root.lhspin?"lhspin":"",t.$root.rhspin?"rhspin":""]])},[t.$root.session.writer.file?V("",!0):(f(),y("div",$g,[this.$root.session.writer.selected?(f(),y("div",kg,[e[13]||(e[13]=Zn('<div style="text-align:center;" data-v-18230337><svg id="wavemaker_logo" version="1.1" viewBox="0 0 24 24" height="50" width="50" data-v-18230337><path d="M0 0h24v24H0V0z" fill="none" data-v-18230337></path><g transform="matrix(0.046875,0,0,0.04604639,-1.951887,-3.0598516)" data-v-18230337><g id="_921457168" data-v-18230337><path class="wavemaker_logo-top" d="M 464.632,212.901 337.566,83.292 c -22.014,-22.454 -57.758,-22.454 -79.771,0 l -126.63,129.386 c -7.411,7.559 -7.411,19.563 0,27.122 l 38.359,39.127 25.5,24.232 c 7.628,7.114 19.18,7.114 26.808,0 l 51.219,-48.242 c 14.167,-13.338 35.744,-13.338 49.693,0 l 51.219,48.242 c 7.629,7.114 19.18,7.114 26.809,0 l 25.501,-24.232 38.359,-38.904 c 7.193,-7.337 7.193,-19.563 0,-27.122 z" data-v-18230337></path><path class="wavemaker_logo-bottom" d="m 58.804,367.853 198.991,202.973 c 22.013,22.452 57.757,22.452 79.771,0 L 536.557,367.853 c 34.437,-35.125 10.244,-45.574 -15.039,-70.029 L 490.35,267.59 c -7.409,-7.336 -19.18,-7.113 -26.808,0 l -51.218,48.242 c -14.169,13.339 -35.744,13.339 -49.694,0 L 311.411,267.59 c -7.575,-7.113 -19.233,-7.113 -26.809,0 l -51.219,48.242 c -14.167,13.339 -35.744,13.339 -49.693,0 L 132.471,267.59 c -7.576,-7.113 -19.233,-7.113 -26.809,0 l -28.77,27.123 c -26.37,24.899 -54.05,36.236 -18.088,73.14 z" data-v-18230337></path></g></g></svg></div>',1)),i("table",xg,[i("tbody",null,[i("tr",null,[i("td",null,[i("label",null,k(this.$root.setlang.tools.name),1),ue(i("input",{type:"text",class:"formInput mantitle","onUpdate:modelValue":e[0]||(e[0]=v=>this.$root.session.writer.selected.title=v),onChange:e[1]||(e[1]=(...v)=>s.updateDatabase&&s.updateDatabase(...v)),placeholder:this.$root.setlang.tools.name},null,40,Hg),[[Ve,this.$root.session.writer.selected.title]]),e[10]||(e[10]=i("hr",null,null,-1)),i("label",null,k(this.$root.setlang.tools.description),1),ue(i("input",{type:"text",class:"formInput mandesc","onUpdate:modelValue":e[2]||(e[2]=v=>this.$root.session.writer.selected.description=v),onChange:e[3]||(e[3]=(...v)=>s.updateDatabase&&s.updateDatabase(...v)),placeholder:this.$root.setlang.tools.description},null,40,Ag),[[Ve,this.$root.session.writer.selected.description]]),e[11]||(e[11]=i("hr",null,null,-1)),ye(" "+k(this.$root.fullWordCount)+" "+k(this.$root.setlang.writer.words),1)])])])]),e[14]||(e[14]=i("div",null,null,-1)),i("p",null,k(this.$root.setlang.writer.intro),1),i("button",{onClick:e[4]||(e[4]=v=>s.exportDoc(this.$root.session.writer.selected.files)),class:"interfaceBtn"},[e[12]||(e[12]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M15.2,20H13.8L12,13.2L10.2,20H8.8L6.6,11H8.1L9.5,17.8L11.3,11H12.6L14.4,17.8L15.8,11H17.3L15.2,20M13,9V3.5L18.5,9H13Z"})],-1)),ye(" "+k(this.$root.setlang.writer.docdownload),1)]),De(a)])):V("",!0)])),t.$root.session.writer.file?(f(),y("div",Vg,[t.$root.session.writer.file.type==="file"?(f(),y("div",Mg,[De(Kn,{name:"fade"},{default:wt(()=>[(f(),y("div",{class:"pageHolder",key:t.$root.session.writer.file.uuid},[De(u,{pageuuid:t.$root.session.writer.file.uuid,onBlur:e[5]||(e[5]=v=>t.$root.calcFullWordCount())},null,8,["pageuuid"])]))]),_:1})])):V("",!0),t.$root.session.writer.file.type==="folder"?(f(),y("div",{key:1,onChange:e[9]||(e[9]=(...v)=>s.updateDatabase&&s.updateDatabase(...v))},[i("div",Sg,[ue(i("input",{type:"text",placeholder:this.$root.setlang.writer.newfile,"onUpdate:modelValue":e[6]||(e[6]=v=>t.$root.session.writer.file.title=v),onChange:e[7]||(e[7]=(...v)=>s.updateDatabase&&s.updateDatabase(...v))},null,40,Tg),[[Ve,t.$root.session.writer.file.title]])]),i("div",Eg,[i("button",{onClick:e[8]||(e[8]=v=>s.exportDoc(t.$root.session.writer.file.children)),class:"interfaceBtn"},[...e[15]||(e[15]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M15.2,20H13.8L12,13.2L10.2,20H8.8L6.6,11H8.1L9.5,17.8L11.3,11H12.6L14.4,17.8L15.8,11H17.3L15.2,20M13,9V3.5L18.5,9H13Z"})],-1),ye(" Export this folder to word",-1)])]),(f(!0),y(re,null,Pe(t.$root.session.writer.file.children,v=>(f(),y("div",null,[De(c,{section:v},null,8,["section"])]))),256))])],32)):V("",!0)])):V("",!0)],2),this.$root.session.writer.file?(f(),Be(p,{key:this.$root.session.writer.file.uuid})):V("",!0),De(C)],64)}const Ig=He(Lg,[["render",Bg],["__scopeId","data-v-18230337"]]),Dg={name:"SortWidget",props:{modelValue:{type:String,required:!0}},data(){return{open:!1}},methods:{togglebox(){console.log("toggle?"),this.open=!this.open},changeMe(t){this.$emit("update:modelValue",t),this.togglebox()}}},_g=["open"],Pg={class:"label"},Og={key:0},Ng={key:1},Rg={key:2},Fg={key:3},jg={class:"floater",role:"radiogroup","aria-label":"Sort type"},Ug={class:"label"},zg=["checked"],Wg={class:"label"},Gg=["checked"],qg={class:"label"},Zg=["checked"],Kg={class:"label"},Yg=["checked"];function Jg(t,e,n,o,r,s){return f(),y("details",{open:r.open},[i("summary",{class:"sort-summary",onClick:e[0]||(e[0]=dn((...a)=>s.togglebox&&s.togglebox(...a),["prevent"]))},[i("span",Pg,[n.modelValue==="name-desc"?(f(),y("span",Og,[...e[5]||(e[5]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20"},[i("title",null,"sort-alphabetical-descending-variant"),i("path",{d:"M15.75 19L12.5 22.25L9.25 19H15.75M8.89 14.3H6L5.28 17H2.91L6 7H9L12.13 17H9.67L8.89 14.3M6.33 12.68H8.56L7.93 10.56L7.67 9.59L7.42 8.63H7.39L7.17 9.6L6.93 10.58L6.33 12.68M13.05 17V15.74L17.8 8.97V8.91H13.5V7H20.73V8.34L16.09 15V15.08H20.8V17H13.05Z"})],-1)])])):n.modelValue==="name-asc"?(f(),y("span",Ng,[...e[6]||(e[6]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20"},[i("title",null,"sort-alphabetical-ascending-variant"),i("path",{d:"M9.25 5L12.5 1.75L15.75 5H9.25M8.89 14.3H6L5.28 17H2.91L6 7H9L12.13 17H9.67L8.89 14.3M6.33 12.68H8.56L7.93 10.56L7.67 9.59L7.42 8.63H7.39L7.17 9.6L6.93 10.58L6.33 12.68M13.05 17V15.74L17.8 8.97V8.91H13.5V7H20.73V8.34L16.09 15V15.08H20.8V17H13.05Z"})],-1)])])):n.modelValue==="lastupdated-desc"?(f(),y("span",Rg,[...e[7]||(e[7]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20"},[i("title",null,"sort-clock-ascending-outline"),i("path",{d:"M20 17H23L19 21L15 17H18V3H20V17M8 5C4.14 5 1 8.13 1 12C1 15.87 4.13 19 8 19C11.86 19 15 15.87 15 12C15 8.13 11.87 5 8 5M8 7.15C10.67 7.15 12.85 9.32 12.85 12C12.85 14.68 10.68 16.85 8 16.85C5.32 16.85 3.15 14.68 3.15 12C3.15 9.32 5.32 7.15 8 7.15M7 9V12.69L10.19 14.53L10.94 13.23L8.5 11.82V9"})],-1)])])):n.modelValue==="lastupdated-asc"?(f(),y("span",Fg,[...e[8]||(e[8]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20"},[i("title",null,"sort-clock-descending-outline"),i("path",{d:"M18 7H15L19 3L23 7H20V21H18V7M8 5C4.14 5 1 8.13 1 12C1 15.87 4.13 19 8 19C11.86 19 15 15.87 15 12C15 8.13 11.87 5 8 5M8 7.15C10.67 7.15 12.85 9.32 12.85 12C12.85 14.68 10.68 16.85 8 16.85C5.32 16.85 3.15 14.68 3.15 12C3.15 9.32 5.32 7.15 8 7.15M7 9V12.69L10.19 14.53L10.94 13.23L8.5 11.82V9"})],-1)])])):V("",!0)])]),i("div",jg,[i("label",Ug,[i("input",{type:"radio",class:"myradio",value:"name-desc",checked:n.modelValue==="name-desc",onChange:e[1]||(e[1]=a=>s.changeMe("name-desc"))},null,40,zg),e[9]||(e[9]=i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20"},[i("title",null,"sort-alphabetical-descending-variant"),i("path",{d:"M15.75 19L12.5 22.25L9.25 19H15.75M8.89 14.3H6L5.28 17H2.91L6 7H9L12.13 17H9.67L8.89 14.3M6.33 12.68H8.56L7.93 10.56L7.67 9.59L7.42 8.63H7.39L7.17 9.6L6.93 10.58L6.33 12.68M13.05 17V15.74L17.8 8.97V8.91H13.5V7H20.73V8.34L16.09 15V15.08H20.8V17H13.05Z"})],-1))]),i("label",Wg,[i("input",{type:"radio",class:"myradio",value:"name-asc",checked:n.modelValue==="name-asc",onChange:e[2]||(e[2]=a=>s.changeMe("name-asc"))},null,40,Gg),e[10]||(e[10]=i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20"},[i("title",null,"sort-alphabetical-ascending-variant"),i("path",{d:"M9.25 5L12.5 1.75L15.75 5H9.25M8.89 14.3H6L5.28 17H2.91L6 7H9L12.13 17H9.67L8.89 14.3M6.33 12.68H8.56L7.93 10.56L7.67 9.59L7.42 8.63H7.39L7.17 9.6L6.93 10.58L6.33 12.68M13.05 17V15.74L17.8 8.97V8.91H13.5V7H20.73V8.34L16.09 15V15.08H20.8V17H13.05Z"})],-1))]),i("label",qg,[i("input",{type:"radio",class:"myradio",value:"lastupdated-desc",checked:n.modelValue==="lastupdated-desc",onChange:e[3]||(e[3]=a=>s.changeMe("lastupdated-desc"))},null,40,Zg),e[11]||(e[11]=i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20"},[i("title",null,"sort-clock-ascending-outline"),i("path",{d:"M20 17H23L19 21L15 17H18V3H20V17M8 5C4.14 5 1 8.13 1 12C1 15.87 4.13 19 8 19C11.86 19 15 15.87 15 12C15 8.13 11.87 5 8 5M8 7.15C10.67 7.15 12.85 9.32 12.85 12C12.85 14.68 10.68 16.85 8 16.85C5.32 16.85 3.15 14.68 3.15 12C3.15 9.32 5.32 7.15 8 7.15M7 9V12.69L10.19 14.53L10.94 13.23L8.5 11.82V9"})],-1))]),i("label",Kg,[i("input",{type:"radio",class:"myradio",value:"lastupdated-asc",checked:n.modelValue==="lastupdated-asc",onChange:e[4]||(e[4]=a=>s.changeMe("lastupdated-asc"))},null,40,Yg),e[12]||(e[12]=i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20"},[i("title",null,"sort-clock-descending-outline"),i("path",{d:"M18 7H15L19 3L23 7H20V21H18V7M8 5C4.14 5 1 8.13 1 12C1 15.87 4.13 19 8 19C11.86 19 15 15.87 15 12C15 8.13 11.87 5 8 5M8 7.15C10.67 7.15 12.85 9.32 12.85 12C12.85 14.68 10.68 16.85 8 16.85C5.32 16.85 3.15 14.68 3.15 12C3.15 9.32 5.32 7.15 8 7.15M7 9V12.69L10.19 14.53L10.94 13.23L8.5 11.82V9"})],-1))])])],8,_g)}const Qg=He(Dg,[["render",Jg],["__scopeId","data-v-2d541abb"]]),Xg={name:"WriterHome",components:{Writer:Ig,SortWidget:Qg},computed:{listSort(){let t=this.toollist?[...this.toollist]:[];return this.sorttype==="name-asc"?t.sort((e,n)=>e.title.localeCompare(n.title)):this.sorttype==="name-desc"?t.sort((e,n)=>n.title.localeCompare(e.title)):this.sorttype==="lastupdated-asc"?t.sort((e,n)=>e.lastupdated-n.lastupdated):this.sorttype==="lastupdated-desc"?t.sort((e,n)=>n.lastupdated-e.lastupdated):t}},data(){return{toollist:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Writer.toArray())),sorttype:"lastupdated-desc"}},methods:{async addItem(){let t={};t.title="",t.description="",t.files=[],t.uuid=this.$root.uuid(),await this.$root.AddRecord("Writer",t),this.setLiveQuery(t)},setLiveQuery(t){this.$root.session.writer.selected=this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Writer.get(t.uuid)))},deleteItem(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.recursiveDelete(t.files),this.$root.DeleteRecord("Writer",t.uuid),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})},recursiveDelete(t){t.forEach(e=>{e.children&&this.recursiveDelete(e.children),this.$root.DeleteRecord("Files",e.uuid)})}},created(){this.$root.session.writer||(this.$root.session.writer={})}},em={key:0,id:"ToolHome"},tm={class:"wavemaker_info_box"},nm={style:{width:"100%"}},om={style:{width:"50px"}},im={style:{display:"flex","flex-direction":"column","align-items":"flex-end","padding-right":"12px"}},sm={style:{width:"100%"}},rm={class:"title"},am={class:"author"},lm={style:{width:"50px"}},dm=["onClick"],um={style:{width:"50px"}},cm=["onClick"],pm={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function hm(t,e,n,o,r,s){const a=te("SortWidget"),u=te("Writer");return f(),y(re,null,[t.$root.session.writer.selected?V("",!0):(f(),y("div",em,[i("div",tm,[i("table",nm,[i("tbody",null,[i("tr",null,[i("td",null,[i("h1",null,k(this.$root.setlang.tools.writer),1)]),i("td",om,[i("button",{onClick:e[0]||(e[0]=(...c)=>s.addItem&&s.addItem(...c)),class:"interfaceBtn"},[...e[2]||(e[2]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M13 19C13 20.1 13.3 21.12 13.81 22H6C4.89 22 4 21.11 4 20V4C4 2.9 4.89 2 6 2H7V9L9.5 7.5L12 9V2H18C19.1 2 20 2.89 20 4V13.09C19.67 13.04 19.34 13 19 13C15.69 13 13 15.69 13 19M20 18V15H18V18H15V20H18V23H20V20H23V18H20Z"})],-1)])])])])])]),i("div",im,[De(a,{modelValue:r.sorttype,"onUpdate:modelValue":e[1]||(e[1]=c=>r.sorttype=c)},null,8,["modelValue"])]),e[6]||(e[6]=i("hr",null,null,-1)),i("table",sm,[i("tbody",null,[(f(!0),y(re,null,Pe(s.listSort,(c,p)=>(f(),y("tr",{key:p,class:"listRow"},[i("td",null,[i("div",rm,k(c.title),1),i("div",am,k(c.description),1),i("i",null,[e[3]||(e[3]=i("br",null,null,-1)),ye(" "+k(t.$root.niceDate(c.lastupdated)),1)])]),i("td",lm,[i("button",{onClick:C=>s.setLiveQuery(c),class:"interfaceBtn"},[...e[4]||(e[4]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M19.39 10.74L11 19.13V22H6C4.89 22 4 21.11 4 20V4C4 2.9 4.89 2 6 2H7V9L9.5 7.5L12 9V2H18C19.1 2 20 2.89 20 4V10.3C19.78 10.42 19.57 10.56 19.39 10.74M13 19.96V22H15.04L21.17 15.88L19.13 13.83L13 19.96M22.85 13.47L21.53 12.15C21.33 11.95 21 11.95 20.81 12.15L19.83 13.13L21.87 15.17L22.85 14.19C23.05 14 23.05 13.67 22.85 13.47Z"})],-1)])],8,dm)]),i("td",um,[i("button",{onClick:C=>s.deleteItem(c),class:"interfaceBtn deleteBtn"},[(f(),y("svg",pm,[...e[5]||(e[5]=[i("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"},null,-1)])]))],8,cm)])]))),128))])])])])),t.$root.session.writer.selected?(f(),Be(u,{key:1})):V("",!0)],64)}const fm=He(Xg,[["render",hm],["__scopeId","data-v-06a36521"]]),gm=["data-index"],mm=Ts({__name:"masonry-wall",props:{columnWidth:{default:400},items:{},gap:{default:0},rtl:{type:Boolean,default:!1},ssrColumns:{default:0},scrollContainer:{default:null},minColumns:{},maxColumns:{},keyMapper:{type:Function,default:(t,e,n,o)=>o}},emits:["redraw","redrawSkip"],setup(t,{emit:e}){const n=t,{columnWidth:o,items:r,gap:s,rtl:a,ssrColumns:u,scrollContainer:c,minColumns:p,maxColumns:C,keyMapper:v}=Dl(n),H=pt([]),x=pt();function T(_,M,L,g){const S=I(L);return g+M+S<=_?T(_,M,L+1,g+M+S):L}function I(_){const M=Array.isArray(o.value)?o.value:[o.value];return M[_%M.length]}function se(){const _=T(x.value.getBoundingClientRect().width,s.value,0,-s.value),M=ee(E(_));return M>0?M:1}function E(_){const M=C==null?void 0:C.value;return M&&_>M?M:_}function ee(_){const M=p==null?void 0:p.value;return M&&_<M?M:_}function ne(_){return[...new Array(_)].map(()=>[])}if(u.value>0){const _=ne(u.value);r.value.forEach((M,L)=>_[L%u.value].push(L)),H.value=_}async function ae(_){if(_>=r.value.length)return;await po();const M=[...x.value.children];a.value&&M.reverse();const L=M.reduce((g,S)=>S.getBoundingClientRect().height<g.getBoundingClientRect().height?S:g);H.value[+L.dataset.index].push(_),await ae(_+1)}async function q(_=!1){if(H.value.length===se()&&!_){e("redrawSkip");return}H.value=ne(se());const M=c==null?void 0:c.value,L=M?M.scrollTop:window.scrollY;await ae(0),M?M.scrollBy({top:L-M.scrollTop}):window.scrollTo({top:L}),e("redraw")}const ce=typeof ResizeObserver>"u"?void 0:new ResizeObserver(()=>q());return Ci(()=>{q(),ce==null||ce.observe(x.value)}),_l(()=>ce==null?void 0:ce.unobserve(x.value)),Fn([r,a],()=>q(!0)),Fn([o,s,p,C],()=>q()),(_,M)=>(f(),y("div",{ref_key:"wall",ref:x,class:"masonry-wall",style:It({display:"flex",gap:`${ct(s)}px`})},[(f(!0),y(re,null,Pe(H.value,(L,g)=>(f(),y("div",{key:g,class:"masonry-column","data-index":g,style:It({display:"flex","flex-basis":`${I(g)}px`,"flex-direction":"column","flex-grow":1,gap:`${ct(s)}px`,height:["-webkit-max-content","-moz-max-content","max-content"],"min-width":0})},[(f(!0),y(re,null,Pe(L,(S,w)=>(f(),y("div",{key:ct(v)(ct(r)[S],g,w,S),class:"masonry-item"},[bo(_.$slots,"default",{item:ct(r)[S],column:g,row:w,index:S},()=>[ye(k(ct(r)[S]),1)])]))),128))],12,gm))),128))],4))}}),lr=(()=>{const t=mm;return t.install=e=>{e.component("MasonryWall",t)},t})(),vm={name:"CardsDatabaseHome",data(){return{SearchTerm:null,currentTag:null,cardList:gn(fn(async()=>await Rt.Cards.toArray()))}},components:{CardViewer:Eo,MasonryWall:lr},computed:{CardsArray(){if(this.$root.session.EditCard)return[];{let t=[];return this.cardList&&this.cardList.forEach(e=>{let n=!1;this.SearchTerm?(e.title.toLowerCase().includes(this.SearchTerm.toLowerCase())||e.description.toLowerCase().includes(this.SearchTerm.toLowerCase()))&&(n=!0):n=!0;let o=!1;this.currentTag?e.labels.includes(this.currentTag)&&(o=!0):o=!0,n&&o&&t.push(e)}),t}},taglist(){let t=[];return this.CardsArray.forEach(e=>{e.labels.forEach(n=>{t.includes(n)||t.push(n)})}),t}},methods:{deleteCard(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.$root.DeleteRecord("Cards",t),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})}},mounted(){}},ym={class:"toolbar"},wm={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},bm=["placeholder"],Cm={id:"scrollWindow"},Lm={style:{padding:"15px","padding-right":"135px"}},$m={class:"cardFrame"},km=["onClick"],xm={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},Hm={class:"taglist"},Am=["onClick"];function Vm(t,e,n,o,r,s){const a=te("CardViewer"),u=te("masonry-wall");return f(),y(re,null,[i("div",ym,[(f(),y("svg",wm,[...e[3]||(e[3]=[i("path",{d:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"},null,-1)])])),ue(i("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>r.SearchTerm=c),placeholder:this.$root.setlang.db.search},null,8,bm),[[Ve,r.SearchTerm]]),i("button",{onClick:e[1]||(e[1]=c=>this.$root.makeNewCard()),class:"interfaceBtn"},[...e[4]||(e[4]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.9 4 4 4H20C21.11 4 22 4.89 22 6V13.81C21.12 13.3 20.09 13 19 13C15.69 13 13 15.69 13 19C13 19.34 13.04 19.67 13.09 20M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"})],-1)])])]),i("div",Cm,[i("div",Lm,[De(u,{items:s.CardsArray,"ssr-columns":1,"column-width":300,gap:16},{default:wt(({item:c})=>[i("div",$m,[(f(),Be(a,{cardid:c.uuid,key:c.lastupdated},null,8,["cardid"])),i("button",{class:"deleteIconButton",onClick:p=>s.deleteCard(c.uuid)},[(f(),y("svg",xm,[...e[5]||(e[5]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])]))],8,km)])]),_:1},8,["items"])]),i("div",Hm,[i("div",null,[i("button",{onClick:e[2]||(e[2]=c=>r.currentTag=t.tag),style:{"background-color":"var(--primary)",color:"var(--primary-f)"}}," [ "+k(this.$root.setlang.db.clear)+" ] ",1),(f(!0),y(re,null,Pe(s.taglist.sort(),(c,p)=>(f(),y("button",{onClick:C=>r.currentTag=c,key:p},k(c),9,Am))),128))])])])],64)}const Mm=He(vm,[["render",Vm],["__scopeId","data-v-d0d803cb"]]),Sm={name:"PlanningBoardCols",components:{VueDraggableNext:Tn,CardViewer:Eo},props:{fileId:{type:String,required:!0},FileNode:{type:Object}},computed:{dragOptions(){return{animation:200,group:"Cards",disabled:!1,ghostClass:"ghost"}}},data(){return{drag:!1,MyFile:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Files.get(this.fileId)))}},methods:{selectCol(){this.$root.session.writer.file=this.FileNode,console.log("Col Selected",this.$root.session.writer.file)},linkCard(t,e){var n=this.MyFile.notes.find(o=>o.uuid===e);n.uuid=t,this.updateDatabase()},deleteNote(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.MyFile.notes.splice(t,1),this.updateDatabase(),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})},addCard(){let t={};t.uuid=this.$root.uuid(),this.MyFile.notes.push(t),this.updateDatabase()},updateDatabase(){this.$root.UpdateRecord("Files",this.MyFile.uuid,this.MyFile)}}},Tm={key:0,style:{width:"320px"},width:"320px"},Em=["placeholder"],Bm={class:"hscroll"},Im=["onClick"],Dm={style:{width:"16px",height:"16px"},viewBox:"0 0 24 24"},_m={class:"clearInterfaceIconButton cardHandle"},Pm={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},Om=["onClick"],Nm={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},Rm={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function Fm(t,e,n,o,r,s){const a=te("CardViewer"),u=te("VueDraggableNext"),c=te("PlanningBoardCards",!0);return f(),y(re,null,[n.FileNode.type==="file"?(f(),y("td",Tm,[r.MyFile?(f(),y(re,{key:0},[i("div",{class:"titleBar",onClick:e[2]||(e[2]=(...p)=>s.selectCol&&s.selectCol(...p))},[ue(i("input",{type:"text",class:"titleBarInput","onUpdate:modelValue":e[0]||(e[0]=p=>r.MyFile.title=p),placeholder:this.$root.setlang.writer.newfile,onChange:e[1]||(e[1]=(...p)=>s.updateDatabase&&s.updateDatabase(...p))},null,40,Em),[[Ve,r.MyFile.title]])]),i("div",Bm,[De(u,cn({list:r.MyFile.notes,tag:"transition-group",group:"board",class:"list-group-card","component-data":{tag:"div",type:"transition-group",name:r.drag?null:"flip-list"},handle:".cardHandle"},s.dragOptions,{onStart:e[3]||(e[3]=p=>r.drag=!0),onEnd:e[4]||(e[4]=p=>r.drag=!1),emptyInsertThreshold:90,onChange:s.updateDatabase}),{default:wt(()=>[(f(!0),y(re,null,Pe(this.MyFile.notes,(p,C)=>(f(),y("div",{key:C,class:"list-group-card-item",tabindex:"0"},[i("div",{class:je(p.completed?"completedcard":"")},[(f(),Be(a,{cardid:p.uuid,allowlink:!0,onLinkcard:s.linkCard,key:t.$root.uuid()},null,8,["cardid","onLinkcard"])),i("button",{class:"togglecomplete",onClick:v=>{p.completed=!p.completed,s.updateDatabase()}},[(f(),y("svg",Dm,[...e[6]||(e[6]=[i("path",{d:"M19,19H5V5H15V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V11H19M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"},null,-1)])]))],8,Im)],2),i("div",_m,[(f(),y("svg",Pm,[...e[7]||(e[7]=[i("path",{d:"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"},null,-1)])]))]),i("button",{class:"deleteIconButton",onClick:v=>s.deleteNote(C,p),tabindex:"0"},[(f(),y("svg",Nm,[...e[8]||(e[8]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])]))],8,Om)]))),128))]),_:1},16,["list","component-data","onChange"]),i("button",{class:"add-card",onClick:e[5]||(e[5]=p=>s.addCard())},[(f(),y("svg",Rm,[...e[9]||(e[9]=[i("path",{d:"M13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.9 4 4 4H20C21.11 4 22 4.89 22 6V13.81C21.12 13.3 20.09 13 19 13C15.69 13 13 15.69 13 19C13 19.34 13.04 19.67 13.09 20M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"},null,-1)])]))])])],64)):V("",!0)])):V("",!0),n.FileNode.type==="folder"?(f(!0),y(re,{key:1},Pe(n.FileNode.children,(p,C)=>(f(),Be(c,{fileId:p.uuid,key:C,FileNode:p},null,8,["fileId","FileNode"]))),128)):V("",!0)],64)}const jm=He(Sm,[["render",Fm],["__scopeId","data-v-42bc3d37"]]),Um={name:"PlanningBoard",components:{PlanningBoardCards:jm},data(){return{WriterLQ:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Writer.get(this.$root.session.writer.selected.uuid))),ColumnArray:[],TempArray:[]}},methods:{deleteFile(t,e){this.$swal({title:"Are you sure?",text:"You won't be able to undo this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(n=>{n.isConfirmed&&(this.$root.$data.session.writer.file===e&&(this.$root.$data.session.writer.file=null),this.WriterLQ.files.splice(t,1),this.updateDatabase(),this.$swal("Deleted!","Your file has been deleted.","success"))})},addFile(){console.log("Add needed");let t=JSON.parse(JSON.stringify({type:"file"}));t.uuid=this.$root.uuid();let e={};e.title=this.$root.setlang.writer.newfile,e.writerid=this.$root.session.writer.selected.uuid,e.uuid=t.uuid,e.content="",e.notes=[],this.$root.AddRecord("Files",e),this.WriterLQ.files.push(t),this.updateDatabase()},updateDatabase(){console.log("list changed"),this.$root.UpdateRecord("Writer",this.WriterLQ.uuid,this.WriterLQ)}}},zm={key:0,class:"planningBoardHolder"},Wm={class:"boardTable",cellspacing:"0",cellpadding:"0"},Gm={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function qm(t,e,n,o,r,s){const a=te("PlanningBoardCards");return f(),y(re,null,[r.WriterLQ?(f(),y("div",zm,[i("div",{id:"toolbox",onClick:e[3]||(e[3]=u=>this.$root.session.writer.file=this.WriterLQ)},[ue(i("input",{"onUpdate:modelValue":e[0]||(e[0]=u=>this.WriterLQ.title=u),class:"titleinput",onChange:e[1]||(e[1]=(...u)=>s.updateDatabase&&s.updateDatabase(...u))},null,544),[[Ve,this.WriterLQ.title]]),i("button",{onClick:e[2]||(e[2]=u=>this.$root.session.selectedTool="writer"),class:"toolbutton"},[...e[5]||(e[5]=[i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M19 2L14 6.5V17.5L19 13V2M6.5 5C4.55 5 2.45 5.4 1 6.5V21.16C1 21.41 1.25 21.66 1.5 21.66C1.6 21.66 1.65 21.59 1.75 21.59C3.1 20.94 5.05 20.5 6.5 20.5C8.45 20.5 10.55 20.9 12 22C13.35 21.15 15.8 20.5 17.5 20.5C19.15 20.5 20.85 20.81 22.25 21.56C22.35 21.61 22.4 21.59 22.5 21.59C22.75 21.59 23 21.34 23 21.09V6.5C22.4 6.05 21.75 5.75 21 5.5V19C19.9 18.65 18.7 18.5 17.5 18.5C15.8 18.5 13.35 19.15 12 20V6.5C10.55 5.4 8.45 5 6.5 5Z"})],-1)])])]),i("table",Wm,[i("tbody",null,[i("tr",null,[(f(!0),y(re,null,Pe(r.WriterLQ.files,(u,c)=>(f(),Be(a,{key:c,fileId:u.uuid,FileNode:u},null,8,["fileId","FileNode"]))),128))])])])])):V("",!0),i("button",{class:"add-col-btn",onClick:e[4]||(e[4]=(...u)=>s.addFile&&s.addFile(...u))},[(f(),y("svg",Gm,[...e[6]||(e[6]=[i("path",{d:"M11,2A2,2 0 0,1 13,4V20A2,2 0 0,1 11,22H2V2H11M4,10V14H11V10H4M4,16V20H11V16H4M4,4V8H11V4H4M15,11H18V8H20V11H23V13H20V16H18V13H15V11Z"},null,-1)])]))])],64)}const Zm=He(Um,[["render",qm],["__scopeId","data-v-84e8806b"]]),Km={name:"PlanningBoardHome",components:{PlanningBoard:Zm},data(){return{toollist:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Writer.toArray()))}},methods:{addItem(){let t={};t.title="",t.description="",t.files=[],t.uuid=this.$root.uuid(),this.$root.AddRecord("Writer",t),this.$root.session.writer.selected=t},setLiveQuery(t){this.$root.session.writer.selected=this.$root.useObservable(this.$root.liveQuery(()=>this.$root.db.Writer.get(t.uuid)))}},created(){this.$root.session.writer||(this.$root.session.writer={})}},Ym={key:0,id:"ToolHome"},Jm={class:"wavemaker_info_box"},Qm={style:{width:"100%"}},Xm={style:{width:"50px"}},e2={style:{width:"100%"}},t2={class:"title"},n2={class:"author"},o2={style:{width:"50px"}},i2=["onClick"];function s2(t,e,n,o,r,s){const a=te("PlanningBoard");return f(),y(re,null,[t.$root.session.writer.selected?V("",!0):(f(),y("div",Ym,[i("div",Jm,[i("table",Qm,[i("tbody",null,[i("tr",null,[i("td",null,[i("h1",null,k(this.$root.setlang.tools.planningboard),1)]),i("td",Xm,[i("button",{onClick:e[0]||(e[0]=(...u)=>s.addItem&&s.addItem(...u)),class:"interfaceBtn"},[...e[1]||(e[1]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[i("path",{d:"M22,9V7H20V5A2,2 0 0,0 18,3H4A2,2 0 0,0 2,5V19A2,2 0 0,0 4,21H18A2,2 0 0,0 20,19V17H22V15H20V13H22V11H20V9H22M18,19H4V5H18V19M6,13H11V17H6V13M12,7H16V10H12V7M6,7H11V12H6V7M12,11H16V17H12V11Z"})],-1)])])])])])]),e[4]||(e[4]=i("hr",null,null,-1)),i("table",e2,[i("tbody",null,[(f(!0),y(re,null,Pe(r.toollist,(u,c)=>(f(),y("tr",{key:c},[i("td",null,[i("div",t2,k(u.title),1),i("div",n2,k(u.description),1),i("i",null,[e[2]||(e[2]=i("br",null,null,-1)),ye(" "+k(t.$root.niceDate(u.lastupdated)),1)])]),i("td",o2,[i("button",{onClick:p=>s.setLiveQuery(u),class:"interfaceBtn"},[...e[3]||(e[3]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M19.39 10.74L11 19.13V22H6C4.89 22 4 21.11 4 20V4C4 2.9 4.89 2 6 2H7V9L9.5 7.5L12 9V2H18C19.1 2 20 2.89 20 4V10.3C19.78 10.42 19.57 10.56 19.39 10.74M13 19.96V22H15.04L21.17 15.88L19.13 13.83L13 19.96M22.85 13.47L21.53 12.15C21.33 11.95 21 11.95 20.81 12.15L19.83 13.13L21.87 15.17L22.85 14.19C23.05 14 23.05 13.67 22.85 13.47Z"})],-1)])],8,i2)])]))),128))])])])])),t.$root.session.writer.selected?(f(),Be(a,{key:t.$root.session.writer.selected.lastupdated})):V("",!0)],64)}const r2=He(Km,[["render",s2],["__scopeId","data-v-8ddaef24"]]),a2=Lt.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",lt(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),l2=/^\s*(\[([( |x])?\])\s$/,d2=Lt.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",lt(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:o})=>{const r=document.createElement("li"),s=document.createElement("label"),a=document.createElement("span"),u=document.createElement("input"),c=document.createElement("div"),p=()=>{var C,v;u.ariaLabel=((v=(C=this.options.a11y)===null||C===void 0?void 0:C.checkboxLabel)===null||v===void 0?void 0:v.call(C,t,u.checked))||`Task item checkbox for ${t.textContent||"empty task item"}`};return p(),s.contentEditable="false",u.type="checkbox",u.addEventListener("mousedown",C=>C.preventDefault()),u.addEventListener("change",C=>{if(!o.isEditable&&!this.options.onReadOnlyChecked){u.checked=!u.checked;return}const{checked:v}=C.target;o.isEditable&&typeof n=="function"&&o.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:H})=>{const x=n();if(typeof x!="number")return!1;const T=H.doc.nodeAt(x);return H.setNodeMarkup(x,void 0,{...T==null?void 0:T.attrs,checked:v}),!0}).run(),!o.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,v)||(u.checked=!u.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([C,v])=>{r.setAttribute(C,v)}),r.dataset.checked=t.attrs.checked,u.checked=t.attrs.checked,s.append(u,a),r.append(s,c),Object.entries(e).forEach(([C,v])=>{r.setAttribute(C,v)}),{dom:r,contentDOM:c,update:C=>C.type!==this.type?!1:(r.dataset.checked=C.attrs.checked,u.checked=C.attrs.checked,p(),!0)}}},addInputRules(){return[Mn({find:l2,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),u2=d2.extend({content:"inline*"}),c2={name:"DescriptionEditor",components:{EditorContent:ki},props:{modelValue:{type:String,default:""}},data(){return{editor:null}},methods:{doupdate(){this.$emit("updated")}},watch:{modelValue(t){this.editor.getHTML()!==t&&this.editor.commands.setContent(t,!1)}},mounted(){this.editor=new xi({extensions:[Bi,a2,u2],content:this.modelValue,onUpdate:()=>{this.$emit("update:modelValue",this.editor.getHTML())}})},beforeUnmount(){this.editor.destroy()}};function p2(t,e,n,o,r,s){const a=te("EditorContent");return f(),Be(a,{editor:r.editor,class:"descriptionEditor",onFocusout:e[0]||(e[0]=u=>s.doupdate())},null,8,["editor"])}const Ii=He(c2,[["render",p2]]),h2={name:"SnowFlakeTool",components:{MiniEditor:Ii},data(){return{}},methods:{exportToManuscript(){this.$swal({title:this.$root.setlang.confirmmodal.confirmexport,text:this.$root.setlang.confirmmodal.exportmsg,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.exportconfirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(t=>{if(t.isConfirmed){let e={};e.uuid=this.$root.uuid(),e.title=this.$root.session.snowflake.selected.title,e.descripton=this.$root.session.snowflake.selected.description,e.files=[],this.$root.session.snowflake.selected.content.forEach(n=>{console.log("SNOW >>>",n);let o=this.$root.uuid(),r={};r.writerid=e.uuid,r.title=n.title,r.content=n.content,r.notes=[],r.uuid=o,r.wordcount=this.$root.wordCounter(n.content),this.$root.AddRecord("Files",r);let s={};s.uuid=o,s.open=!1,s.type="file",s.children=[],e.files.push(s)}),this.$root.AddRecord("Writer",e),this.$swal(this.$root.setlang.confirmmodal.exportsuccess,this.$root.setlang.confirmmodal.exportsuccessfeedback,"success")}})},openflake(t){if(!t.children.length){let e={};e.level=t.level+1,e.content="",e.open=!1,e.children=[],e.title="",t.children.push({...e}),t.children.push({...e}),t.children.push({...e})}t.open=!t.open,this.updateDatabase()},deleteFlake(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.$root.session.snowflake.selected.content.splice(t,1),this.startFlake(),this.updateDatabase(),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})},replace(t,e){this.$swal({title:this.$root.setlang.confirmmodal.snowconfirm,text:this.$root.setlang.confirmmodal.snowconfirmtext,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.snowconfirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(n=>{if(n.isConfirmed){let o={...t.children[0]},r={...t.children[1]},s={...t.children[2]};this.$root.session.snowflake.selected.content.splice(e+1,0,s),this.$root.session.snowflake.selected.content.splice(e+1,0,r),this.$root.session.snowflake.selected.content.splice(e+1,0,o),this.$root.session.snowflake.selected.content.splice(e,1),this.updateDatabase(),this.$swal(this.$root.setlang.confirmmodal.snowconfirmsuccess,this.$root.setlang.confirmmodal.snowconfirmmsg,"success")}})},updateDatabase(){console.log("list changed"),this.$root.UpdateRecord("Snowflake",this.$root.session.snowflake.selected.uuid,this.$root.session.snowflake.selected)},startFlake(){if(!this.$root.session.snowflake.selected.content.length){let t={};t.title="",t.level=0,t.content="",t.open=!1,t.children=[],this.$root.session.snowflake.selected.content.push(t)}}},mounted(){this.startFlake()}},f2={class:"scroller"},g2={id:"toolbox"},m2={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},v2={class:"row"},y2={class:"card"},w2=["onClick"],b2={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},C2=["onUpdate:modelValue","placeholder"],L2=["onClick"],$2={key:0,class:"column"},k2={class:"card"},x2=["onUpdate:modelValue","placeholder"],H2={class:"card"},A2=["onUpdate:modelValue","placeholder"],V2={class:"card"},M2=["onUpdate:modelValue","placeholder"],S2=["onClick"],T2={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function E2(t,e,n,o,r,s){const a=te("MiniEditor");return f(),y("div",f2,[(f(!0),y(re,null,Pe(this.$root.session.snowflake.selected.content,(u,c)=>(f(),y(re,{key:c},[i("div",g2,[ue(i("input",{"onUpdate:modelValue":e[0]||(e[0]=p=>t.$root.session.snowflake.selected.title=p),class:"titleinput",onChange:e[1]||(e[1]=(...p)=>s.updateDatabase&&s.updateDatabase(...p))},null,544),[[Ve,t.$root.session.snowflake.selected.title]]),i("button",{onClick:e[2]||(e[2]=(...p)=>s.exportToManuscript&&s.exportToManuscript(...p)),class:"toolbutton"},[(f(),y("svg",m2,[...e[7]||(e[7]=[i("path",{d:"M9 12H18.8L16.3 9.5L17.7 8.1L22.6 13L17.7 17.9L16.3 16.5L18.8 14H9V12M21 17.4V20H3V6H21V8.6L23 10.6V4C23 2.9 22.1 2 21 2H3C1.9 2 1 2.9 1 4V20C1 21.1 1.9 22 3 22H21C22.1 22 23 21.1 23 20V15.4L21 17.4Z"},null,-1)])]))])]),i("div",v2,[i("div",{class:"column",style:It(u.open?"":"display:block")},[i("div",y2,[i("button",{class:"open-flake-button",onClick:p=>s.openflake(u)},[(f(),y("svg",b2,[...e[8]||(e[8]=[i("path",{d:"M8,2H16A2,2 0 0,1 18,4V20A2,2 0 0,1 16,22H8A2,2 0 0,1 6,20V4A2,2 0 0,1 8,2M8,10V14H16V10H8M8,16V20H16V16H8M8,4V8H16V4H8Z"},null,-1)])]))],8,w2),ue(i("input",{class:"title","onUpdate:modelValue":p=>u.title=p,placeholder:this.$root.setlang.snowflake.title,onChange:e[3]||(e[3]=(...p)=>s.updateDatabase&&s.updateDatabase(...p))},null,40,C2),[[Ve,u.title]]),De(a,{snowFlake:u,modelValue:u.content,"onUpdate:modelValue":p=>u.content=p,onUpdated:s.updateDatabase},null,8,["snowFlake","modelValue","onUpdate:modelValue","onUpdated"]),i("button",{class:"delete-flake-button",onClick:p=>s.deleteFlake(c)},[...e[9]||(e[9]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"})],-1)])],8,L2)])],4),De(Kn,{name:"h-slide-fade"},{default:wt(()=>[u.open?(f(),y("div",$2,[i("div",k2,[ue(i("input",{class:"title","onUpdate:modelValue":p=>u.children[0].title=p,placeholder:this.$root.setlang.snowflake.title,onChange:e[4]||(e[4]=(...p)=>s.updateDatabase&&s.updateDatabase(...p))},null,40,x2),[[Ve,u.children[0].title]]),De(a,{snowFlake:u.children[0],modelValue:u.children[0].content,"onUpdate:modelValue":p=>u.children[0].content=p,onUpdated:s.updateDatabase},null,8,["snowFlake","modelValue","onUpdate:modelValue","onUpdated"])]),i("div",H2,[ue(i("input",{class:"title","onUpdate:modelValue":p=>u.children[1].title=p,placeholder:this.$root.setlang.snowflake.title,onChange:e[5]||(e[5]=(...p)=>s.updateDatabase&&s.updateDatabase(...p))},null,40,A2),[[Ve,u.children[1].title]]),De(a,{snowFlake:u.children[1],modelValue:u.children[1].content,"onUpdate:modelValue":p=>u.children[1].content=p,onUpdated:s.updateDatabase},null,8,["snowFlake","modelValue","onUpdate:modelValue","onUpdated"])]),i("div",V2,[ue(i("input",{class:"title","onUpdate:modelValue":p=>u.children[2].title=p,placeholder:this.$root.setlang.snowflake.title,onChange:e[6]||(e[6]=(...p)=>s.updateDatabase&&s.updateDatabase(...p))},null,40,M2),[[Ve,u.children[2].title]]),De(a,{snowFlake:u.children[2],modelValue:u.children[2].content,"onUpdate:modelValue":p=>u.children[2].content=p,onUpdated:s.updateDatabase},null,8,["snowFlake","modelValue","onUpdate:modelValue","onUpdated"])]),i("button",{class:"replaceButton",onClick:p=>s.replace(u,c)},[(f(),y("svg",T2,[...e[10]||(e[10]=[i("path",{d:"M14.58,16.59L19.17,12L14.58,7.41L16,6L22,12L16,18L14.58,16.59M8.58,16.59L13.17,12L8.58,7.41L10,6L16,12L10,18L8.58,16.59M2.58,16.59L7.17,12L2.58,7.41L4,6L10,12L4,18L2.58,16.59Z"},null,-1)])]))],8,S2)])):V("",!0)]),_:2},1024)])],64))),128))])}const B2=He(h2,[["render",E2],["__scopeId","data-v-986e38a0"]]),I2={name:"PlanningBoardHome",components:{SnowFlakeTool:B2},data(){return{title:null,description:null,showaddform:!1,Snowflakes:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Snowflake.toArray()))}},methods:{deleteItem(t){this.$swal({title:"Are you sure?",text:"You won't be able to undo this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(e=>{e.isConfirmed&&(this.$root.DeleteRecord("Snowflake",t.uuid),this.$swal("Deleted!","Your file has been deleted.","success"))})},chooseItem(t){this.$root.session.snowflake.selected=this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Snowflake.get(t.uuid)))},addItem(){if(!this.title)return alert(this.$root.setlang.tools.warn),!1;let t={};t.title=this.title,t.description=this.description,t.content=[],t.uuid=this.$root.uuid(),this.$root.AddRecord("Snowflake",t),this.title="",this.description="",this.showaddform=!1}},created(){this.$root.$data.session.snowflake||(this.$root.$data.session.snowflake={})}},D2={key:0,id:"ToolHome"},_2={class:"wavemaker_info_box"},P2={style:{width:"100%"}},O2={style:{width:"50px"}},N2={key:0},R2=["placeholder"],F2={style:{"text-align":"right"}},j2={key:1,style:{width:"100%"}},U2={class:"title"},z2={style:{width:"50px"}},W2=["onClick"],G2={style:{width:"50px"}},q2=["onClick"],Z2={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function K2(t,e,n,o,r,s){const a=te("SnowFlakeTool");return f(),y(re,null,[t.$root.$data.session.snowflake.selected?V("",!0):(f(),y("div",D2,[i("div",_2,[i("table",P2,[i("tbody",null,[i("tr",null,[i("td",null,[i("h1",null,k(this.$root.setlang.tools.snowflake),1)]),i("td",O2,[i("button",{onClick:e[0]||(e[0]=u=>r.showaddform=!r.showaddform),class:"interfaceBtn"},[...e[3]||(e[3]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M14.25,12L16.27,11H23L22,9H18.03L20.42,5.83L19.43,3.83L15.37,9.2L13.35,10.21L13.75,8L17.83,2.62L15.64,2.22L12,7L8.4,2.2L6.2,2.6L10.26,8L10.66,10.21L8.82,9.29L8.66,9.21L4.6,3.8L3.6,5.8L6,9H2L1,11H7.77L9.75,12L7.73,13H1L2,15H5.97L3.58,18.17L4.57,20.17L8.63,14.8L10.65,13.79L10.25,16L6.17,21.38L8.36,21.79L12,17L15.6,21.8L17.8,21.4L13.74,16L13.34,13.79L15.34,14.79L19.4,20.2L20.4,18.2L18,15H22L23,13H16.23"})],-1)])])])])])]),r.showaddform?(f(),y("div",N2,[e[5]||(e[5]=i("hr",null,null,-1)),ue(i("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=u=>r.title=u),placeholder:this.$root.setlang.tools.name,class:"formInput"},null,8,R2),[[Ve,r.title]]),i("div",F2,[i("button",{onClick:e[2]||(e[2]=(...u)=>s.addItem&&s.addItem(...u)),class:"interfaceBtn"},[...e[4]||(e[4]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})],-1)])])])])):V("",!0),e[9]||(e[9]=i("hr",null,null,-1)),r.showaddform?V("",!0):(f(),y("table",j2,[i("tbody",null,[(f(!0),y(re,null,Pe(r.Snowflakes,(u,c)=>(f(),y("tr",{key:c},[i("td",null,[i("div",U2,k(u.title),1),i("i",null,[e[6]||(e[6]=i("br",null,null,-1)),ye(" "+k(t.$root.niceDate(u.lastupdated)),1)])]),i("td",z2,[i("button",{onClick:p=>s.chooseItem(u),class:"interfaceBtn"},[...e[7]||(e[7]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"})],-1)])],8,W2)]),i("td",G2,[i("button",{onClick:p=>s.deleteItem(u),class:"interfaceBtn deleteBtn"},[(f(),y("svg",Z2,[...e[8]||(e[8]=[i("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"},null,-1)])]))],8,q2)])]))),128))])]))])])),t.$root.$data.session.snowflake.selected?(f(),Be(a,{key:1})):V("",!0)],64)}const Y2=He(I2,[["render",K2],["__scopeId","data-v-70a64aec"]]),J2={name:"TimeLineTool",components:{VueDraggableNext:Tn,MiniEditor:Ii},computed:{dragOptions(){return{animation:200,group:"Cards",disabled:!1,ghostClass:"ghost"}}},data(){return{drag:!1}},methods:{addTime(){let t={};t.title="",t.text="",t.event="",this.$root.session.timeline.selected.content.push(t),this.updateDatabase()},addTimeAtIndex(t){let e={};e.title="",e.text="",e.event="",this.$root.session.timeline.selected.content.splice(t,0,e),this.updateDatabase()},deleteTime(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.$root.session.timeline.selected.content.splice(t,1),this.updateDatabase(),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})},updateDatabase(){console.log("list changed"),this.$root.UpdateRecord("Timeline",this.$root.$data.session.timeline.selected.uuid,this.$root.$data.session.timeline.selected)},exportToManuscript(){this.$swal({title:this.$root.setlang.confirmmodal.confirmexport,text:this.$root.setlang.confirmmodal.exportmsg,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.exportconfirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(t=>{if(t.isConfirmed){let e={};e.uuid=this.$root.uuid(),e.title=this.$root.session.timeline.selected.title,e.descripton=this.$root.session.timeline.selected.description,e.files=[],this.$root.session.timeline.selected.content.forEach(n=>{console.log(n);let o=this.$root.uuid(),r={};r.writerid=e.uuid,r.title=n.event+"-"+n.title,r.content=n.text,r.notes=[],r.uuid=o,r.wordcount=this.$root.wordCounter(n.content),this.$root.AddRecord("Files",r);let s={};s.uuid=o,s.open=!1,s.type="file",s.children=[],e.files.push(s)}),this.$root.AddRecord("Writer",e),this.$swal(this.$root.setlang.confirmmodal.exportsuccess,this.$root.setlang.confirmmodal.exportsuccessfeedback,"success")}})}},mounted(){if(!this.$root.session.timeline.selected.content.length){let t={};t.title="",t.text="",t.event="",this.$root.session.timeline.selected.content.push(t)}this.updateDatabase()}},Q2={class:"scroller"},X2=["placeholder"],e0=["placeholder"],t0={class:"timeline"},n0={class:"time"},o0={class:"handle"},i0={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},s0=["placeholder","onUpdate:modelValue"],r0=["onClick"],a0={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},l0={class:"content"},d0=["placeholder","onUpdate:modelValue"],u0=["onClick"],c0={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},p0={style:{"text-align":"center","padding-left":"15px"}},h0={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},f0={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function g0(t,e,n,o,r,s){const a=te("MiniEditor"),u=te("VueDraggableNext");return f(),y("div",Q2,[ue(i("input",{class:"topinput",placeholder:this.$root.setlang.tools.name,"onUpdate:modelValue":e[0]||(e[0]=c=>this.$root.session.timeline.selected.title=c),onChange:e[1]||(e[1]=(...c)=>s.updateDatabase&&s.updateDatabase(...c))},null,40,X2),[[Ve,this.$root.session.timeline.selected.title]]),ue(i("input",{class:"topinput sub",placeholder:this.$root.setlang.tools.description,"onUpdate:modelValue":e[2]||(e[2]=c=>this.$root.session.timeline.selected.description=c),onChange:e[3]||(e[3]=(...c)=>s.updateDatabase&&s.updateDatabase(...c))},null,40,e0),[[Ve,this.$root.session.timeline.selected.description]]),i("div",t0,[De(u,cn({list:this.$root.$data.session.timeline.selected.content,tag:"ul",group:"board","component-data":{tag:"ul",type:"transition-group",name:r.drag?null:"flip-list"},handle:".handle"},s.dragOptions,{onStart:e[6]||(e[6]=c=>r.drag=!0),onEnd:e[7]||(e[7]=c=>r.drag=!1),emptyInsertThreshold:90,onChange:s.updateDatabase}),{default:wt(()=>[(f(!0),y(re,null,Pe(this.$root.session.timeline.selected.content,(c,p)=>(f(),y("li",{key:p},[i("div",n0,[i("div",o0,[(f(),y("svg",i0,[...e[10]||(e[10]=[i("path",{d:"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"},null,-1)])]))]),ue(i("input",{class:"timeText",tabindex:"1",placeholder:this.$root.setlang.timeline.date,"onUpdate:modelValue":C=>c.event=C,onChange:e[4]||(e[4]=(...C)=>s.updateDatabase&&s.updateDatabase(...C))},null,40,s0),[[Ve,c.event]]),i("button",{onClick:C=>s.deleteTime(p),class:"deleteIconButton"},[(f(),y("svg",a0,[...e[11]||(e[11]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])]))],8,r0)]),i("div",l0,[ue(i("input",{class:"title",placeholder:this.$root.setlang.timeline.title,tabindex:"1","onUpdate:modelValue":C=>c.title=C,onChange:e[5]||(e[5]=(...C)=>s.updateDatabase&&s.updateDatabase(...C))},null,40,d0),[[Ve,c.title]]),i("p",null,[De(a,{modelValue:c.text,"onUpdate:modelValue":C=>c.text=C,tabindex:"1",onUpdated:s.updateDatabase},null,8,["modelValue","onUpdate:modelValue","onUpdated"])])]),i("button",{onClick:C=>s.addTimeAtIndex(p+1),class:"addIconButton"},[(f(),y("svg",c0,[...e[12]||(e[12]=[i("path",{d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"},null,-1)])]))],8,u0)]))),128))]),_:1},16,["list","component-data","onChange"]),e[14]||(e[14]=i("div",{style:{clear:"both"}},null,-1)),i("div",p0,[i("button",{onClick:e[8]||(e[8]=(...c)=>s.addTime&&s.addTime(...c)),class:"add-btn"},[(f(),y("svg",h0,[...e[13]||(e[13]=[i("path",{d:"M13.72 21.84C13.16 21.94 12.59 22 12 22C6.5 22 2 17.5 2 12S6.5 2 12 2 22 6.5 22 12C22 12.59 21.94 13.16 21.84 13.72C21 13.26 20.03 13 19 13C17.74 13 16.57 13.39 15.6 14.06L12.5 12.2V7H11V13L14.43 15.11C13.54 16.16 13 17.5 13 19C13 20.03 13.26 21 13.72 21.84M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"},null,-1)])]))])])]),i("button",{onClick:e[9]||(e[9]=(...c)=>s.exportToManuscript&&s.exportToManuscript(...c)),class:"export-btn"},[(f(),y("svg",f0,[...e[15]||(e[15]=[i("path",{d:"M9 12H18.8L16.3 9.5L17.7 8.1L22.6 13L17.7 17.9L16.3 16.5L18.8 14H9V12M21 17.4V20H3V6H21V8.6L23 10.6V4C23 2.9 22.1 2 21 2H3C1.9 2 1 2.9 1 4V20C1 21.1 1.9 22 3 22H21C22.1 22 23 21.1 23 20V15.4L21 17.4Z"},null,-1)])]))])])}const m0=He(J2,[["render",g0],["__scopeId","data-v-bcdf820f"]]),v0={name:"PlanningBoardHome",components:{TimeLineTool:m0},data(){return{title:null,description:null,showaddform:!1,Timelines:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Timeline.toArray()))}},methods:{deleteItem(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.$root.DeleteRecord("Timeline",t.uuid),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})},chooseItem(t){this.$root.session.timeline.selected=this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Timeline.get(t.uuid)))},addItem(){if(!this.title)return alert(this.$root.setlang.tools.warn),!1;let t={};t.title=this.title,t.description=this.description,t.content=[],t.uuid=this.$root.uuid(),this.$root.AddRecord("Timeline",t),this.title="",this.description="",this.showaddform=!1}},created(){this.$root.session.timeline||(this.$root.session.timeline={})}},y0={key:0,id:"ToolHome"},w0={class:"wavemaker_info_box"},b0={style:{width:"100%"}},C0={style:{width:"50px"}},L0={key:0},$0=["placeholder"],k0=["placeholder"],x0={style:{"text-align":"right"}},H0={key:1,style:{width:"100%"}},A0={class:"title"},V0={class:"author"},M0={style:{width:"50px"}},S0=["onClick"],T0={style:{width:"50px"}},E0=["onClick"],B0={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function I0(t,e,n,o,r,s){const a=te("TimeLineTool");return f(),y(re,null,[t.$root.session.timeline.selected?V("",!0):(f(),y("div",y0,[i("div",w0,[i("table",b0,[i("tbody",null,[i("tr",null,[i("td",null,[i("h1",null,k(this.$root.setlang.tools.timeline),1)]),i("td",C0,[i("button",{onClick:e[0]||(e[0]=u=>r.showaddform=!r.showaddform),class:"interfaceBtn"},[...e[4]||(e[4]=[i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M12,20A7,7 0 0,1 5,13A7,7 0 0,1 12,6A7,7 0 0,1 19,13A7,7 0 0,1 12,20M12,4A9,9 0 0,0 3,13A9,9 0 0,0 12,22A9,9 0 0,0 21,13A9,9 0 0,0 12,4M12.5,8H11V14L15.75,16.85L16.5,15.62L12.5,13.25V8M7.88,3.39L6.6,1.86L2,5.71L3.29,7.24L7.88,3.39M22,5.72L17.4,1.86L16.11,3.39L20.71,7.25L22,5.72Z"})],-1)])])])])])]),r.showaddform?(f(),y("div",L0,[e[6]||(e[6]=i("hr",null,null,-1)),ue(i("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=u=>r.title=u),placeholder:this.$root.setlang.tools.name,class:"formInput"},null,8,$0),[[Ve,r.title]]),ue(i("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=u=>r.description=u),placeholder:this.$root.setlang.tools.description,class:"formInput"},null,8,k0),[[Ve,r.description]]),i("div",x0,[i("button",{onClick:e[3]||(e[3]=(...u)=>s.addItem&&s.addItem(...u)),class:"interfaceBtn"},[...e[5]||(e[5]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})],-1)])])])])):V("",!0),e[10]||(e[10]=i("hr",null,null,-1)),r.showaddform?V("",!0):(f(),y("table",H0,[i("tbody",null,[(f(!0),y(re,null,Pe(r.Timelines,(u,c)=>(f(),y("tr",{key:c},[i("td",null,[i("div",A0,k(u.title),1),i("div",V0,k(u.description),1),i("i",null,[e[7]||(e[7]=i("br",null,null,-1)),ye(" "+k(t.$root.niceDate(u.lastupdated)),1)])]),i("td",M0,[i("button",{onClick:p=>s.chooseItem(u),class:"interfaceBtn"},[...e[8]||(e[8]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"})],-1)])],8,S0)]),i("td",T0,[i("button",{onClick:p=>s.deleteItem(u),class:"interfaceBtn deleteBtn"},[(f(),y("svg",B0,[...e[9]||(e[9]=[i("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"},null,-1)])]))],8,E0)])]))),128))])]))])])),t.$root.session.timeline.selected?(f(),Be(a,{key:1})):V("",!0)],64)}const D0=He(v0,[["render",I0],["__scopeId","data-v-7d5e1fda"]]),_0={name:"ToolBox",methods:{addNode(t){let e={text:"",x:50,y:50,w:"auto",h:32};t&&(e.type=t),this.$root.session.mindmap.selected.content.nodes[this.$root.uuid()]=e},updateDatabase(){console.log("list changed"),this.$root.UpdateRecord("Mindmap",this.$root.$data.session.mindmap.selected.uuid,this.$root.$data.session.mindmap.selected)}},mounted(){this.$root.session.mindmap.linkstyle||(this.$root.session.mindmap.linkstyle="solid")}},P0={id:"toolbox"},O0={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},N0={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function R0(t,e,n,o,r,s){return f(),y("div",P0,[ue(i("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>t.$root.session.mindmap.selected.title=a),class:"titleinput",onChange:e[1]||(e[1]=(...a)=>s.updateDatabase&&s.updateDatabase(...a))},null,544),[[Ve,t.$root.session.mindmap.selected.title]]),ue(i("select",{"onUpdate:modelValue":e[2]||(e[2]=a=>t.$root.session.mindmap.linkstyle=a),class:"toolselect"},[...e[5]||(e[5]=[i("option",{value:"solid"},"_____",-1),i("option",{value:"dashed"},"- - - -",-1),i("option",{value:"dotted"},"..........",-1)])],512),[[Tt,t.$root.session.mindmap.linkstyle]]),i("button",{onClick:e[3]||(e[3]=(...a)=>s.addNode&&s.addNode(...a)),class:"toolbutton",style:{}},[(f(),y("svg",O0,[...e[6]||(e[6]=[i("path",{d:"M5 19V5H12V12H19V13C19.7 13 20.37 13.13 21 13.35V9L15 3H5C3.89 3 3 3.89 3 5V19C3 20.1 3.89 21 5 21H13.35C13.13 20.37 13 19.7 13 19H5M14 4.5L19.5 10H14V4.5M23 18V20H20V23H18V20H15V18H18V15H20V18H23Z"},null,-1)])]))]),i("button",{onClick:e[4]||(e[4]=a=>s.addNode("image")),class:"toolbutton"},[(f(),y("svg",N0,[...e[7]||(e[7]=[i("path",{d:"M18 15V18H15V20H18V23H20V20H23V18H20V15H18M13.3 21H5C3.9 21 3 20.1 3 19V5C3 3.9 3.9 3 5 3H19C20.1 3 21 3.9 21 5V13.3C20.4 13.1 19.7 13 19 13C17.9 13 16.8 13.3 15.9 13.9L14.5 12L11 16.5L8.5 13.5L5 18H13.1C13 18.3 13 18.7 13 19C13 19.7 13.1 20.4 13.3 21Z"},null,-1)])]))])])}const F0=He(_0,[["render",R0],["__scopeId","data-v-d9dfd485"]]),j0={name:"NodeBox",components:{MiniImage:Ti},props:{uuid:String},data(){return{editme:!1,w:200,h:200,x:50,y:50}},methods:{resizeTextarea(){let t=this.$refs.textarea;t.style.height="18px",t.style.height=t.scrollHeight+"px"},textchange(){},onResize:function(t,e,n,o){this.$root.session.mindmap.selected.content.nodes[this.uuid].x=t,this.$root.session.mindmap.selected.content.nodes[this.uuid].y=e,this.$root.session.mindmap.selected.content.nodes[this.uuid].width=n,this.$root.session.mindmap.selected.content.nodes[this.uuid].height=o},onDrag:function(t,e){this.$root.session.mindmap.selected.content.nodes[this.uuid].x=t,this.$root.session.mindmap.selected.content.nodes[this.uuid].y=e},onActivated(t){this.$root.session.mindmap.currentnode=t},onDeactivated(){this.$root.session.mindmap.currentnode=null,this.savechange()},linker(t){if(!this.$root.session.mindmap.nodelink)this.$root.session.mindmap.nodelink=t;else{if(this.$root.session.mindmap.nodelink!=t){console.log("link ",this.$root.session.mindmap.nodelink," to ",t);let e={};e.type=this.$root.session.mindmap.linkstyle,e.from=this.$root.session.mindmap.nodelink,e.to=t,this.$root.session.mindmap.selected.content.links.push(e)}this.$root.session.mindmap.nodelink=null}this.savechange()},deleteNode(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.$root.session.mindmap.selected.content.links=this.$root.session.mindmap.selected.content.links.filter(n=>{if(n.from!==t&&n.to!==t)return!0}),delete this.$root.session.mindmap.selected.content.nodes[t],this.savechange(),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})},savechange(){console.log("list changed"),this.$root.UpdateRecord("Mindmap",this.$root.$data.session.mindmap.selected.uuid,this.$root.$data.session.mindmap.selected)},imageCallback(){console.log("Callback fired")},addImage(){this.$root.imagemanager={table:"Gridplanner",targetuuid:this.$root.$data.session.mindmap.selected.uuid,target:this.$root.session.mindmap.selected.content.nodes[this.uuid],updateObj:this.$root.session.mindmap.selected}},moveNode(t){let e=this.$root.session.mindmap.selected.content.nodes[this.uuid];if(e){switch(t){case"up":e.y>0&&(e.y=e.y-5);break;case"down":e.y=e.y+5;break;case"left":e.x>0&&(e.x=e.x-5);break;case"right":e.x=e.x+5;break}e.y<30&&(e.y=30),e.x<30&&(e.x=30)}}},mounted(){this.$root.session.mindmap.selected.content.nodes[this.uuid]||this.resizeTextarea(),this.moveNode("down"),this.moveNode("up")}};function U0(t,e,n,o,r,s){const a=te("MiniImage"),u=te("vue-draggable-resizable");return f(),Be(u,{parent:!1,class:je(["card",t.$root.session.mindmap.currentnode===n.uuid?"activeClass":"inactiveClass"]),key:n.uuid,onDragging:s.onDrag,onResizing:s.onResize,w:this.$root.session.mindmap.selected.content.nodes[this.uuid].w,h:this.$root.session.mindmap.selected.content.nodes[this.uuid].h,x:this.$root.session.mindmap.selected.content.nodes[this.uuid].x,y:this.$root.session.mindmap.selected.content.nodes[this.uuid].y,resizable:!1,onFocus:e[11]||(e[11]=c=>s.onActivated(n.uuid)),onActivated:e[12]||(e[12]=c=>s.onActivated(n.uuid)),onDeactivated:s.onDeactivated,"enable-native-drag":!1,"drag-handle":".drag-handle",tabindex:"0","max-height":32,"min-height":32},{default:wt(()=>[i("div",{class:"drag-handle",tabindex:"0",onKeydown:[e[0]||(e[0]=oo(dn(c=>s.moveNode("up"),["exact","prevent","stop"]),["up"])),e[1]||(e[1]=oo(dn(c=>s.moveNode("down"),["exact","prevent","stop"]),["down"])),e[2]||(e[2]=oo(dn(c=>s.moveNode("left"),["exact","prevent","stop"]),["left"])),e[3]||(e[3]=oo(dn(c=>s.moveNode("right"),["exact","prevent","stop"]),["right"]))]},[...e[13]||(e[13]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{fill:"currentColor",d:"M13,11H18L16.5,9.5L17.92,8.08L21.84,12L17.92,15.92L16.5,14.5L18,13H13V18L14.5,16.5L15.92,17.92L12,21.84L8.08,17.92L9.5,16.5L11,18V13H6L7.5,14.5L6.08,15.92L2.16,12L6.08,8.08L7.5,9.5L6,11H11V6L9.5,7.5L8.08,6.08L12,2.16L15.92,6.08L14.5,7.5L13,6V11Z"})],-1)])],32),this.$root.session.mindmap.selected.content.nodes[this.uuid].type==="image"?(f(),y(re,{key:0},[this.$root.session.mindmap.selected.content.nodes[this.uuid].text?(f(),y(re,{key:0},[(f(),Be(a,{uuid:this.$root.session.mindmap.selected.content.nodes[this.uuid].text,style:{"min-width":"100px",width:"100%"},key:this.$root.session.mindmap.selected.content.nodes[this.uuid].text},null,8,["uuid"])),t.$root.session.mindmap.currentnode===n.uuid?(f(),y("button",{key:0,onClick:e[4]||(e[4]=(...c)=>s.addImage&&s.addImage(...c)),class:"NewImageBtn"},[...e[14]||(e[14]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M22.7 14.3L21.7 15.3L19.7 13.3L20.7 12.3C20.8 12.2 20.9 12.1 21.1 12.1C21.2 12.1 21.4 12.2 21.5 12.3L22.8 13.6C22.9 13.8 22.9 14.1 22.7 14.3M13 19.9V22H15.1L21.2 15.9L19.2 13.9L13 19.9M11.21 15.83L9.25 13.47L6.5 17H13.12L15.66 14.55L13.96 12.29L11.21 15.83M11 19.9V19.05L11.05 19H5V5H19V11.31L21 9.38V5C21 3.9 20.11 3 19 3H5C3.9 3 3 3.9 3 5V19C3 20.11 3.9 21 5 21H11V19.9Z"})],-1)])])):V("",!0)],64)):(f(),y("button",{key:1,class:"imageButton",onClick:e[5]||(e[5]=(...c)=>s.addImage&&s.addImage(...c))},[...e[15]||(e[15]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M22.7 14.3L21.7 15.3L19.7 13.3L20.7 12.3C20.8 12.2 20.9 12.1 21.1 12.1C21.2 12.1 21.4 12.2 21.5 12.3L22.8 13.6C22.9 13.8 22.9 14.1 22.7 14.3M13 19.9V22H15.1L21.2 15.9L19.2 13.9L13 19.9M11.21 15.83L9.25 13.47L6.5 17H13.12L15.66 14.55L13.96 12.29L11.21 15.83M11 19.9V19.05L11.05 19H5V5H19V11.31L21 9.38V5C21 3.9 20.11 3 19 3H5C3.9 3 3 3.9 3 5V19C3 20.11 3.9 21 5 21H11V19.9Z"})],-1)])]))],64)):ue((f(),y("textarea",{key:1,ref:"textarea","onUpdate:modelValue":e[6]||(e[6]=c=>this.$root.session.mindmap.selected.content.nodes[this.uuid].text=c),onClick:e[7]||(e[7]=c=>s.onActivated(n.uuid)),style:{width:"300px"},cols:"30",rows:"1",onKeyup:e[8]||(e[8]=(...c)=>s.resizeTextarea&&s.resizeTextarea(...c))},null,544)),[[Ve,this.$root.session.mindmap.selected.content.nodes[this.uuid].text]]),t.$root.session.mindmap.currentnode===n.uuid?(f(),y("button",{key:2,id:"deleteButton",onClick:e[9]||(e[9]=c=>s.deleteNode(n.uuid)),tabindex:"0"},[...e[16]||(e[16]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"})],-1)])])):V("",!0),t.$root.session.mindmap.currentnode===n.uuid?(f(),y("button",{key:3,tabindex:"0",id:"linkButton",onClick:e[10]||(e[10]=c=>s.linker(n.uuid))},[...e[17]||(e[17]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M10.6 13.4A1 1 0 0 1 9.2 14.8A4.8 4.8 0 0 1 9.2 7.8L12.7 4.2A5.1 5.1 0 0 1 19.8 4.2A5.1 5.1 0 0 1 19.8 11.3L18.3 12.8A6.4 6.4 0 0 0 17.9 10.4L18.4 9.9A3.2 3.2 0 0 0 18.4 5.6A3.2 3.2 0 0 0 14.1 5.6L10.6 9.2A2.9 2.9 0 0 0 10.6 13.4M23 18V20H20V23H18V20H15V18H18V15H20V18M16.2 13.7A4.8 4.8 0 0 0 14.8 9.2A1 1 0 0 0 13.4 10.6A2.9 2.9 0 0 1 13.4 14.8L9.9 18.4A3.2 3.2 0 0 1 5.6 18.4A3.2 3.2 0 0 1 5.6 14.1L6.1 13.7A7.3 7.3 0 0 1 5.7 11.2L4.2 12.7A5.1 5.1 0 0 0 4.2 19.8A5.1 5.1 0 0 0 11.3 19.8L13.1 18A6 6 0 0 1 16.2 13.7Z"})],-1)])])):V("",!0)]),_:1},8,["onDragging","onResizing","w","h","x","y","onDeactivated","class"])}const z0=He(j0,[["render",U0],["__scopeId","data-v-41f1be8a"]]),W0={name:"LinkNodes",props:{mylink:Object,myindex:Number},methods:{deletelink(){console.log("delete",this.myindex),this.$root.session.mindmap.selected.content.links.splice(this.myindex,1),this.savechange()},savechange(){console.log("list changed"),this.$root.UpdateRecord("Mindmap",this.$root.$data.session.mindmap.selected.uuid,this.$root.$data.session.mindmap.selected)}}},G0=["x1","y1","x2","y2"];function q0(t,e,n,o,r,s){return f(),y("line",{class:je(["link",n.mylink.type]),x1:this.$root.session.mindmap.selected.content.nodes[n.mylink.from].x+100,y1:this.$root.session.mindmap.selected.content.nodes[n.mylink.from].y+15,x2:this.$root.session.mindmap.selected.content.nodes[n.mylink.to].x+100,y2:this.$root.session.mindmap.selected.content.nodes[n.mylink.to].y+15,onClick:e[0]||(e[0]=(...a)=>s.deletelink&&s.deletelink(...a))},[...e[1]||(e[1]=[i("marker",{id:"black-arrow",viewBox:"0 0 10 10",refX:"10",refY:"15",orient:"auto"},[i("path",{d:"M 0 0 L 10 5 L 0 10 z"})],-1)])],10,G0)}const Z0=He(W0,[["render",q0],["__scopeId","data-v-04172032"]]),K0={name:"WorkSpace",components:{NodeBox:z0,LinkNodes:Z0},mounted(){if(!this.$root.session.mindmap.selected.content){let t={nodes:{},links:[]};this.$root.session.mindmap.selected.content=t}console.log(this.$root.session.mindmap.selected)}},Y0={key:0,id:"workspace"},J0={id:"svg"};function Q0(t,e,n,o,r,s){const a=te("LinkNodes"),u=te("NodeBox");return t.$root.session.mindmap.selected.content?(f(),y("div",Y0,[(f(),y("svg",J0,[(f(!0),y(re,null,Pe(t.$root.session.mindmap.selected.content.links,(c,p)=>(f(),Be(a,{key:p,mylink:c,myindex:p},null,8,["mylink","myindex"]))),128))])),(f(!0),y(re,null,Pe(Object.keys(t.$root.session.mindmap.selected.content.nodes),c=>(f(),Be(u,{key:c,uuid:c},null,8,["uuid"]))),128))])):V("",!0)}const X0=He(K0,[["render",Q0],["__scopeId","data-v-9356689e"]]),ev={name:"MindMapHome",components:{WorkSpace:X0,ToolBox:F0},data(){return{title:null,description:null,showaddform:!1,MindMaps:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Mindmap.toArray()))}},methods:{deleteItem(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.$root.DeleteRecord("Mindmap",t.uuid),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})},chooseItem(t){this.$root.session.mindmap.selected=this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Mindmap.get(t.uuid)))},addItem(){if(!this.title)return alert(this.$root.setlang.tools.warn),!1;let t={};t.title=this.title,t.description=this.description,t.uuid=this.$root.uuid(),this.$root.AddRecord("Mindmap",t),this.title="",this.description="",this.showaddform=!1}},created(){this.$root.session.mindmap||(this.$root.session.mindmap={},this.$root.session.mindmap.linkstyle="solid",this.$root.session.mindmap.currentnode=null)}},tv={key:0,id:"ToolHome"},nv={class:"wavemaker_info_box"},ov={style:{width:"100%"}},iv={style:{width:"50px"}},sv={key:0},rv=["placeholder"],av={style:{"text-align":"right"}},lv={key:1,style:{width:"100%"}},dv={class:"title"},uv={style:{width:"50px"}},cv=["onClick"],pv={style:{width:"50px"}},hv=["onClick"],fv={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},gv={key:1};function mv(t,e,n,o,r,s){const a=te("WorkSpace"),u=te("ToolBox");return f(),y(re,null,[t.$root.session.mindmap.selected?V("",!0):(f(),y("div",tv,[i("div",nv,[i("table",ov,[i("tbody",null,[i("tr",null,[i("td",null,[i("h1",null,k(this.$root.setlang.tools.mindmap),1)]),i("td",iv,[i("button",{onClick:e[0]||(e[0]=c=>r.showaddform=!r.showaddform),class:"interfaceBtn"},[...e[3]||(e[3]=[i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M21 16V13C21 11.89 20.11 11 19 11H13V8H15V2H9V8H11V11H5C3.89 11 3 11.89 3 13V16H1V22H7V16H5V13H11V16H9V22H15V16H13V13H19V16H17V22H23V16H21M11 4H13V6H11V4M5 20H3V18H5V20M13 20H11V18H13V20M21 20H19V18H21V20Z"})],-1)])])])])])]),r.showaddform?(f(),y("div",sv,[e[5]||(e[5]=i("hr",null,null,-1)),ue(i("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=c=>r.title=c),placeholder:this.$root.setlang.tools.name,class:"formInput"},null,8,rv),[[Ve,r.title]]),i("div",av,[i("button",{onClick:e[2]||(e[2]=(...c)=>s.addItem&&s.addItem(...c)),class:"interfaceBtn"},[...e[4]||(e[4]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})],-1)])])])])):V("",!0),e[9]||(e[9]=i("hr",null,null,-1)),r.showaddform?V("",!0):(f(),y("table",lv,[i("tbody",null,[(f(!0),y(re,null,Pe(r.MindMaps,(c,p)=>(f(),y("tr",{key:p},[i("td",null,[i("div",dv,k(c.title),1),i("i",null,[e[6]||(e[6]=i("br",null,null,-1)),ye(" "+k(t.$root.niceDate(c.lastupdated)),1)])]),i("td",uv,[i("button",{onClick:C=>s.chooseItem(c),class:"interfaceBtn"},[...e[7]||(e[7]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"})],-1)])],8,cv)]),i("td",pv,[i("button",{onClick:C=>s.deleteItem(c),class:"interfaceBtn deleteBtn"},[(f(),y("svg",fv,[...e[8]||(e[8]=[i("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"},null,-1)])]))],8,hv)])]))),128))])]))])])),t.$root.session.mindmap.selected?(f(),y("div",gv,[De(a),De(u)])):V("",!0)],64)}const vv=He(ev,[["render",mv],["__scopeId","data-v-d23b732b"]]),yv={name:"GridPlannerCell",emits:["MakeChange"],components:{VueDraggableNext:Tn,CardViewer:Eo},props:{parentList:{type:Array,required:!0}},computed:{dragOptions(){return{animation:200,group:"Cards",disabled:!1,ghostClass:"ghost"}}},data(){return{drag:!1,colWidth:320}},methods:{linkCard(t,e){var n=this.parentList.find(o=>o.uuid===e);n.uuid=t,this.updateDatabase()},deleteNote(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.parentList.splice(t,1),this.updateDatabase(),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})},addCard(){let t={};t.uuid=this.$root.uuid(),this.parentList.push(t),this.updateDatabase()},updateDatabase(){this.$emit("MakeChange")}}},wv={class:"clearInterfaceIconButton cardHandle"},bv={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},Cv=["onClick"],Lv={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},$v={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function kv(t,e,n,o,r,s){const a=te("CardViewer"),u=te("VueDraggableNext");return f(),y(re,null,[De(u,cn({list:n.parentList,tag:"transition-group",group:"board",class:"list-group-card","component-data":{tag:"div",type:"transition-group",name:r.drag?null:"flip-list"},handle:".cardHandle"},s.dragOptions,{onStart:e[0]||(e[0]=c=>r.drag=!0),onEnd:e[1]||(e[1]=c=>r.drag=!1),emptyInsertThreshold:90,onChange:s.updateDatabase}),{default:wt(()=>[(f(!0),y(re,null,Pe(n.parentList,(c,p)=>(f(),y("div",{key:p,class:"list-group-card-item",tabindex:"0"},[(f(),Be(a,{cardid:c.uuid,allowlink:!0,onLinkcard:s.linkCard,key:t.$root.uuid()},null,8,["cardid","onLinkcard"])),i("div",wv,[(f(),y("svg",bv,[...e[3]||(e[3]=[i("path",{d:"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"},null,-1)])]))]),i("button",{class:"deleteIconButton",onClick:C=>s.deleteNote(p),tabindex:"0"},[(f(),y("svg",Lv,[...e[4]||(e[4]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])]))],8,Cv)]))),128))]),_:1},16,["list","component-data","onChange"]),i("button",{class:je(["add-card",{bigbtn:!n.parentList.length}]),onClick:e[2]||(e[2]=c=>s.addCard(n.parentList))},[(f(),y("svg",$v,[...e[5]||(e[5]=[i("path",{d:"M13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.9 4 4 4H20C21.11 4 22 4.89 22 6V13.81C21.12 13.3 20.09 13 19 13C15.69 13 13 15.69 13 19C13 19.34 13.04 19.67 13.09 20M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"},null,-1)])]))],2)],64)}const xv=He(yv,[["render",kv],["__scopeId","data-v-09639ca3"]]),Hv={name:"GridPlanner",components:{VueDraggableNext:Tn,GridPlannerCell:xv},computed:{HeaderDragOptions(){return{animation:200,group:"headers",disabled:!1,ghostClass:"ghost"}},dragOptions(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}},tableWidth(){return(this.$root.session.gridplanner.selected.content.headers.length+1)*this.colwidth}},data(){return{colwidth:300,drag:!1}},methods:{updateDatabase(){console.log("Grid updateDatabase"),this.$root.UpdateRecord("Gridplanner",this.$root.session.gridplanner.selected.uuid,this.$root.session.gridplanner.selected)},addCol(){let t={};t.uuid=this.$root.uuid(),t.title="",this.$root.session.gridplanner.selected.content.headers.push(t),this.$root.session.gridplanner.selected.content.rows.forEach(e=>{e.cells[t.uuid]=[]}),this.updateDatabase()},addRow(){let t={};t.title="",t.cells={},this.$root.session.gridplanner.selected.content.headers.forEach(e=>{t.cells[e.uuid]=[]}),this.$root.session.gridplanner.selected.content.rows.push(t),this.updateDatabase()},deleteCol(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{if(e.isConfirmed){let n=this.$root.session.gridplanner.selected.content.headers[t].uuid;this.$root.session.gridplanner.selected.content.rows.forEach(o=>{delete o.cells[n]}),this.$root.session.gridplanner.selected.content.headers.splice(t,1),this.updateDatabase(),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success")}})},deleteRow(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.$root.session.gridplanner.selected.content.rows.splice(t,1),this.updateDatabase(),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})}}},Av={class:"scroller"},Vv={id:"toolbox"},Mv={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Sv={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Tv={class:"handle"},Ev={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Bv=["onClick"],Iv={viewBox:"0 0 24 24",style:{width:"18px",height:"18px"}},Dv=["onUpdate:modelValue","placeholder"],_v={class:"headerBlock v-handle"},Pv={class:"handle"},Ov={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Nv=["onClick"],Rv={viewBox:"0 0 24 24",style:{width:"18px",height:"18px"}},Fv=["onUpdate:modelValue","placeholder"];function jv(t,e,n,o,r,s){const a=te("VueDraggableNext"),u=te("GridPlannerCell");return f(),y("div",Av,[i("div",Vv,[ue(i("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>t.$root.session.gridplanner.selected.title=c),class:"titleinput",onChange:e[1]||(e[1]=(...c)=>s.updateDatabase&&s.updateDatabase(...c))},null,544),[[Ve,t.$root.session.gridplanner.selected.title]]),i("button",{onClick:e[2]||(e[2]=(...c)=>s.addRow&&s.addRow(...c)),class:"toolbutton"},[(f(),y("svg",Mv,[...e[15]||(e[15]=[i("path",{d:"M22,10A2,2 0 0,1 20,12H4A2,2 0 0,1 2,10V3H4V5H8V3H10V5H14V3H16V5H20V3H22V10M4,10H8V7H4V10M10,10H14V7H10V10M20,10V7H16V10H20M11,14H13V17H16V19H13V22H11V19H8V17H11V14Z"},null,-1)])]))]),i("button",{onClick:e[3]||(e[3]=(...c)=>s.addCol&&s.addCol(...c)),class:"toolbutton"},[(f(),y("svg",Sv,[...e[16]||(e[16]=[i("path",{d:"M11,2A2,2 0 0,1 13,4V20A2,2 0 0,1 11,22H2V2H11M4,10V14H11V10H4M4,16V20H11V16H4M4,4V8H11V4H4M15,11H18V8H20V11H23V13H20V16H18V13H15V11Z"},null,-1)])]))])]),this.$root.session.gridplanner.selected.content.headers?(f(),y("table",{key:0,style:It("width :"+s.tableWidth+"px;")},[i("thead",null,[De(a,cn({modelValue:this.$root.session.gridplanner.selected.content.headers,"onUpdate:modelValue":e[5]||(e[5]=c=>this.$root.session.gridplanner.selected.content.headers=c),tag:"tr","component-data":{type:"transition-group",name:r.drag?null:"flip-list"},onStart:e[6]||(e[6]=c=>r.drag=!0),onEnd:e[7]||(e[7]=c=>r.drag=!1)},s.HeaderDragOptions,{handle:".handle",onChange:e[8]||(e[8]=c=>s.updateDatabase())}),{default:wt(()=>[bo(t.$slots,"default",{},()=>[e[17]||(e[17]=ye("",-1))],!0),(f(!0),y(re,null,Pe(this.$root.session.gridplanner.selected.content.headers,(c,p)=>(f(),y("th",{key:p,class:"headerBlock",scope:"col",style:It("width :"+r.colwidth+"px;")},[i("div",Tv,[(f(),y("svg",Ev,[...e[18]||(e[18]=[i("path",{d:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"},null,-1)])]))]),i("button",{class:"deleteIconButton",tabindex:"0",onClick:C=>s.deleteCol(p)},[(f(),y("svg",Iv,[...e[19]||(e[19]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])]))],8,Bv),ue(i("input",{class:"headerInput",onChange:e[4]||(e[4]=C=>s.updateDatabase()),"onUpdate:modelValue":C=>c.title=C,placeholder:this.$root.setlang.gridplanner.newcol},null,40,Dv),[[Ve,c.title]])],4))),128))]),_:3},16,["modelValue","component-data"])]),De(a,cn({modelValue:this.$root.session.gridplanner.selected.content.rows,"onUpdate:modelValue":e[11]||(e[11]=c=>this.$root.session.gridplanner.selected.content.rows=c),tag:"tbody","component-data":{type:"transition-group",name:r.drag?null:"flip-list"},onStart:e[12]||(e[12]=c=>r.drag=!0),onEnd:e[13]||(e[13]=c=>r.drag=!1)},s.dragOptions,{handle:".handle",onChange:e[14]||(e[14]=c=>s.updateDatabase())}),{default:wt(()=>[(f(!0),y(re,null,Pe(this.$root.session.gridplanner.selected.content.rows,(c,p)=>(f(),y("tr",{key:p},[i("th",_v,[i("div",Pv,[(f(),y("svg",Ov,[...e[20]||(e[20]=[i("path",{d:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"},null,-1)])]))]),i("button",{class:"deleteIconButton",tabindex:"0",onClick:C=>s.deleteRow(p)},[(f(),y("svg",Rv,[...e[21]||(e[21]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])]))],8,Nv),ue(i("input",{class:"rowInput",onChange:e[9]||(e[9]=C=>s.updateDatabase()),"onUpdate:modelValue":C=>c.title=C,placeholder:this.$root.setlang.gridplanner.newrow},null,40,Fv),[[Ve,c.title]])]),(f(!0),y(re,null,Pe(this.$root.session.gridplanner.selected.content.headers,C=>(f(),y("td",{key:C},[De(u,{parentList:c.cells[C.uuid],onMakeChange:e[10]||(e[10]=v=>s.updateDatabase())},null,8,["parentList"])]))),128))]))),128))]),_:1},16,["modelValue","component-data"])],4)):V("",!0)])}const Uv=He(Hv,[["render",jv],["__scopeId","data-v-1eefbca2"]]),zv={name:"GridPlannerHome",components:{Gridplanner:Uv},data(){return{title:null,description:null,showaddform:!1,Gridplanners:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Gridplanner.toArray()))}},methods:{deleteItem(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.$root.DeleteRecord("Gridplanner",t.uuid),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})},chooseItem(t){this.$root.session.gridplanner.selected=this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Gridplanner.get(t.uuid)))},addItem(){if(!this.title)return alert(this.$root.setlang.tools.warn),!1;let t={};t.title=this.title,t.description=this.description,t.content={headers:[],rows:[]},t.uuid=this.$root.uuid(),this.$root.AddRecord("Gridplanner",t),this.title="",this.description="",this.showaddform=!1}},created(){this.$root.session.gridplanner||(this.$root.session.gridplanner={})}},Wv={key:0,id:"ToolHome"},Gv={class:"wavemaker_info_box"},qv={style:{width:"100%"}},Zv={style:{width:"50px"}},Kv={key:0},Yv=["placeholder"],Jv={style:{"text-align":"right"}},Qv={key:1,style:{width:"100%"}},Xv={class:"title"},ey={style:{width:"50px"}},ty=["onClick"],ny={style:{width:"50px"}},oy=["onClick"],iy={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},sy={key:1};function ry(t,e,n,o,r,s){const a=te("Gridplanner");return f(),y(re,null,[t.$root.session.gridplanner.selected?V("",!0):(f(),y("div",Wv,[i("div",Gv,[i("table",qv,[i("tbody",null,[i("tr",null,[i("td",null,[i("h1",null,k(this.$root.setlang.tools.gridplanner),1)]),i("td",Zv,[i("button",{onClick:e[0]||(e[0]=u=>r.showaddform=!r.showaddform),class:"interfaceBtn"},[...e[3]||(e[3]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M18,14H20V17H23V19H20V22H18V19H15V17H18V14M4,3H18A2,2 0 0,1 20,5V12.08C18.45,11.82 16.92,12.18 15.68,13H12V17H13.08C12.97,17.68 12.97,18.35 13.08,19H4A2,2 0 0,1 2,17V5A2,2 0 0,1 4,3M4,7V11H10V7H4M12,7V11H18V7H12M4,13V17H10V13H4Z"})],-1)])])])])])]),r.showaddform?(f(),y("div",Kv,[e[5]||(e[5]=i("hr",null,null,-1)),ue(i("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=u=>r.title=u),placeholder:this.$root.setlang.tools.name,class:"formInput"},null,8,Yv),[[Ve,r.title]]),i("div",Jv,[i("button",{onClick:e[2]||(e[2]=(...u)=>s.addItem&&s.addItem(...u)),class:"interfaceBtn"},[...e[4]||(e[4]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})],-1)])])])])):V("",!0),e[9]||(e[9]=i("hr",null,null,-1)),r.showaddform?V("",!0):(f(),y("table",Qv,[i("tbody",null,[(f(!0),y(re,null,Pe(r.Gridplanners,(u,c)=>(f(),y("tr",{key:c},[i("td",null,[i("div",Xv,k(u.title),1),i("i",null,[e[6]||(e[6]=i("br",null,null,-1)),ye(" "+k(t.$root.niceDate(u.lastupdated)),1)])]),i("td",ey,[i("button",{onClick:p=>s.chooseItem(u),class:"interfaceBtn"},[...e[7]||(e[7]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"})],-1)])],8,ty)]),i("td",ny,[i("button",{onClick:p=>s.deleteItem(u),class:"interfaceBtn deleteBtn"},[(f(),y("svg",iy,[...e[8]||(e[8]=[i("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"},null,-1)])]))],8,oy)])]))),128))])]))])])),t.$root.session.gridplanner.selected?(f(),y("div",sy,[De(a)])):V("",!0)],64)}const ay=He(zv,[["render",ry],["__scopeId","data-v-df299c9b"]]),ly={name:"DistractionFree",components:{EditorContent:ki},data(){return{item:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Files.get(this.$root.session.writer.file.uuid))),editor:null,updateUUID:null,mypos:0,keycount:1}},methods:{changed(){this.$root.UpdateRecord("Files",this.item.uuid,this.item)},repositionEditor(){if(this.editor&&this.item&&this.$root.session.settings.documentprefs.caretfocus&&(this.mypos=this.getCaretPosition(),this.mypos!=0&&this.$refs.scrolltarget)){let t=parseInt(this.mypos)+this.$refs.scrolltarget.scrollTop-window.innerHeight/2;this.$refs.scrolltarget.scrollTo({top:t,behavior:"smooth"})}},getCaretPosition(){var t=0,e,n;return e=window.getSelection(),n=e.getRangeAt(0),t=n.getBoundingClientRect(),t.y}},mounted(){this.updateUUID=this.$root.uuid(),this.$watch("item",(t,e)=>{if(!e)return this.editor.commands.setContent(t.content),!1;t.updateUUID!=this.updateUUID&&this.editor.commands.setContent(t.content)}),this.editor=new xi({extensions:[Bi,rr,ar],content:"",onTransaction:()=>{this.repositionEditor()},onUpdate:()=>{this.$root.session.settings.documentprefs.typesound&&(window["typesound"+this.keycount].play(),this.keycount===9&&(this.keycount=0),this.keycount++),this.item.wordcount=this.$root.wordCounter(this.editor.getHTML()),this.item.content=this.editor.getHTML(),this.item.updateUUID=this.updateUUID,this.changed()}})},beforeUnmount(){this.editor&&this.editor.destroy()}},dy={class:"blackout",ref:"scrolltarget"},uy={class:"distractionfree"},cy={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function py(t,e,n,o,r,s){const a=te("EditorContent");return f(),y("div",dy,[i("div",uy,[r.editor?(f(),Be(a,{key:0,editor:r.editor},null,8,["editor"])):V("",!0)]),i("button",{onClick:e[0]||(e[0]=u=>this.$root.session.selectedTool="writer"),class:"closebutton"},[(f(),y("svg",cy,[...e[1]||(e[1]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])]))])],512)}const hy=He(ly,[["render",py],["__scopeId","data-v-560de645"]]),fy={name:"StartApp",components:{ToolBar:ic,ProjectInfo:uc,WriterMenu:fm,PlanningBoardHome:r2,SnowFlake:Y2,TimeLine:D0,MindMapHome:vv,CardsDatabaseHome:Mm,GridPlannerHome:ay,DistractionFree:hy},methods:{},async mounted(){let t=new URLSearchParams(document.location.search),e=t.get("sc"),n=t.get("sel");t.delete("sc"),t.delete("sel"),e==="planningboard"&&(this.$root.session.writer={},this.$root.session.writer.selected=this.$root.useObservable(this.$root.liveQuery(()=>this.$root.db.Writer.get(n))),this.$root.session.selectedTool=e),localStorage.getItem("wmDev")&&(this.session=JSON.parse(localStorage.getItem("wmDev")))}},gy={class:"toolbox"};function my(t,e,n,o,r,s){const a=te("ProjectInfo"),u=te("WriterMenu"),c=te("CardsDatabaseHome"),p=te("PlanningBoardHome"),C=te("SnowFlake"),v=te("TimeLine"),H=te("MindMapHome"),x=te("GridPlannerHome"),T=te("ToolBar"),I=te("DistractionFree");return f(),y(re,null,[i("div",gy,[t.$root.session.selectedTool?V("",!0):(f(),Be(a,{key:0})),t.$root.session.selectedTool==="writer"?(f(),Be(u,{key:1})):V("",!0),t.$root.session.selectedTool==="cardsdatabase"?(f(),Be(c,{key:2})):V("",!0),t.$root.session.selectedTool==="planningboard"?(f(),Be(p,{key:3})):V("",!0),t.$root.session.selectedTool==="snowflake"?(f(),Be(C,{key:4})):V("",!0),t.$root.session.selectedTool==="timeline"?(f(),Be(v,{key:5})):V("",!0),t.$root.session.selectedTool==="mindmap"?(f(),Be(H,{key:6})):V("",!0),t.$root.session.selectedTool==="gridplanner"?(f(),Be(x,{key:7})):V("",!0)]),De(T),t.$root.session.selectedTool==="distractionfree"?(f(),Be(I,{key:0})):V("",!0)],64)}const vy=He(fy,[["render",my],["__scopeId","data-v-124b48dd"]]),yy={info:{name:"English",textdirection:"ltr"},confirm:{sure:"Are You Sure?",downloadfile:"This will download a file to your device.",fileexport:"Yes, Export it!",filecancel:"Cancel",exportedsuccess:"Exported!",exportedmessage:"Your file has been exported"},toolbar:{projecthome:"Project Home",writer:"My Books",planningboard:"My Planning Boards",mindmap:"My Mindmaps",snowflake:"My Snowflakes",timeline:"My Timeline",gridplanner:"My Grid Planners",cardsdatabase:"My Cards",settings:"Settings",save:"Save File",googledrive:"Google Drive",quick:"Quick Upload",close:"Close Project"},welcome:{getstarted:"New Project",loadfile:"Load a file from your device",loadgoogle:"Load a file from Google Drive",info:"Create a new file, or load an existing one",legacy:"Legacy Tools",v3import:"Import a Wavemaker Version 3 file"},start:{projectlabel:"My Project Name",welcome:"Welcome to Wavemaker Version 4",help:"Help & Guides on how to use Wavemaker"},google:{info:"Login to Google Drive",saveinfo:"Save Current Project",files:"My Files",save:"Save File",search:"Search for Files",logout:"Log Out",close:"Close window"},settings:{title:"Settings",close:"Close this file",themes:"Choose a Theme",lang:"Choose a Language",clear:"This will clear the project",docprefs:"Document Preferences",alignment:"Alignment",alignL:"Align Left",alignR:"Align Right",alignC:"Align Center",alignJ:"Justify",fontsize:"Font Size",fontsize1:"Smallest",fontsize2:"Small",fontsize3:"Standard",fontsize4:"Big",fontsize5:"Biggest",lineheight:"Line Height",lineheight1:"Standard",lineheight2:"Double Spaced",lineheight3:"2.5 Spacing",lineheight4:"Triple Spaced",paragraph:"Paragraph Indentation",paragraphyes:"yes",paragraphno:"No",paragraphspacing:"Paragraph Spacing",paragraphspacing1:"Standard Spacing",paragraphspacing2:"1.5x Spacing",paragraphspacing3:"2x Spacing",paragraphspacing4:"2.5x Spacing",paragraphspacing5:"5x Spacing",pagewidth:"Page Width",pagestyle:"Page Style",fullwidth:"Full Width",pagetext:"Text Colour",pagecolour:"Page Colour",h1align:"H1 Alignment",h2align:"H2 Alignment",h3align:"H3 Alignment",h4align:"H4 Alignment",typewriter:"Typewriter Preferences",typetext:"Text Colour",typepage:"Page Colour",typesound:"Typewriter Sound",caretfocus:"Caret Auto-focus",reset:"Reset Defaults"},tools:{writer:"My Books",planningboard:"My Planning Boards",mindmap:"My Mindmaps",snowflake:"My Snowflakes",timeline:"My Timeline",gridplanner:"My Grid Planners",cardsdatabase:"My Cards",name:"Name",description:"Description (optional)",warn:"Please provide a Name"},writer:{settings:"Your Book Title",newfile:"New Section",newfolder:"New Folder",deletewarn:"Do you want to delete this item? Any cards you have created will remain in the database",intro:"This is the main page for your document. Options are below.",docdownload:"Export a .doc file of this manuscript",words:"Words"},confirmmodal:{confirmdelete:"Are you sure you want to delete this?",noundo:"You will not be able to undo this.",confirmbtn:"Yes, delete it!",cancelbtn:"Cancel",success:"Deleted!",successfeedback:"That has been deleted.",confirmexport:"Export?",exportmsg:"Export this tool?",exportconfirmbtn:"Yes, Export this.",exportsuccess:"Exported",exportsuccessfeedback:"Successfully exported",snowconfirm:"Replace Card",snowconfirmtext:"Replace the original card with these three",snowconfirmbtn:"Yes, replace it!",snowconfirmsuccess:"Replaced",snowconfirmmsg:"The card has been replaced"},editor:{bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",paragraph:"Paragraph",h1:"Heading 1",h2:"Heading 2",pic:"Insert Picture",blist:"Bullet List",nlist:"Numbered List",planningboard:"Switch to Planning board",typewriter:"Typewriter mode",hilight:"Text hilight",wordcount:"Toggle wordcount visibility"},mindmap:{deletenodewarn:"Do you want to delete this node?"},snowflake:{title:"Title",deletewarn:"Are You sure you want to delete this card?",replacewarn:"This will replace your card with the three new ones."},timeline:{date:"Date/Time",title:"Title"},gridplanner:{newrow:"New Row",newcol:"New Column"},db:{search:"Search by keywords",clear:"Clear Tags",deletecolwarn:"Delete this column?",deleterowwarn:"Delete this row?"},cards:{createnewbtn:"Create New",linkexisting:"Link Existing Card",cardtitle:"Card Title",cardnotes:"Card Notes",cardtags:"Card Tags",moredetail:"More Detail",images:"Images (click on an image to select it)",openimagemanager:"Open Image Manager",close:"Close"},wm3import:{close:"Close",info:"<h1>Version 3 Converter</h1><p>Hi, this is a legacy tool to allow you to load your old <strong>wavemaker version 3</strong> files into the new version.</p><p>As the behind the scenes database has changed quite a bit this is a one-way process.</p><p>You will need your DATABASE file (go to the main menu by clicking on the logo in wavemaker 3 then export the database) You should then have a file with the extension '.wmdata'</p><p>You will need to import each project and save it to it's own file as they are all seperate in the new version</p>",upload:"Upload a wavemaker database"}},wy={info:{name:"Cymraeg",textdirection:"ltr"},confirm:{sure:"Ydych chi'n Siwr?",downloadfile:"Bydd hyn yn lawrlwytho ffeil i'ch dyfais.",fileexport:"Ie, Allforio!",filecancel:"Canslo",exportedsuccess:"Wedi'i Allforio!",exportedmessage:"Mae eich ffeil wedi'i hallforio"},toolbar:{projecthome:"Cartref Prosiect",writer:"Fy Llyfrau",planningboard:"Fy Myrddau Cynllunio",mindmap:"Fy Mapiau Meddwl",snowflake:"Fy Plu Eira",timeline:"Fy Llinell Amser",gridplanner:"Fy Nghynllunwyr Grid",cardsdatabase:"Fy Nghardiau",settings:"Gosodiadau",save:"Cadw Ffeil",googledrive:"Google Drive",quick:"Llwytho i fyny'n Gyflym",close:"Cau Prosiect"},welcome:{getstarted:"Prosiect Newydd",loadfile:"Llwytho ffeil o'ch dyfais",loadgoogle:"Llwytho ffeil o Google Drive",info:"Creu ffeil newydd, neu lwythwch un sy'n bodoli eisoes",legacy:"Offer Etifeddiaeth",v3import:"Mewnforio ffeil Fersiwn 3 Wavemaker"},start:{projectlabel:"Enw fy mhrosiect",welcome:"Croeso i Fersiwn Wavemaker 4",help:"Cymorth a Chanllawiau ar sut i ddefnyddio Wavemaker"},google:{info:"Mewngofnodi i Google Drive",saveinfo:"Cadw Prosiect Cyfredol",files:"Fy Ffeiliau",save:"Cadw Ffeil",search:"Chwilio am Ffeiliau",logout:"Allgofnodi",close:"Cau'r ffenestr"},settings:{title:"Gosodiadau",close:"Cau'r ffeil hon",themes:" Dewis Thema",lang:"Dewis Iaith",clear:"Bydd hyn yn clirio'r prosiect",docprefs:"Dewisiadau Dogfen",alignment:"Alinio",alignL:"Alinio i'r Chwith",alignR:"Alinio i'r Dde",alignC:"Alinio Canol",alignJ:"Cyfiawnhau",fontsize:"Maint Ffont ",fontsize1:"Llai",fontsize2:"Bach",fontsize3:"Safon",fontsize4:"Mawr",fontsize5:"Mwyaf",lineheight:"Uchder Llinell",lineheight1:"Safon",lineheight2:"Bylchau Dwbl",lineheight3:"2.5 Bylchu",lineheight4:"T riple Bylchau",paragraph:"Boniad Paragraff",paragraphyes:"Ie",paragraphno:"Na",paragraphspacing:"Bylchau Paragraff",paragraphspacing1:"Bylchau Safonol",paragraphspacing2:"1.5x Bylchu",paragraphspacing3:"Bylchau 2x",paragraphspacing4:"2.5x Bylchau",paragraphspacing5:"5x Bylchau",pagewidth:" Lled y Dudalen",pagestyle:"Arddull y Dudalen",fullwidth:"Lled Llawn",pagetext:"Lliw Testun",pagecolour:"Lliw tudalen",h1align:"Aliniad H1",h2align:"Aliniad H2",h3align:"Aliniad H3",h4align:"H4 Aliniad",typewriter:"Tipysgrifwr Dewisiadau",typetext:"Lliw Testun",typepage:"Lliw Tudalen",typesound:"Sain Teipiadur",caretfocus:"Caret Auto-focus",reset:"Ailosod Rhagosodiadau"},tools:{writer:"Fy Llyfrau",planningboard:"Fy Myrddau Cynllunio",mindmap:"Fy Mapiau Meddwl",snowflake:"Fy Plu Eira",timeline:"Fy Llinell Amser",gridplanner:"Fy Nghynllunwyr Grid",cardsdatabase:"Fy Nghardiau",name:"Enw",description:"Disgrifiad (dewisol)",warn:"Rhowch Enw"},writer:{settings:"Teitl Eich Llyfr",newfile:"Adran Newydd",newfolder:"Ffolder Newydd",deletewarn:"Ydych chi am ddileu'r eitem hon? Bydd unrhyw gardiau rydych wedi eu creu yn aros yn y bas data",intro:"Dyma brif dudalen eich dogfen. Mae'r opsiynau isod.",docdownload:"Allforio ffeil .doc o'r llawysgrif hon",words:"Geiriau"},confirmmodal:{confirmdelete:"Ydych chi'n sir eich bod am ddileu hwn?",noundo:"Ni fyddwch yn gallu dadwneud hyn.",confirmbtn:"Ie, dilwch hi !",cancelbtn:"Canslo",success:"Dileu!",successfeedback:"Mae hwn wedi'i ddileu.",confirmexport:"Allforio?",exportmsg:"Allforio'r teclyn hwn?",exportconfirmbtn:"Ie, Allforio hwn.",exportsuccess:"Allforiwyd",exportsuccessfeedback:"Allforiwyd yn llwyddiannus",snowconfirm:" Amnewid y Cerdyn",snowconfirmtext:"Amnewid y cerdyn gwreiddiol gyda'r tri hyn",snowconfirmbtn:"Ie, amnewid!",snowconfirmsuccess:"Amnewid",snowconfirmmsg:"Mae'r cerdyn wedi'i ddisodli"},editor:{bold:"Bold",italic:"Italig",strikethrough:"Streic trwodd",paragraph:"Paragraff",h1:"Pennawd 1",h2:"Pennawd 2",pic:"Mewnosod Llun",blist:"Rhestr Bwled",nlist:"Rhestr wedi'i Rhifo",planningboard:"Newid i'r Bwrdd Cynllunio",typewriter:"Modd teipiadur",hilight:"Testun uchafbwynt",wordcount:"Toglo gwelededd cyfrif geiriau"},mindmap:{deletenodewarn:"Do ydych chi am ddileu'r nod hwn?"},snowflake:{title:"Teitl",deletewarn:"Ydych chi'n sir eich bod am ddileu'r cerdyn hwn?",replacewarn:"Bydd hwn yn disodli'ch cerdyn gyda'r tri pheth newydd."},timeline:{date:"Dyddiad/Amser",title:"Teitl"},gridplanner:{newrow:"Rhes Newydd",newcol:"Colofn Newydd"},db:{search:"Chwilio yn l allweddeiriau",clear:"Clirio Tagiau",deletecolwarn:"Dileu'r golofn hon?",deleterowwarn:"Dileu'r rhes hon?"},cards:{createnewbtn:"Creu Newydd",linkexisting:"Dolen Cerdyn Presennol ",cardtitle:"Teitl Cerdyn",cardnotes:"Nodiadau Cerdyn",cardtags:"Tagiau Cerdyn",moredetail:"Mwy o Fanylion",images:"Delweddau (cliciwch ar ddelwedd i'w ddewis)",openimagemanager:"Rheolwr Delwedd Agored",close:"Cau"},wm3import:{close:"Cau",info:" <h1>Trawsnewidydd Fersiwn 3</h1><p>Helo, mae hwn yn declyn etifeddiaeth i'ch galluogi i lwytho eich hen ffeiliau <strong>wavemaker version 3</strong> i'r fersiwn newydd.</p><p> Gan fod y gronfa ddata tu l i'r llenni wedi newid tipyn mae hon yn broses un ffordd.</p><p>Bydd angen eich ffeil CRONFA DDATA (ewch i'r brif ddewislen trwy glicio ar y logo yn wavemaker 3 ac yna allforio'r gronfa ddata ) Yna dylech gael ffeil gyda'r estyniad '.wmdata'</p><p>Bydd angen i chi fewngludo pob prosiect a'i gadw i'w ffeil ei hun gan eu bod i gyd ar wahn yn y fersiwn newydd</p>",upload:"Lanlwytho cronfa ddata wavemaker"}},by={info:{name:"Deutsch",textdirection:"ltr"},confirm:{sure:"Sind Sie sicher?",downloadfile:"Dadurch wird eine Datei auf Ihr Gert heruntergeladen.",fileexport:"Ja, exportieren!",filecancel:"Abbrechen",exportedsuccess:"Exportiert!",exportedmessage:"Ihre Datei wurde exportiert"},toolbar:{projecthome:"Projekt-Startseite",writer:"Meine Bcher",planningboard:"Meine Plantafeln",mindmap:"Meine Mindmaps",snowflake:"Meine Schneeflocken",timeline:"Meine Chronik",gridplanner:"Meine Rasterplaner",cardsdatabase:"Meine Karten",settings:"Einstellungen",save:"Datei speichern",googledrive:"Google Drive",quick:"Schnell-Upload",close:"Projekt schlieen"},welcome:{getstarted:"Neues Projekt",loadfile:"Laden Sie eine Datei von Ihrem Gert",loadgoogle:"Laden Sie eine Datei von Google Drive",info:"Erstellen Sie eine neue Datei oder laden Sie eine vorhandene Datei",legacy:"ltere Tools",v3import:"Importieren Sie eine Wavemaker Version 3-Datei"},start:{projectlabel:"Mein Projektname",welcome:"Willkommen bei Wavemaker Version 4",help:"Hilfe und Anleitungen zur Vorgehensweise um Wavemaker zu verwenden"},google:{info:"Bei Google Drive anmelden",saveinfo:"Aktuelles Projekt speichern",files:"Meine Dateien",save:"Datei speichern",search:"Nach Dateien suchen",logout:"Abmelden",close:"Fenster schlieen"},settings:{title:"Einstellungen",close:"Diese Datei schlieen",themes:"Design auswhlen",lang:"Sprache auswhlen",clear:"Dadurch wird das Projekt gelscht",docprefs:"Dokument Einstellungen",alignment:"Ausrichtung",alignL:"Linksbndig",alignR:"Rechtsbndig",alignC:"Zentriert",alignJ:"Blocksatz",fontsize:"Schriftgre",fontsize1:"Kleinste",fontsize2:"Klein",fontsize3:"Standard",fontsize4:"Gro",fontsize5:"Grte",lineheight:"Zeilenhhe",lineheight1:"Standard",lineheight2:"Doppelter Zeilenabstand",lineheight3:"2,5 Zeilenabstand",lineheight4:"Dreifacher Zeilenabstand",paragraph:"Absatzeinzug",paragraphyes:"Ja",paragraphno:"Nein",paragraphspacing:"Absatz Abstand",paragraphspacing1:"Standardabstand",paragraphspacing2:"1,5x Abstand",paragraphspacing3:"2x Abstand",paragraphspacing4:"2,5x Abstand",paragraphspacing5:"5x Abstand",pagewidth:"Seitenbreite",pagestyle:"Seitenstil",fullwidth:"Volle Breite",pagetext:"Textfarbe",pagecolour:"Seitenfarbe",h1align:"H1-Ausrichtung",h2align:"H2-Ausrichtung",h3align:"H3-Ausrichtung",h4align:"H4-Ausrichtung",typewriter:"Schreibmaschineneinstellungen",typetext:"Textfarbe",typepage:"Seitenfarbe",typesound:"Schreibmaschinenton",caretfocus:"Caret Auto-focus",reset:"Zurcksetzen Standardeinstellungen"},tools:{writer:"Meine Bcher",planningboard:"Meine Plantafeln",mindmap:"Meine Mindmaps",snowflake:"Meine Schneeflocken",timeline:"Meine Zeitleiste",gridplanner:"Meine Rasterplaner",cardsdatabase:"Meine Karten",name:"Name",description:"Beschreibung (optional)",warn:"Bitte geben Sie einen Namen an"},writer:{settings:"Ihr Buchtitel",newfile:"Neuer Abschnitt",newfolder:"Neuer Ordner",deletewarn:"Wollen Sie diesen Artikel lschen? Alle von Ihnen erstellten Karten bleiben in der Datenbank",intro:"Dies ist die Hauptseite fr Ihr Dokument. Optionen sind unten.",docdownload:"Exportieren Sie eine .doc-Datei dieses Manuskripts",words:"Wrter"},confirmmodal:{confirmdelete:"Sind Sie sicher, dass Sie dies lschen mchten?",noundo:"Sie knnen dies nicht rckgngig machen.",confirmbtn:"Ja, lschen!",cancelbtn:"Abbrechen",success:"Gelscht!",successfeedback:"Das wurde gelscht.",confirmexport:"Exportieren?",exportmsg:"Dieses Tool exportieren?",exportconfirmbtn:"Ja, exportieren.",exportsuccess:"Exportiert",exportsuccessfeedback:"Erfolgreich exportiert",snowconfirm:"Karte ersetzen",snowconfirmtext:"Originalkarte durch diese drei ersetzen",snowconfirmbtn:"Ja, ersetzen!",snowconfirmsuccess:"Ersetzt",snowconfirmmsg:"Die Karte wurde ersetzt"},editor:{bold:"Fett",italic:"Kursiv",strikethrough:"Durchgestrichen",paragraph:"Absatz",h1:"berschrift 1",h2:"berschrift 2",pic:"Bild einfgen",blist:"Aufzhlungszeichen",nlist:"Nummerierte Liste",planningboard:"Zur Plantafel wechseln",typewriter:"Schreibmaschinenmodus",hilight:"Texthervorhebung",wordcount:"Sichtbarkeit der Wortanzahl umschalten"},mindmap:{deletenodewarn:"Wollen Sie diesen Knoten lschen?"},snowflake:{title:"Titel",deletewarn:"Mchten Sie diese Karte wirklich lschen?",replacewarn:"Dadurch wird Ihre Karte durch die drei neuen ersetzt."},timeline:{date:"Datum/Uhrzeit",title:"Titel"},gridplanner:{newrow:"Neue Zeile",newcol:"Neue Spalte"},db:{search:"Suche nach Schlsselwrtern",clear:"Tags lschen",deletecolwarn:"Diese Spalte lschen?",deleterowwarn:"Diese Zeile lschen?"},cards:{createnewbtn:"Neu erstellen",linkexisting:"Vorhandene Karte verknpfen",cardtitle:"Kartentitel",cardnotes:"Kartennotizen",cardtags:"Karten-Tags",moredetail:"Mehr Details",images:"Bilder (klicken Sie auf ein Bild, um es auszuwhlen)",openimagemanager:"Bild-Manager ffnen",close:"Schlieen"},wm3import:{close:"Schlieen",info:"<h1>Version 3 Konverter</h1>< p>Hallo, dies ist ein veraltetes Tool, mit dem Sie Ihre alten <strong>wavemaker Version 3</strong>-Dateien in die neue Version laden knnen.</p><p>Da sich die Datenbank hinter den Kulissen ziemlich verndert hat dies ist ein einseitiger Prozess.</p><p>Sie bentigen Ihre DATABASE-Datei (gehen Sie zum Hauptmen, indem Sie auf das Logo in wavemaker 3 klicken, und exportieren Sie dann die Datenbank). Sie sollten dann eine Datei mit der Erweiterung ' .wmdata'</p><p>Sie mssen jedes Projekt importieren und in einer eigenen Datei speichern, da sie in der neuen Version alle separat sind</p>",upload:"Laden Sie eine Wavemaker-Datenbank hoch"}},Cy={info:{name:"Espaol",textdirection:"ltr"},confirm:{sure:"Est seguro?",downloadfile:"Esto descargar un archivo a su dispositivo.",fileexport:"S, exportalo!",filecancel:"Cancelar",exportedsuccess:"Exportado!",exportedmessage:"Su archivo ha sido exportado"},toolbar:{projecthome:"Inicio del proyecto",writer:"Mis libros",planningboard:"Tableros de planificacin",mindmap:"Mapas mentales",snowflake:"Copos de nieve",timeline:"Lneas de tiempo",gridplanner:"Planificadores de cuadrcula",cardsdatabase:"Tarjetas",settings:"Configuracin",save:"Guardar archivo",googledrive:"Google Drive",quick:"Carga rpida",close:"Cerrar proyecto"},welcome:{getstarted:"Nuevo proyecto",loadfile:"Cargue un archivo desde su dispositivo",loadgoogle:"Cargue un archivo desde Google Drive",info:"Cree un archivo nuevo o cargue uno existente",legacy:"Herramientas heredadas",v3import:"Importe un archivo Wavemaker versin 3"},start:{projectlabel:"Mi nombre de proyecto",welcome:"Bienvenido a Wavemaker versin 4",help:"Ayuda y guas sobre cmo para usar Wavemaker"},google:{info:"Iniciar sesin en Google Drive",saveinfo:"Guardar proyecto actual",files:"Archivos",save:"Guardar archivo",search:"Buscar archivos",logout:"Cerrar sesin",close:"Cerrar ventana"},settings:{title:"Configuracin",close:"Cerrar este archivo",themes:"Elegir un tema",lang:"Elegir un idioma",clear:"Esto borrar el proyecto",docprefs:"Preferencias del documento",alignment:"Alineacin",alignL:"Alinear a la izquierda",alignR:"Alinear a la derecha",alignC:"Alinear al centro",alignJ:"Justificar",fontsize:"Tamao de fuente",fontsize1:"Ms pequeo",fontsize2:"Pequeo",fontsize3:"Estndar",fontsize4:"Grande",fontsize5:"Ms grande",lineheight:"Altura de lnea",lineheight1:"Estndar",lineheight2:"Espaciado doble",lineheight3:"Espaciado 2,5",lineheight4:"Espaciado triple",paragraph:"Sangra",paragraphyes:"S",paragraphno:"No",paragraphspacing:"Espaciado del prrafo",paragraphspacing1:"Espaciado estndar",paragraphspacing2:"Espaciado 1,5x",paragraphspacing3:"Espaciado 2x",paragraphspacing4:"Espaciado 2,5x",paragraphspacing5:"Espaciado 5x",pagewidth:"Ancho de pgina",pagestyle:"Estilo de pgina",fullwidth:"Ancho completo",pagetext:"Color de texto",pagecolour:"Color de pgina",h1align:"Alineacin H1",h2align:"Alineacin H2",h3align:"Alineacin H3",h4align:"Alineacin H4",typewriter:"Preferencias de mquina de escribir",typetext:"Color de texto",typepage:"Color de pgina",typesound:"Sonido de mquina de escribir",caretfocus:"Caret Auto-focus",reset:"Restablecer Valores predeterminados"},tools:{writer:"Mis libros",planningboard:"Tableros de planificacin",mindmap:"Mmapas mentales",snowflake:"Copos de nieve",timeline:"Lneas de tiempo",gridplanner:"Planificadores de cuadrcula",cardsdatabase:"Tarjetas",name:"Nombre",description:"Descripcin (opcional)",warn:"Proporcione un nombre"},writer:{settings:"Ttulo de su libro",newfile:"Nueva seccin",newfolder:"Nueva carpeta",deletewarn:"Desea eliminar este elemento? Todas las tarjetas que haya creado permanecern en la base de datos",intro:"Esta es la pgina principal de su documento. Las opciones estn abajo.",docdownload:"Exportar un archivo .doc de este manuscrito",words:"Palabras"},confirmmodal:{confirmdelete:"Est seguro de que desea eliminarlo?",noundo:"No podrs deshacer esto.",confirmbtn:"S, brralo!",cancelbtn:"Cancelar",success:"Eliminado!",successfeedback:"Ha sido borrado.",confirmexport:"Exportar?",exportmsg:"Exportar esta herramienta?",exportconfirmbtn:"S, exportar",exportsuccess:"Exportado",exportsuccessfeedback:"Exportado con xito",snowconfirm:"Reemplazar tarjeta",snowconfirmtext:"Reemplazar la tarjeta original con estas tres",snowconfirmbtn:"S, reemplzala!",snowconfirmsuccess:"Reemplazada",snowconfirmmsg:"La tarjeta ha sido reemplazada"},editor:{bold:"Negrita",italic:"Cursiva",strikethrough:"Tachado",paragraph:"Prrafo",h1:"Encabezado 1",h2:"Encabezado 2",pic:"Insertar imagen",blist:"Lista de vietas",nlist:"Lista numerada",planningboard:"Cambiar a tablero de planificacin",typewriter:"Modo de mquina de escribir",hilight:"Resaltar texto",wordcount:"Alternar visibilidad de recuento de palabras"},mindmap:{deletenodewarn:"Quieres eliminar este nodo?"},snowflake:{title:"Ttulo",deletewarn:"Est seguro de que desea eliminar esta tarjeta?",replacewarn:"Esto reemplazar su tarjeta con las tres nuevas."},timeline:{date:"Fecha/hora",title:"Ttulo"},gridplanner:{newrow:"Nueva fila",newcol:"Nueva columna"},db:{search:"Buscar por palabras clave",clear:"Borrar etiquetas",deletecolwarn:"Eliminar esta columna?",deleterowwarn:"Eliminar esta fila?"},cards:{createnewbtn:"Crear nueva",linkexisting:"Vincular tarjeta existente",cardtitle:"Ttulo de tarjeta",cardnotes:"Notas de tarjeta",cardtags:"Etiquetas de tarjeta",moredetail:"Ms detalles",images:"Imgenes (haga clic en una imagen para seleccionarla)",openimagemanager:"Abrir administrador de imgenes",close:"Cerrar"},wm3import:{close:"Cerrar",info:"<h1>Convertidor de la versin 3</h1>< p>Hola, esta es una herramienta heredada que le permite cargar sus archivos antiguos de <strong>wavemaker versin 3</strong> en la nueva versin.</p><p>Como la base de datos entre bastidores ha cambiado bastante este es un proceso unidireccional.</p><p>Necesitar su archivo de BASE DE DATOS (vaya al men principal haciendo clic en el logotipo en wavemaker 3 y luego exporte la base de datos) Entonces debera tener un archivo con la extensin ' .wmdata'</p><p>Tendr que importar cada proyecto y guardarlo en su propio archivo, ya que todos estn separados en la nueva versin</p>",upload:"Cargue una base de datos de wavemaker"}},Ly={info:{name:"Franais",textdirection:"ltr"},confirm:{sure:"tes-vous sr ?",downloadfile:"Ceci tlchargera un fichier sur votre appareil.",fileexport:"Oui, exportation !",filecancel:"Annuler",exportedsuccess:"Export !",exportedmessage:"Votre fichier a t export"},toolbar:{projecthome:"Accueil du projet",writer:"Mes livres",planningboard:"Mes tableaux de planification",mindmap:"Mes Mindmaps",snowflake:"Mes flocons de neige",timeline:"Ma chronologie",gridplanner:"Mes grilles de planification",cardsdatabase:"Mes cartes",settings:"Paramtres",save:"Enregistrer le fichier",googledrive:"Google Drive",quick:"Tlchargement rapide",close:"Fermer le projet"},welcome:{getstarted:"Nouveau projet",loadfile:"Charger un fichier depuis votre appareil",loadgoogle:"Charger un fichier depuis Google Drive",info:"Crer un nouveau fichier ou charger un fichier existant",legacy:"Outils hrits",v3import:"Importer un fichier Wavemaker Version 3"},start:{projectlabel:"Mon nom de projet",welcome:"Bienvenue dans Wavemaker Version 4",help:"Aide et guides pour utiliser Wavemaker"},google:{info:"Se connecter  Google Drive",saveinfo:"Enregistrer le projet actuel",files:"Mes fichiers",save:"Enregistrer le fichier",search:"Rechercher des fichiers",logout:"Se dconnecter",close:"Fermer la fentre"},settings:{title:"Paramtres",close:"Fermer ce fichier",themes:"Choisir un thme",lang:"Choisir une langue",clear:"Ceci effacera le projet",docprefs:"Document Prfrences",alignment:"Alignement",alignL:"Aligner  gauche",alignR:"Aligner  droite",alignC:"Aligner au centre",alignJ:"Justifier",fontsize:"Taille de la police",fontsize1:"La plus petite",fontsize2:"Petit",fontsize3:"Standard",fontsize4:"Grand",fontsize5:"La plus grande",lineheight:"Hauteur de ligne",lineheight1:"Standard",lineheight2:"Double interligne",lineheight3:"Espacement 2,5",lineheight4:"Triple interligne",paragraph:"Retrait de paragraphe",paragraphyes:"Oui",paragraphno:"Non",paragraphspacing:"Espacement de Paragraphe",paragraphspacing1:"Espacement standard",paragraphspacing2:"Espacement 1,5x",paragraphspacing3:"Espacement 2x",paragraphspacing4:"Espacement 2,5x",paragraphspacing5:"Espacement 5x",pagewidth:"Largeur de page",pagestyle:"Style de page",fullwidth:"Pleine largeur",pagetext:"Couleur de texte",pagecolour:"Couleur de la page",h1align:"Alignement H1",h2align:"Alignement H2",h3align:"Alignement H3",h4align:"Alignement H4",typewriter:"Prfrences de la machine  crire",typetext:"Couleur de texte",typepage:"Couleur de la page",typesound:"Son de la machine  crire",caretfocus:"Caret Auto-focus",reset:"Rinitialiser les valeurs par dfaut"},tools:{writer:"Mes livres",planningboard:"Mes tableaux de planification",mindmap:"Mes cartes mentales",snowflake:"Mes flocons de neige",timeline:"Ma chronologie",gridplanner:"Mes planificateurs de grille",cardsdatabase:"Mes cartes",name:"Nom",description:"Description (facultatif)",warn:"Veuillez fournir un nom"},writer:{settings:"Titre de votre livre",newfile:"Nouvelle section",newfolder:"Nouveau dossier",deletewarn:"Voulez-vous supprimer cet article ? Toutes les cartes que vous avez cres resteront dans la base de donnes",intro:"Il s'agit de la page principale de votre document. Voir les options ci-dessous.",docdownload:"Exporter un fichier .doc de ce manuscrit",words:"Mots"},confirmmodal:{confirmdelete:"tes-vous sr de vouloir le supprimer ?",noundo:"Vous ne pourrez pas revenir en arrire.",confirmbtn:"Oui, suppression !",cancelbtn:"Annuler",success:"Supprim !",successfeedback:"Cela a t supprim.",confirmexport:"Exporter ?",exportmsg:"Exporter cet outil ?",exportconfirmbtn:"Oui, exportation.",exportsuccess:"Export",exportsuccessfeedback:"Export avec succs",snowconfirm:"Remplacer la carte",snowconfirmtext:"Remplacez la carte d'origine par ces trois",snowconfirmbtn:"Oui, remplacement !",snowconfirmsuccess:"Remplac",snowconfirmmsg:"La carte a t remplace"},editor:{bold:"Gras",italic:"Italique",strikethrough:"Barr",paragraph:"Paragraphe",h1:"Titre 1",h2:"Titre 2",pic:"Insrer une image",blist:"Liste  puces",nlist:"Liste numrote",planningboard:"Passer au tableau de planification",typewriter:"Mode machine  crire",hilight:"Texte en surbrillance",wordcount:"Basculer la visibilit du nombre de mots"},mindmap:{deletenodewarn:"Voulez-vous supprimer ce nud ?"},snowflake:{title:"Titre",deletewarn:"Voulez-vous vraiment supprimer cette carte ?",replacewarn:"Cela remplacera votre carte par trois nouvelles."},timeline:{date:"Date/Heure",title:"Titre"},gridplanner:{newrow:"Nouvelle ligne",newcol:"Nouvelle colonne"},db:{search:"Recherche par mots cls",clear:"Effacer les balises",deletecolwarn:"Supprimer cette colonne ?",deleterowwarn:"Supprimer cette ligne ?"},cards:{createnewbtn:"Crer un nouveau",linkexisting:"Lier une carte existante",cardtitle:"Titre de la carte",cardnotes:"Notes de la carte",cardtags:"tiquettes de la carte",moredetail:"Plus de dtails",images:"Images (cliquez sur une image pour la slectionner)",openimagemanager:"Ouvrir le gestionnaire d'images",close:"Fermer"},wm3import:{close:"Fermer",info:"<h1>Version 3 Converter</h1>< p>Bonjour, il s'agit d'un outil hrit qui vous permet de charger vos anciens fichiers <strong>wavemaker version 3</strong> dans la nouvelle version.</p><p>Comme la base de donnes a chang en profondeur, c'est un processus  sens unique.</p><p>Vous aurez besoin de votre fichier DATABASE (allez dans le menu principal en cliquant sur le logo dans wavemaker 3 puis exportez la base de donnes) Vous devriez alors avoir un fichier avec l'extension ' .wmdata'</p><p>Vous devrez importer chaque projet et l'enregistrer dans son propre fichier car ils sont tous spars dans la nouvelle version</p>",upload:"Tlchargez une base de donnes Wavemaker"}},$y={info:{name:"Trke",textdirection:"ltr"},confirm:{sure:"Emin misiniz?",downloadfile:"Bu, cihaznza bir dosya indirecek.",fileexport:"Evet, Da Aktar!",filecancel:"ptal",exportedsuccess:"Da aktarld!",exportedmessage:"Dosyanz da aktarld"},toolbar:{projecthome:"Proje Ana Sayfas",writer:"Kitaplarm",planningboard:"Planlama Panolarm",mindmap:"Zihin Haritalarm",snowflake:"Kar Tanelerim",timeline:"Zaman izelgem",gridplanner:"Klavuz Planlayclarm",cardsdatabase:"Kartlarm",settings:"Ayarlar",save:"Dosyay Kaydet",googledrive:"Google Drive",quick:"Hzl Ykleme",close:"Projeyi Kapat"},welcome:{getstarted:"Yeni Proje",loadfile:"Cihaznzdan bir dosya ykleyin",loadgoogle:"Google Drive'dan bir dosya ykleyin",info:"Yeni bir dosya oluturun veya mevcut bir dosyay ykleyin",legacy:"Eski Aralar",v3import:"Bir Wavemaker Srm 3 dosyasn ie aktarn"},start:{projectlabel:"Proje Adm",welcome:"Wavemaker Srm 4'e Ho Geldiniz",help:"Wavemaker'n nasl kullanlacana ilikin Yardm ve Klavuzlar"},google:{info:"Google Drive'da Oturum An",saveinfo:"Mevcut Projeyi Kaydet",files:"Dosyalarm",save:"Dosyay Kaydet",search:"Dosyalarda Ara",logout:"Oturumu Kapat",close:"Pencereyi Kapat"},settings:{title:"Ayarlar",close:"Bu dosyay kapat",themes:" Bir Tema Sein",lang:"Dil Sein",clear:"Bu, projeyi temizleyecektir",docprefs:"Belge Tercihleri",alignment:"Hizalama",alignL:"Sola Hizala",alignR:"Saa Hizala",alignC:"Ortala",alignJ:"Yasla",fontsize:"Yaz Tipi Boyutu ",fontsize1:"En Kk",fontsize2:"Kk",fontsize3:"Standart",fontsize4:"Byk",fontsize5:"En Byk",lineheight:"izgi Ykseklii",lineheight1:"Standart",lineheight2:"ift Aralkl",lineheight3:"2,5 Aralk",lineheight4:" Aralkl",paragraph:"Paragraf Girintisi",paragraphyes:"evet",paragraphno:"Hayr",paragraphspacing:"Paragraf Boluu",paragraphspacing1:"Standart Boluk",paragraphspacing2:"1,5x Aralk",paragraphspacing3:"2x Aralk",paragraphspacing4:"2,5x Aralk",paragraphspacing5:"5x Aralk",pagewidth:" Sayfa Genilii",pagestyle:"Sayfa Stili",fullwidth:"Tam Genilik",pagetext:"Metin Rengi",pagecolour:"Sayfa Rengi",h1align:"H1 Hizalama",h2align:"H2 Hizalama",h3align:"H3 Hizalama",h4align:"H4 Hizalama",typewriter:"Daktilo Tercihleri",typetext:" Metin Rengi",typepage:"Sayfa Rengi",typesound:"Daktilo Sesi",caretfocus:"Caret Auto-focus",reset:"Varsaylanlar Sfrla"},tools:{writer:"Kitaplarm",planningboard:"Planlama Panolarm",mindmap:"Zihin Haritalarm",snowflake:"Kar Tanelerim",timeline:"Zaman izelgem",gridplanner:"Klavuz Planlayclarm",cardsdatabase:"Kartlarm",name:"sim",description:"Aklama (istee bal)",warn:"Ltfen bir Ad girin"},writer:{settings:"Kitabnzn Bal",newfile:"Yeni Blm",newfolder:"Yeni Klasr",deletewarn:"Bu eyi silmek istiyor musunuz? Oluturduunuz tm kartlar veritabannda kalacaktr",intro:"Bu, belgenizin ana sayfasdr. Seenekler aadadr.",docdownload:"Bu taslan bir .doc dosyasn da aktar",words:"Kelimeler"},confirmmodal:{confirmdelete:"Bunu silmek istediinizden emin misiniz?",noundo:"Bunu geri alamayacaksnz.",confirmbtn:"Evet, silin.",cancelbtn:"ptal",success:"Silindi!",successfeedback:"Bu silindi.",confirmexport:"Da aktarlsn m?",exportmsg:"Bu ara da aktarlsn m?",exportconfirmbtn:"Evet, Bunu da aktarn.",exportsuccess:"Da aktarld",exportsuccessfeedback:"Baaryla da aktarld",snowconfirm:" Kart Deitir",snowconfirmtext:"Orijinal kart bu  kartla deitirin",snowconfirmbtn:"Evet, deitirin!",snowconfirmsuccess:"Deitirildi",snowconfirmmsg:"Kart deitirildi"},editor:{bold:"Kaln",italic:"talik",strikethrough:"st izili",paragraph:"Paragraf",h1:"Balk 1",h2:"Balk 2",pic:"Resim Ekle",blist:"Madde Listesi",nlist:"Numaral Liste",planningboard:"Planlama panosuna ge",typewriter:"Daktilo modu",hilight:"Metin vurgusu",wordcount:"Kelime says grnrln deitir"},mindmap:{deletenodewarn:"Bu dm silmek istiyor musunuz?"},snowflake:{title:"Balk",deletewarn:"Bu kart silmek istediinizden emin misiniz?",replacewarn:"Bu ilem, kartnz  yeni kartla deitirecek."},timeline:{date:"Tarih/Saat",title:"Balk"},gridplanner:{newrow:"Yeni Satr",newcol:"Yeni Stun"},db:{search:"Anahtar kelimelere gre ara",clear:"Etiketleri Temizle",deletecolwarn:"Bu stun silinsin mi?",deleterowwarn:"Bu satr silinsin mi?"},cards:{createnewbtn:"Yeni Olutur",linkexisting:"Mevcut Kart Bala ",cardtitle:"Kart Bal",cardnotes:"Kart Notlar",cardtags:"Kart Etiketleri",moredetail:"Daha Fazla Ayrnt",images:"Grntler (semek iin bir grntye tklayn)",openimagemanager:"Grnt Yneticisini A",close:"Kapat"},wm3import:{close:"Kapat",info:" <h1>Srm 3 Dntrc</h1><p>Merhaba, bu, eski <strong>wavemaker srm 3</strong> dosyalarnz yeni srme yklemenizi salayan eski bir aratr.</p><p> Sahne arkas veritaban biraz deitii iin bu tek ynl bir ilemdir.</p><p>VERTABANI dosyanza ihtiyacnz olacak (wavemaker 3'te logoya tklayarak ana menye gidin ve ardndan veritabann da aktarn) ) O zaman '.wmdata' uzantl bir dosyanz olmal</p><p>Yeni versiyonda hepsi ayr olduu iin her projeyi ayr ayr ie aktarp kendi dosyasna kaydetmeniz gerekecek</p>",upload:"Bir wavemaker veritaban ykleyin"}},ky={info:{name:"Portugus",textdirection:"ltr"},confirm:{sure:"Tem certeza?",downloadfile:"Isso baixar um arquivo para o seu dispositivo.",fileexport:"Sim, exportar!",filecancel:"Cancelar",exportedsuccess:"Exportado!",exportedmessage:"Seu arquivo foi exportado"},toolbar:{projecthome:"Incio",writer:"Meus Livros",planningboard:"Meus Quadros de Planejamento",mindmap:"Meus Mapas Mentais",snowflake:"Meus Flocos de Neve",timeline:"Minhas Linhas do Tempo",gridplanner:"Meus Planejadores de Grade",cardsdatabase:"Meus Cartes",settings:"Configuraes",save:"Salvar Arquivo",googledrive:"Google Drive",quick:"Carregamento Rpido",close:"Fechar Projeto"},welcome:{getstarted:"Novo Projeto",loadfile:"Carregar um arquivo do seu dispositivo",loadgoogle:"Carregar um arquivo do Google Drive",info:"Crie um novo arquivo, ou carregue um existente",legacy:"Ferramentas Legadas",v3import:"Importar um arquivo de Wavemaker Version 3"},start:{projectlabel:"Nome do Meu Projeto",welcome:"Bem-vindo ao Wavemaker Version 4",help:"Ajuda & Guias em como usar o Wavemaker"},google:{info:"Conectar ao Google Drive",saveinfo:"Salvar Projeto Atual",files:"Meus Arquivos",save:"Salvar Arquivo",search:"Procurar Arquivos",logout:"Sair",close:"Fechar janela"},settings:{title:"Configuraes",close:"Fechar este arquivo",themes:"Escolha um tema",lang:"Escolha um Idioma",clear:"Isso limpar o projeto",docprefs:"Preferncias do Documento",alignment:"Alinhamento",alignL:"Alinhar  Esquerda",alignR:"Alinhar  Direita",alignC:"Centralizar",alignJ:"Justificar",fontsize:"Tamanho da Fonte",fontsize1:"Menor",fontsize2:"Pequeno",fontsize3:"Padro",fontsize4:"Grande",fontsize5:"Maior",lineheight:"Altura de Linha",lineheight1:"Padro",lineheight2:"Duplo",lineheight3:"Espaamento 2.5",lineheight4:"Triplo",paragraph:"Recuo de Pargrafo",paragraphyes:"Sim",paragraphno:"No",paragraphspacing:"Espaamento de Pargrafo",paragraphspacing1:"Padro",paragraphspacing2:"Espaamento 1.5x",paragraphspacing3:"Espaamento 2x",paragraphspacing4:"Espaamento 2.5x",paragraphspacing5:"Espaamento 5x",pagewidth:"Largura da Pgina",pagestyle:"Estilo da Pgina",fullwidth:"Largura Total",pagetext:"Cor do Texto",pagecolour:"Cor da Pgina",h1align:"Alinhamento Ttulo 1",h2align:"Alinhamento Ttulo 2",h3align:"Alinhamento Ttulo 3",h4align:"Alinhamento Ttulo 4",typewriter:"Preferncias de Mquina de Escrever",typetext:"Cor do Texto",typepage:"Cor da Pgina",typesound:"Sons de Mquina de Escrever",caretfocus:"Caret Auto-focus",reset:"Restaurar ao Padro"},tools:{writer:"Meus Livros",planningboard:"Meus Quadros de Planejamento",mindmap:"Meus Mapas Mentais",snowflake:"Meus Flocos de Neve",timeline:"Minhas Linhas do Tempo",gridplanner:"Meus Planejadores de Grade",cardsdatabase:"Meus Cartes",name:"Nome",description:"Descrio (opcional)",warn:"Por favor definir um Nome"},writer:{settings:"Ttulo do Seu Livro",newfile:"Nova Seo",newfolder:"Nova Pasta",deletewarn:"Deseja excluir este item? Quaisquer cartes criados permanecero no banco de dados",intro:"Essa  a pgina principal do seu documento. Opes se encontram abaixo.",docdownload:"Exportar um arquivo .doc desse manuscrito",words:"Palavras"},confirmmodal:{confirmdelete:"Tem certeze que deseja excluir isto?",noundo:"Voc no poder desfazer esta ao.",confirmbtn:"Sim, excluir!",cancelbtn:"Cancelar",success:"Excludo!",successfeedback:"Item excludo com sucesso.",confirmexport:"Exportar?",exportmsg:"Exportar esta ferramenta?",exportconfirmbtn:"Sim, exportar.",exportsuccess:"Exportar",exportsuccessfeedback:"Exportado com sucesso",snowconfirm:"Substituir Carto",snowconfirmtext:"Substituir carto original com estes trs",snowconfirmbtn:"Sim, subsituir!",snowconfirmsuccess:"Substitudo",snowconfirmmsg:"O carto foi substitudo"},editor:{bold:"Negrito",italic:"Itlico",strikethrough:"Tachado",paragraph:"Pargrafo",h1:"Ttulo 1",h2:"Ttulo 2",pic:"Inserir Imagem",blist:"Lista de Marcadores",nlist:"Lista Numrica",planningboard:"Trocar para Quadro de Planejamento",typewriter:"Modo Mquina de Escrever",hilight:"Realar Texto",wordcount:"Ativar viso de contagem de palavras"},mindmap:{deletenodewarn:"Deseja deletar este ndulo?"},snowflake:{title:"Ttulo",deletewarn:"Deseja excluir este carto?",replacewarn:"Esta ao substituir seu carto com trs cartes novos."},timeline:{date:"Data/Hora",title:"Ttulo"},gridplanner:{newrow:"Nova Linha",newcol:"Nova Coluna"},db:{search:"Procurar por palavras-chave",clear:"Limpar Etiquetas",deletecolwarn:"Excluir esta coluna?",deleterowwarn:"Excluir esta linha?"},cards:{createnewbtn:"Criar Novo",linkexisting:"Vincular a Carto Existente",cardtitle:"Ttulo do Carto",cardnotes:"Notas do Carto",cardtags:"Etiquetas do Carto",moredetail:"Mais Detalhes",images:"Imagens (clique numa imagem para escolher)",openimagemanager:"Abrir Gerenciador de Imagens",close:"Fechar"},wm3import:{close:"Fechar",info:"<h1>Conversor da Verso 3</h1><p>Ol, essa  uma ferranebta legada que permite qye voc carregue seus antigos arquivos de <strong>wavemaker verso 3</strong> na nova verso.</p><p>Como o banco de dados nos bastidores foi alterado bastante, este  um processo de mo nica.</p><p>Voc precisar do seu arquivo de BASE DE DADOS (v ao menu principal clicando no logo no wavemaker 3, e ento exporte o banco de dados). Voc ento dever ter um arquivo com a extenso '.wmdata'</p><p>Voc precisar importar cada projeto e salvar como seu prprio arquivo, uma vez que eles so objetos separados na nova verso</p>",upload:"Carregar um banco de dados wavemaker"}},xy={info:{name:"",textdirection:"ltr"},confirm:{sure:"",downloadfile:"",fileexport:"",filecancel:"",exportedsuccess:"",exportedmessage:""},toolbar:{projecthome:"",writer:"",planningboard:"",mindmap:"",snowflake:"",timeline:"",gridplanner:"",cardsdatabase:"",settings:"",save:"",googledrive:"Google Drive",quick:"",close:""},welcome:{getstarted:"",loadfile:"",loadgoogle:" Google Drive ",info:"",legacy:"",v3import:" Wavemaker 3.0 "},start:{projectlabel:"",welcome:" Wavemaker 4.0",help:" Wavemaker"},google:{info:" Google Drive",saveinfo:"",files:"",save:"",search:"",logout:"",close:""},settings:{title:"",close:"",themes:"",lang:"",clear:"",docprefs:"",alignment:"",alignL:"",alignR:"",alignC:"",alignJ:"",fontsize:"",fontsize1:"",fontsize2:"",fontsize3:"",fontsize4:"",fontsize5:"",lineheight:"",lineheight1:"",lineheight2:"2 ",lineheight3:"2.5 ",lineheight4:"3 ",paragraph:"",paragraphyes:"",paragraphno:"",paragraphspacing:"",paragraphspacing1:"",paragraphspacing2:"1.5 ",paragraphspacing3:"2 ",paragraphspacing4:"2.5 ",paragraphspacing5:"5 ",pagewidth:"",pagestyle:"",fullwidth:"",pagetext:"",pagecolour:"",h1align:"H1 ",h2align:"H2 ",h3align:"H3 ",h4align:"H4 ",typewriter:"",typetext:"",typepage:"",typesound:"",caretfocus:"Caret Auto-focus",reset:""},tools:{writer:"",planningboard:"",mindmap:"",snowflake:"",timeline:"",gridplanner:"",cardsdatabase:"",name:"",description:"",warn:""},writer:{settings:"",newfile:"",newfolder:"",deletewarn:" ",intro:" ",docdownload:" .doc ",words:""},confirmmodal:{confirmdelete:"",noundo:"",confirmbtn:" ",cancelbtn:"",success:"",successfeedback:"",confirmexport:"",exportmsg:"",exportconfirmbtn:"",exportsuccess:"",exportsuccessfeedback:"",snowconfirm:"",snowconfirmtext:"",snowconfirmbtn:"",snowconfirmsuccess:"",snowconfirmmsg:""},editor:{bold:"",italic:"",strikethrough:"",paragraph:"",h1:" 1",h2:" 2",pic:"",blist:"",nlist:"",planningboard:"",typewriter:"",hilight:"",wordcount:""},mindmap:{deletenodewarn:""},snowflake:{title:"",deletewarn:"",replacewarn:""},timeline:{date:"/",title:""},gridplanner:{newrow:"",newcol:""},db:{search:"",clear:"",deletecolwarn:"",deleterowwarn:""},cards:{createnewbtn:"",linkexisting:"",cardtitle:"",cardnotes:"",cardtags:"",moredetail:"",images:"",openimagemanager:"",close:""},wm3import:{close:"",info:"<h1>3.0 </h1><p><strong>wavemaker 3.0</strong></p><p> </p><p> wavemaker 3.0  logo  ) .wmdata</p><p></p>",upload:" wavemaker "}},Hy={en:yy,cy:wy,de:by,es:Cy,fr:Ly,tr:$y,pt:ky,cn:xy},Ay={name:"CardViewer",emits:["cardChange"],components:{MiniEditor:Ii,MiniImage:Ti},computed:{taginputwidth(){return this.tag&&this.tag.length>6?this.tag.length:6},imageList(){let t=[];return this.cardInfo&&this.cardInfo.images.forEach(async e=>{let n=await this.$root.getImage(e);n?t.push(n):this.cardInfo.images=this.cardInfo.images.filter(o=>o!==e)}),t}},data(){return{tag:null,animate:!1,cardInfo:null}},methods:{updatecard(){console.log("updating"),this.cardInfo.updateWindow=this.$root.windowID,this.$root.UpdateRecord("Cards",this.$root.$data.session.EditCard,this.cardInfo)},chooseImage(t){this.cardInfo.showimage!=t?this.cardInfo.showimage=t:this.cardInfo.showimage=null,console.log("image "+t),this.updatecard()},tagger(){this.tag&&(this.cardInfo.labels.push(this.tag),this.tag=null,this.updatecard())},removetag(t){this.cardInfo.labels.splice(t,1),this.updatecard()},setCardColor(t){this.cardInfo.color="--card"+t,this.updatecard()},addImage(){this.$root.imagemanager={table:"Cards",targetuuid:this.$root.$data.session.EditCard,target:this.cardInfo.images,updateObj:this.cardInfo}},deleteImage(t){this.cardInfo.images.splice(t,1),this.updatecard()}},mounted(){this.cardInfo=gn(fn(async()=>await Rt.Cards.get(this.$root.$data.session.EditCard))),this.animate=!0},beforeUnmount(){this.animate=!1}},Vy={key:0,class:"scrollHolder"},My={class:"colorbox"},Sy={class:"inputHolder"},Ty={class:"inputHolder"},Ey={class:"inputHolder"},By=["onClick"],Iy={class:"inputHolder"},Dy={class:"inputHolder"},_y=["onClick"],Py=["title"];function Oy(t,e,n,o,r,s){const a=te("MiniEditor"),u=te("MiniImage");return f(),Be(Kn,{name:"bounce"},{default:wt(()=>[r.animate?(f(),y("div",Vy,[i("div",{id:"overlay",onClick:e[0]||(e[0]=c=>t.$root.$data.session.EditCard=null)}),r.cardInfo?(f(),y("div",{key:0,class:"cardEditorHolder",style:It("background-color: var("+this.cardInfo.color+"); color : var("+this.cardInfo.color+"-f); fill : var("+this.cardInfo.color+"-f)")},[i("button",{onClick:e[1]||(e[1]=c=>t.$root.$data.session.EditCard=null),class:"clearInterfaceIconButton closebtn"},[...e[19]||(e[19]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"})],-1)])]),i("div",My,[i("button",{class:"c1",onClick:e[2]||(e[2]=c=>s.setCardColor(1))}),i("button",{class:"c2",onClick:e[3]||(e[3]=c=>s.setCardColor(2))}),i("button",{class:"c3",onClick:e[4]||(e[4]=c=>s.setCardColor(3))}),i("button",{class:"c4",onClick:e[5]||(e[5]=c=>s.setCardColor(4))}),i("button",{class:"c5",onClick:e[6]||(e[6]=c=>s.setCardColor(5))}),i("button",{class:"c6",onClick:e[7]||(e[7]=c=>s.setCardColor(6))}),i("button",{class:"c7",onClick:e[8]||(e[8]=c=>s.setCardColor(7))})]),i("label",null,k(this.$root.setlang.cards.cardtitle),1),i("div",Sy,[ue(i("input",{class:"cardTitle",placeholder:"Title","onUpdate:modelValue":e[9]||(e[9]=c=>this.cardInfo.title=c),onChange:e[10]||(e[10]=(...c)=>s.updatecard&&s.updatecard(...c))},null,544),[[Ve,this.cardInfo.title]])]),i("label",null,[ye(k(this.$root.setlang.cards.cardnotes)+" ",1),ue(i("input",{type:"checkbox",value:"true","onUpdate:modelValue":e[11]||(e[11]=c=>this.cardInfo.showdesc=c),onChange:e[12]||(e[12]=c=>s.updatecard())},null,544),[[di,this.cardInfo.showdesc]])]),i("div",Ty,[De(a,{modelValue:this.cardInfo.description,"onUpdate:modelValue":e[13]||(e[13]=c=>this.cardInfo.description=c),onUpdated:s.updatecard},null,8,["modelValue","onUpdated"])]),i("label",null,k(this.$root.setlang.cards.cardtags),1),i("div",Ey,[(f(!0),y(re,null,Pe(this.cardInfo.labels,(c,p)=>(f(),y("span",{class:"tag",key:p},[ye(k(c)+" ",1),i("button",{onClick:C=>s.removetag(p)},[...e[20]||(e[20]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24","data-v-024bf5af":""},[i("path",{d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z","data-v-024bf5af":""})],-1)])],8,By)]))),128)),ue(i("input",{placeholder:"#",onChange:e[14]||(e[14]=(...c)=>s.tagger&&s.tagger(...c)),"onUpdate:modelValue":e[15]||(e[15]=c=>r.tag=c),class:"tagInput",style:It("width: "+s.taginputwidth+"ch")},null,36),[[Ve,r.tag]])]),i("label",null,k(this.$root.setlang.cards.moredetail),1),i("div",Iy,[De(a,{modelValue:this.cardInfo.content,"onUpdate:modelValue":e[16]||(e[16]=c=>this.cardInfo.content=c),onUpdated:s.updatecard},null,8,["modelValue","onUpdated"])]),e[24]||(e[24]=i("hr",null,null,-1)),i("label",null,k(this.$root.setlang.cards.images),1),i("div",Dy,[(f(!0),y(re,null,Pe(this.cardInfo.images,(c,p)=>(f(),y("div",{key:p,class:"imgHolder"},[i("button",{class:"deleteBtn",onClick:C=>s.deleteImage(p),style:It(this.cardInfo.showimage===c?"display:none":"")},[...e[21]||(e[21]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"})],-1)])],12,_y),De(u,{uuid:c,class:je(this.cardInfo.showimage===c?"selectedImg":"unselectedImg"),onClick:C=>s.chooseImage(c)},null,8,["uuid","class","onClick"])]))),128))]),i("button",{onClick:e[17]||(e[17]=c=>s.addImage()),class:"interfaceBtn",title:this.$root.setlang.settings.title},[e[22]||(e[22]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M7,15L11.5,9L15,13.5L17.5,10.5L21,15M22,4H14L12,2H6A2,2 0 0,0 4,4V16A2,2 0 0,0 6,18H22A2,2 0 0,0 24,16V6A2,2 0 0,0 22,4M2,6H0V11H0V20A2,2 0 0,0 2,22H20V20H2V6Z"})],-1)),ye(" "+k(this.$root.setlang.cards.openimagemanager),1)],8,Py),i("button",{onClick:e[18]||(e[18]=c=>t.$root.$data.session.EditCard=null),class:"interfaceBtn",style:{float:"right"}},[e[23]||(e[23]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"})],-1)),ye(" "+k(this.$root.setlang.cards.close),1)])],4)):V("",!0)])):V("",!0)]),_:1})}const Ny=He(Ay,[["render",Oy],["__scopeId","data-v-c8c45434"]]),Ry={name:"ImageViewer",components:{MasonryWall:lr},data(){return{imagesArray:gn(fn(async()=>await Rt.ImageLibrary.toArray())),newimage:{title:null,base64:null}}},methods:{triggerUpload(){this.$refs.imageloader.click()},closeImageManager(){this.$root.EditCardrefresh=this.$root.uuid(),this.$root.imagemanager=null},updateCanvasImage(t){var e=this,n=t.target.files,o=new FileReader;o.onload=r=>{var s=new Image;s.onload=function(){e.drawCanvasImage(s)},s.src=r.target.result,this.newimage.title=n[0].name},o.readAsDataURL(n[0])},drawCanvasImage(t){var e=this.$refs.imageCanvas;e.width=500,e.height=t.height/(t.width/500);var n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height),this.newimage.base64=e.toDataURL("image/jpeg").split(";base64,")[1]},async addNewImage(){let t=this.$root.uuid(),e={};e.uuid=t,e.title=this.newimage.title,e.base64=this.newimage.base64,await this.$root.AddRecord("ImageLibrary",e),this.newimage.title=null,this.newimage.base64=null},async deleteImage(t){this.$swal({title:"Are you sure?",text:"You won't be able to undo this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(async e=>{e.isConfirmed&&(await this.$root.db.ImageLibrary.delete(t),this.$swal("Deleted!","Your file has been deleted.","success"))})},pickImage(t){this.$root.imagemanager.targetuuid&&(this.$root.imagemanager.table==="Cards"&&this.$root.imagemanager.target.push(t),this.$root.imagemanager.table==="Gridplanner"&&(this.$root.imagemanager.target.text=t),this.$root.UpdateRecord(this.$root.imagemanager.table,this.$root.imagemanager.targetuuid,this.$root.imagemanager.updateObj),this.closeImageManager())}}},Fy={key:0,class:"imageWindow"},jy={key:0,class:"imageScroller"},Uy={class:"imgBox"},zy=["src"],Wy={style:{"margin-top":"-10px","text-align":"right"}},Gy=["onClick"],qy=["onClick"],Zy={key:1,class:"uploadFrame"},Ky=["src"],Yy={class:"toolbar"},Jy={id:"imageCanvas",ref:"imageCanvas",style:{display:"none"}},Qy={key:0};function Xy(t,e,n,o,r,s){const a=te("masonry-wall");return f(),y(re,null,[e[12]||(e[12]=i("div",{class:"backdrop"},null,-1)),r.imagesArray?(f(),y("div",Fy,[this.newimage.base64?V("",!0):(f(),y("div",jy,[De(a,{items:r.imagesArray,"ssr-columns":1,"column-width":300,gap:16},{default:wt(({item:u})=>[i("div",Uy,[i("img",{src:"data:image/png;base64,"+u.base64},null,8,zy),i("div",Wy,[this.$root.imagemanager.targetuuid?(f(),y("button",{key:0,onClick:c=>s.pickImage(u.uuid),class:"interfaceBtn chooseBtn"},[...e[6]||(e[6]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M19,19H5V5H19M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M13.96,12.29L11.21,15.83L9.25,13.47L6.5,17H17.5L13.96,12.29Z"})],-1),ye(" Link this Image ",-1)])],8,Gy)):V("",!0),i("button",{class:"interfaceBtn deleteBtn",onClick:c=>s.deleteImage(u.uuid)},[...e[7]||(e[7]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"})],-1),ye("  ",-1)])],8,qy)])])]),_:1},8,["items"])])),this.newimage.base64?(f(),y("div",Zy,[i("img",{src:"data:image/png;base64,"+this.newimage.base64,style:{"max-width":"100%"}},null,8,Ky),ue(i("input",{"onUpdate:modelValue":e[0]||(e[0]=u=>this.newimage.title=u),class:"formInput",placeholder:"File Name"},null,512),[[Ve,this.newimage.title]]),i("div",null,[i("button",{onClick:e[1]||(e[1]=u=>s.addNewImage()),class:"interfaceBtn saveBtn"},[...e[8]||(e[8]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M12.18 17C12.54 15.5 13.43 14.16 14.68 13.25L13.96 12.29L11.21 15.83L9.25 13.47L6.5 17H12.18M5 5V19H12.03C12.09 19.7 12.24 20.38 12.5 21H5C4.47 21 3.96 20.79 3.59 20.41C3.21 20.04 3 19.53 3 19V5C3 3.9 3.9 3 5 3H19C19.53 3 20.04 3.21 20.41 3.59C20.79 3.96 21 4.47 21 5V12.5C20.38 12.24 19.7 12.09 19 12.03V5H5M17.75 22L15 19L16.16 17.84L17.75 19.43L21.34 15.84L22.5 17.25L17.75 22Z"})],-1),ye(" Save ",-1)])]),i("button",{onClick:e[2]||(e[2]=u=>{this.newimage.title=null,this.newimage.base64=null}),class:"interfaceBtn cancelBtn"},[...e[9]||(e[9]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M13 19C13 19.7 13.13 20.37 13.35 21H5C3.9 21 3 20.11 3 19V5C3 3.9 3.9 3 5 3H19C20.11 3 21 3.9 21 5V13.35C20.37 13.13 19.7 13 19 13V5H5V19H13M11.21 15.83L9.25 13.47L6.5 17H13.35C13.75 15.88 14.47 14.91 15.4 14.21L13.96 12.29L11.21 15.83M22.54 16.88L21.12 15.47L19 17.59L16.88 15.47L15.47 16.88L17.59 19L15.47 21.12L16.88 22.54L19 20.41L21.12 22.54L22.54 21.12L20.41 19L22.54 16.88Z"})],-1),ye(" Cancel ",-1)])])])])):V("",!0),i("div",Yy,[i("button",{class:"interfaceBtn closeBtn topbar",onClick:e[3]||(e[3]=u=>s.closeImageManager())},[...e[10]||(e[10]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"})],-1)])]),i("canvas",Jy,null,512),this.newimage.base64?V("",!0):(f(),y("div",Qy,[i("button",{onClick:e[4]||(e[4]=(...u)=>s.triggerUpload&&s.triggerUpload(...u)),class:"interfaceBtn topbar"},[...e[11]||(e[11]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M13 19C13 19.7 13.13 20.37 13.35 21H5C3.9 21 3 20.11 3 19V5C3 3.9 3.9 3 5 3H19C20.11 3 21 3.9 21 5V13.35C20.37 13.13 19.7 13 19 13V5H5V19H13M13.96 12.29L11.21 15.83L9.25 13.47L6.5 17H13.35C13.75 15.88 14.47 14.91 15.4 14.21L13.96 12.29M20 18V15H18V18H15V20H18V23H20V20H23V18H20Z"})],-1),ye(" Upload an Image ",-1)])]),i("input",{type:"file",ref:"imageloader",onChange:e[5]||(e[5]=(...u)=>s.updateCanvasImage&&s.updateCanvasImage(...u)),style:{display:"none"}},null,544)]))])])):V("",!0)],64)}const e5=He(Ry,[["render",Xy],["__scopeId","data-v-61f4675e"]]),t5={name:"App",data(){return{wm3file:null,proj:null,filearray:[],copysettings:{}}},methods:{file_loadDB(){document.getElementById("wavemaker3HiddenPicker").click()},file_load(t){var e=new FileReader;e.onload=async n=>{this.wm3file=JSON.parse(n.target.result),console.log("Data File Recieved",this.wm3file)},e.readAsText(t.target.files.item(0))},startimport(t){this.$root.clearDatabase(),this.proj=this.wm3file.projects[t];let e=JSON.parse(JSON.stringify(this.$root.SettingsTemplate));e.uuid=this.$root.uuid(),e.ProjectName=this.proj.title,this.copysettings=e,this.$root.AddRecord("Settings",e);let n=this.$root.uuid();this.filearray=[],this.loopfiles(this.proj.data.writer,this.filearray,n);let o={};o.title=this.proj.title,o.description="",o.files=JSON.parse(JSON.stringify(this.filearray)),o.uuid=n,this.$root.AddRecord("Writer",o),this.processCards(),this.processSnowflakes(),this.processgridplanner(),this.processmindmaps(),this.processtimeline(),this.$root.v3import=!1,this.$root.getSettings()},loopfiles(t,e,n){t.forEach(o=>{if(!o.data)console.log("odd error ",o);else{let r={uuid:this.$root.uuid(),type:"file"},s={};if(s.uuid=r.uuid,s.writerid=n,o.data.content){let u=new Ol.Converter().makeHtml(o.data.content);s.content=u,s.wordcount=this.$root.wordCounter(u)}else s.content="",s.wordcount=0;if(s.title=o.title,s.notes=[],o.data.notes&&o.data.notes.length&&o.data.notes.forEach(a=>{parseInt(a.backgroundColor)===0&&(a.backgroundColor=1),parseInt(a.backgroundColor)===6&&(a.backgroundColor=5),a.backgroundColor||(a.backgroundColor=1);let u={};u.uuid=this.$root.uuid(),u.title=a.title,u.description=a.content,u.showdesc=!0,u.content="",u.labels=[],u.images=[],u.style="",u.options={},u.color="--card"+a.backgroundColor;let c={uuid:u.uuid};a.completed&&(c.completed=!0),s.notes.push(c),this.$root.AddRecord("Cards",u)}),this.$root.AddRecord("Files",s),o.children){let a={uuid:this.$root.uuid(),type:"folder",title:o.title,children:[],open:!0};e.push(a),a.children.push(r),o.children.length&&this.loopfiles(o.children,a.children,n)}else e.push(r)}})},processCards(){if(!this.proj.data.cards||!this.proj.data.cards.length)return!1;this.proj.data.cards.forEach(t=>{let e=[];t.images&&t.images.forEach(r=>{let s=this.$root.uuid(),a={},u=r.slice(22);a.uuid=s,a.title="imported",a.base64=u,this.$root.AddRecord("ImageLibrary",a),e.push(s)}),t.backgroundColor===0&&(t.backgroundColor=1),t.backgroundColor===6&&(t.backgroundColor=5);let n=this.nl2br(t.content),o={};o.uuid=this.$root.uuid(),o.title=t.title,o.description=n,o.showdesc=!0,o.content="",o.labels=JSON.parse(JSON.stringify(t.tags)),o.images=e,o.style="",o.options={},o.color="--card1",e.length&&(o.showimage=e[0]),this.$root.AddRecord("Cards",o)})},nl2br(t,e){if(typeof t>"u"||t===null)return"";var n=e||typeof e>"u"?"<br />":"<br>";return(t+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+n+"$2")},processSnowflakes(){if(!this.proj.data.snowflake)return console.log("no snowflake"),!1;let t=this.$root.uuid(),e={};e.uuid=t,e.title="Imported Snowflake",e.content=[],this.proj.data.snowflake.forEach(n=>{let o={};o.title=n.title,o.content=n.content,o.children=[{title:n.subcard1.title,content:n.subcard1.content,children:[]},{title:n.subcard2.title,content:n.subcard2.content,children:[]},{title:n.subcard3.title,content:n.subcard3.content,children:[]}],e.content.push(o)}),this.$root.AddRecord("Snowflake",e)},processgridplanner(){if(!this.proj.data.gridplanner)return!1;let t={};t.uuid=this.$root.uuid(),t.title="Imported";let e=this.proj.data.gridplanner,n=null,o=[];e.forEach((r,s)=>{s===0?n=r:o.push(r)}),t.content={},t.content.headers=[],n.forEach((r,s)=>{s!=0&&t.content.headers.push({uuid:this.$root.uuid(),title:r.title})}),t.content.rows=[],o.forEach(r=>{let s={};r.forEach((a,u)=>{if(u===0)s.title=a.title,s.cells={};else{let c=t.content.headers[u-1].uuid;s.cells[c]=[],a.content.forEach(p=>{let C=this.nl2br(p),v={};v.uuid=this.$root.uuid(),v.title="Grid import",v.description=C,v.showdesc=!0,v.content="",v.labels=[],v.images=[],v.style="",v.options={},v.color="--card1",s.cells[c].push({uuid:v.uuid}),this.$root.AddRecord("Cards",v)})}}),t.content.rows.push(s)}),this.$root.AddRecord("Gridplanner",JSON.parse(JSON.stringify(t)))},processmindmaps(){if(!this.proj.data.mindmaps)return!1;this.proj.data.mindmaps.forEach(e=>{let n={};n.title=e.title,n.uuid=this.$root.uuid(),n.content={},n.content.links=[],n.content.nodes={},e.links.forEach(o=>{let r={};r.from=o.start,r.to=o.end,r.type="solid",n.content.links.push(r)}),e.items.forEach(o=>{if(n.content.nodes[o.id]={x:o.left,y:o.top,w:"auto",type:o.type},o.type!="image")n.content.nodes[o.id].text=this.nl2br(o.content);else{let r=this.$root.uuid(),s={},a=o.content.slice(22);s.uuid=r,s.title="imported",s.base64=a,this.$root.AddRecord("ImageLibrary",s),n.content.nodes[o.id].text=r}}),this.$root.AddRecord("Mindmap",JSON.parse(JSON.stringify(n)))})},processtimeline(){if(!this.proj.data.timeline)return!1;let t=this.proj.data.timeline;console.log(">>>>",t);let e={};e.uuid=this.$root.uuid(),e.title="Imported",e.description="Your WM3 timeline",e.content=[],t.forEach(n=>{e.content.push({title:n.title,text:n.content,event:"Your Event"})}),this.$root.AddRecord("Timeline",JSON.parse(JSON.stringify(e)))}}},n5={class:"backdrop"},o5={class:"window"},i5={style:{width:"100%"}},s5=["innerHTML"],r5={key:1},a5=["onClick"];function l5(t,e,n,o,r,s){return f(),y("div",n5,[i("div",o5,[i("table",i5,[i("tbody",null,[i("tr",null,[e[4]||(e[4]=i("td",{style:{width:"75%"}},null,-1)),i("td",null,[i("button",{onClick:e[0]||(e[0]=a=>t.$root.v3import=!1),class:"interfaceBtn fullw text-left"},[e[3]||(e[3]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"})],-1)),ye(" "+k(this.$root.setlang.wm3import.close),1)])])])])]),e[8]||(e[8]=i("hr",null,null,-1)),i("div",{innerHTML:this.$root.setlang.wm3import.info},null,8,s5),r.wm3file?V("",!0):(f(),y("button",{key:0,onClick:e[1]||(e[1]=(...a)=>s.file_loadDB&&s.file_loadDB(...a)),class:"interfaceBtn fullw text-left"},[e[5]||(e[5]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z"})],-1)),ye(" "+k(this.$root.setlang.wm3import.upload),1)])),r.wm3file?(f(),y("div",r5,[e[7]||(e[7]=i("label",null,"Choose a Project to import",-1)),(f(!0),y(re,null,Pe(r.wm3file.projects,(a,u)=>(f(),y("button",{key:u,onClick:c=>s.startimport(u),class:"interfaceBtn fullw text-left"},[e[6]||(e[6]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M6 2C4.89 2 4 2.9 4 4V20C4 21.11 4.89 22 6 22H12V20H6V4H13V9H18V12H20V8L14 2M18 14C17.87 14 17.76 14.09 17.74 14.21L17.55 15.53C17.25 15.66 16.96 15.82 16.7 16L15.46 15.5C15.35 15.5 15.22 15.5 15.15 15.63L14.15 17.36C14.09 17.47 14.11 17.6 14.21 17.68L15.27 18.5C15.25 18.67 15.24 18.83 15.24 19C15.24 19.17 15.25 19.33 15.27 19.5L14.21 20.32C14.12 20.4 14.09 20.53 14.15 20.64L15.15 22.37C15.21 22.5 15.34 22.5 15.46 22.5L16.7 22C16.96 22.18 17.24 22.35 17.55 22.47L17.74 23.79C17.76 23.91 17.86 24 18 24H20C20.11 24 20.22 23.91 20.24 23.79L20.43 22.47C20.73 22.34 21 22.18 21.27 22L22.5 22.5C22.63 22.5 22.76 22.5 22.83 22.37L23.83 20.64C23.89 20.53 23.86 20.4 23.77 20.32L22.7 19.5C22.72 19.33 22.74 19.17 22.74 19C22.74 18.83 22.73 18.67 22.7 18.5L23.76 17.68C23.85 17.6 23.88 17.47 23.82 17.36L22.82 15.63C22.76 15.5 22.63 15.5 22.5 15.5L21.27 16C21 15.82 20.73 15.65 20.42 15.53L20.23 14.21C20.22 14.09 20.11 14 20 14M19 17.5C19.83 17.5 20.5 18.17 20.5 19C20.5 19.83 19.83 20.5 19 20.5C18.16 20.5 17.5 19.83 17.5 19C17.5 18.17 18.17 17.5 19 17.5Z"})],-1)),ye(" "+k(a.title),1)],8,a5))),128))])):V("",!0)]),i("input",{type:"file",id:"wavemaker3HiddenPicker",name:"upload",accept:".wmdata",onChange:e[2]||(e[2]=(...a)=>s.file_load&&s.file_load(...a)),style:{display:"none"}},null,32)])}const d5=He(t5,[["render",l5],["__scopeId","data-v-8f97ef54"]]),u5={key:0,class:"pwa-prompt install-prompt"},c5={class:"pwa-prompt-content"},p5={class:"pwa-prompt-actions"},h5={key:1,class:"pwa-prompt update-prompt"},f5={class:"pwa-prompt-content"},g5={class:"pwa-prompt-actions"},m5={key:2,class:"pwa-prompt offline-ready"},v5={class:"pwa-prompt-content"},y5={class:"pwa-prompt-actions"},w5={__name:"PWAPrompt",setup(t){const{needRefresh:e,offlineReady:n,canInstall:o,installPWA:r,updateApp:s,closeUpdatePrompt:a,closeInstallPrompt:u,closeOfflinePrompt:c}=Ai();Fn(e,C=>{console.log("PWA needRefresh changed:",C)}),Fn(n,C=>{console.log("PWA offlineReady changed:",C)}),Fn(o,C=>{console.log("PWA canInstall changed:",C)});const p=async()=>{console.log("Update button clicked");try{await s()}catch(C){console.error("Update failed:",C)}};return(C,v)=>(f(),y(re,null,[ct(o)?(f(),y("div",u5,[i("div",c5,[v[4]||(v[4]=i("div",{class:"pwa-prompt-icon"},"",-1)),v[5]||(v[5]=i("div",{class:"pwa-prompt-text"},[i("h3",null,"Install Wavemaker Cards"),i("p",null,"Install this app for a better experience with offline access and faster loading.")],-1)),i("div",p5,[i("button",{onClick:v[0]||(v[0]=(...H)=>ct(r)&&ct(r)(...H)),class:"pwa-btn primary"},"Install"),i("button",{onClick:v[1]||(v[1]=(...H)=>ct(u)&&ct(u)(...H)),class:"pwa-btn secondary"},"Not now")])])])):V("",!0),ct(e)?(f(),y("div",h5,[i("div",f5,[v[6]||(v[6]=i("div",{class:"pwa-prompt-icon"},"",-1)),v[7]||(v[7]=i("div",{class:"pwa-prompt-text"},[i("h3",null,"Update Available"),i("p",null,"A new version of Wavemaker Cards is available. Update now to get the latest features and improvements.")],-1)),i("div",g5,[i("button",{onClick:p,class:"pwa-btn primary"},"Update Now"),i("button",{onClick:v[2]||(v[2]=(...H)=>ct(a)&&ct(a)(...H)),class:"pwa-btn secondary"},"Later")])])])):V("",!0),ct(n)?(f(),y("div",m5,[i("div",v5,[v[8]||(v[8]=i("div",{class:"pwa-prompt-icon"},"",-1)),v[9]||(v[9]=i("div",{class:"pwa-prompt-text"},[i("h3",null,"Ready to work offline"),i("p",null,"App cached successfully. You can now use Wavemaker Cards offline.")],-1)),i("div",y5,[i("button",{onClick:v[3]||(v[3]=(...H)=>ct(c)&&ct(c)(...H)),class:"pwa-btn primary"},"Got it")])])])):V("",!0)],64))}},b5=He(w5,[["__scopeId","data-v-e702a304"]]),C5={name:"App",mixins:[dd,Md,Td,Sd],setup(){const{initVitePWA:t}=Ai(),{loadGoogleFont:e,preloadFonts:n,getFontSuggestions:o}=js();return{initVitePWA:t,loadGoogleFont:e,preloadFonts:n,getFontSuggestions:o}},components:{PopupManager:m1,WelcomeScreen:B1,Start:vy,CardModal:Ny,ImageManager:e5,Version3Import:d5,PWAPrompt:b5},watch:{"$root.session.settings.documentprefs.font":{async handler(t){if(t)try{await this.loadGoogleFont(t),document.documentElement.style.setProperty("--pageEditor-font",t)}catch(e){console.warn("Font loading failed, using fallback:",e),document.documentElement.style.setProperty("--pageEditor-font",t)}},deep:!1},"$root.session.settings.documentprefs.distractionfree_font":{async handler(t){if(t)try{await this.loadGoogleFont(t),document.documentElement.style.setProperty("--distractionfree-font",t)}catch(e){console.warn("Distraction-free font loading failed, using fallback:",e),document.documentElement.style.setProperty("--distractionfree-font",t)}},deep:!1}},data(){return{myPackage:ld,EditCardrefresh:null,theme:"default",themeList:[{name:"Default Wavemaker",file:"wavemaker"},{name:"Light Theme",file:"light"},{name:"Blue Sky",file:"bluesky"}],lhspin:!0,rhspin:!0,navbar:!1,togglenav:!0,show:!1,popup:{name:null},lang:"en",language:Hy,setlang:null,uuid:Nl,session:{},navshow:!0,imagemanager:!1,v3import:!1,fullWordCount:0}},methods:{async updateDocumentFont(){var e,n;const t=(n=(e=this.$root.session)==null?void 0:e.settings)==null?void 0:n.documentprefs;if(t){if(t.font)try{await this.loadGoogleFont(t.font),document.documentElement.style.setProperty("--pageEditor-font",t.font)}catch(o){console.warn("Main font loading failed, using fallback:",o),document.documentElement.style.setProperty("--pageEditor-font",t.font)}if(t.distractionfree_font)try{await this.loadGoogleFont(t.distractionfree_font),document.documentElement.style.setProperty("--distractionfree-font",t.distractionfree_font)}catch(o){console.warn("Distraction-free font loading failed, using fallback:",o),document.documentElement.style.setProperty("--distractionfree-font",t.distractionfree_font)}}},async calcFullWordCount(){let t=0;this.$root.session.writer.selected&&(await this.$root.db.Files.where({writerid:this.$root.session.writer.selected.uuid}).toArray()).forEach(a=>{let u=0;a.wordcount&&(u=parseInt(a.wordcount)),a.excludefromwordcount||(t=t+parseInt(u))}),this.fullWordCount=t,this.$root.session.writer.selected.log||(this.$root.session.writer.selected.log={});var e=new Date,n=String(e.getDate()).padStart(2,"0"),o=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear();e=r+"-"+o+"-"+n,this.$root.session.writer.selected.log[e]=this.fullWordCount},switchLang(){localStorage.setItem("wmLang",this.lang),this.updateLang()},updateLang(){this.setlang=this.$root.language[this.$root.lang]},openInNew(t){var e=window.innerWidth-window.innerWidth/100*5,n=window.innerHeight-window.innerHeight/100*5;if(t==="planningboard")return window.open("/?sc="+t+"&sel="+this.$root.session.writer.selected.uuid,"PlanningBoard","width="+e+"px,height="+n+"px"),!1;window.open(t,"Info","width="+e+"px,height="+n+"px")},wordCounter(t){let e=0;return t&&(this.lang==="cn"?(t=t.replace(/(<([^>]+)>)/gi,""),t.replaceAll(" ",""),e=parseInt(t.length*.7)):(t=t.replace(/(<([^>]+)>)/gi," "),e=t.split(" ").filter(function(n){return n!=""}).length)),e},niceDate(t){var e=new Date(t);return e.getDate()+"/"+e.getMonth()+"/"+e.getFullYear()+" - "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()},screensizefixes(){let t=window.innerWidth;t<720&&(this.lhspin=!1,this.rhspin=!1,this.navbar=!1,this.togglenav=!0),t>720&&(this.lhspin=!0,this.rhspin=!0,this.navbar=!0,this.togglenav=!1)},SpecialKeys(t){t.shiftKey&&t.key==="Enter"&&console.log("Session :",JSON.parse(JSON.stringify(this.session)))},switchTheme(){document.getElementById("themeSwitch").href="themes/"+this.theme+".css",localStorage.setItem("wmTheme",this.theme)},unloadEvent(t){t.preventDefault(),t.returnValue=""}},async mounted(){var e,n;let t=await this.$root.db.Settings.toArray();t&&(this.$root.session.settings=t[0]),localStorage.getItem("wmTheme")&&(this.theme=localStorage.getItem("wmTheme"),this.switchTheme()),localStorage.getItem("wmLang")&&localStorage.getItem("wmLang")!="undefined"?this.lang=localStorage.getItem("wmLang"):this.lang="en",this.updateLang(),window.addEventListener("keydown",this.SpecialKeys),document.body.dir=this.$root.setlang.textdirection,this.screensizefixes(),(n=(e=this.$root.session)==null?void 0:e.settings)!=null&&n.documentprefs&&this.updateDocumentFont(),this.initVitePWA()},created(){window.addEventListener("resize",this.screensizefixes)},unmount(){window.removeEventListener("resize",this.screensizefixes)}},L5={key:0},$5={key:1};function k5(t,e,n,o,r,s){const a=te("Start"),u=te("WelcomeScreen"),c=te("CardModal"),p=te("ImageManager"),C=te("PopupManager"),v=te("PWAPrompt"),H=te("Version3Import");return f(),y(re,null,[this.$root.session.settings?(f(),y("div",L5,[De(a)])):V("",!0),this.$root.session.settings?V("",!0):(f(),y("div",$5,[De(u)])),t.$root.session.EditCard?(f(),Be(c,{key:t.$root.EditCardrefresh})):V("",!0),t.$root.imagemanager?(f(),Be(p,{key:3})):V("",!0),De(C),De(v),r.v3import?(f(),Be(H,{key:4})):V("",!0),i("input",{type:"file",id:"wavemakerHiddenPicker",name:"upload",accept:".wm4",onChange:e[0]||(e[0]=(...x)=>t.file_load&&t.file_load(...x)),style:{display:"none"}},null,32)],64)}const x5=He(C5,[["render",k5]]);var Yt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function H5(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dr={exports:{}};/*!
* sweetalert2 v11.4.4
* Released under the MIT License.
*/(function(t,e){(function(n,o){t.exports=o()})(Yt,function(){const n="SweetAlert2:",o=l=>{const d=[];for(let h=0;h<l.length;h++)d.indexOf(l[h])===-1&&d.push(l[h]);return d},r=l=>l.charAt(0).toUpperCase()+l.slice(1),s=l=>Array.prototype.slice.call(l),a=l=>{console.warn("".concat(n," ").concat(typeof l=="object"?l.join(" "):l))},u=l=>{console.error("".concat(n," ").concat(l))},c=[],p=l=>{c.includes(l)||(c.push(l),a(l))},C=(l,d)=>{p('"'.concat(l,'" is deprecated and will be removed in the next major release. Please use "').concat(d,'" instead.'))},v=l=>typeof l=="function"?l():l,H=l=>l&&typeof l.toPromise=="function",x=l=>H(l)?l.toPromise():Promise.resolve(l),T=l=>l&&Promise.resolve(l)===l,I={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},se=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],E={},ee=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ne=l=>Object.prototype.hasOwnProperty.call(I,l),ae=l=>se.indexOf(l)!==-1,q=l=>E[l],ce=l=>{ne(l)||a('Unknown parameter "'.concat(l,'"'))},_=l=>{ee.includes(l)&&a('The parameter "'.concat(l,'" is incompatible with toasts'))},M=l=>{q(l)&&C(l,q(l))},L=l=>{!l.backdrop&&l.allowOutsideClick&&a('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const d in l)ce(d),l.toast&&_(d),M(d)},g="swal2-",S=l=>{const d={};for(const h in l)d[l[h]]=g+l[h];return d},w=S(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),fe=S(["success","warning","info","question","error"]),oe=()=>document.body.querySelector(".".concat(w.container)),Ie=l=>{const d=oe();return d?d.querySelector(l):null},ge=l=>Ie(".".concat(l)),D=()=>ge(w.popup),U=()=>ge(w.icon),ie=()=>ge(w.title),Le=()=>ge(w["html-container"]),Se=()=>ge(w.image),me=()=>ge(w["progress-steps"]),R=()=>ge(w["validation-message"]),N=()=>Ie(".".concat(w.actions," .").concat(w.confirm)),G=()=>Ie(".".concat(w.actions," .").concat(w.deny)),we=()=>ge(w["input-label"]),be=()=>Ie(".".concat(w.loader)),$=()=>Ie(".".concat(w.actions," .").concat(w.cancel)),m=()=>ge(w.actions),A=()=>ge(w.footer),Z=()=>ge(w["timer-progress-bar"]),B=()=>ge(w.close),O=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Q=()=>{const l=s(D().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((h,b)=>{const F=parseInt(h.getAttribute("tabindex")),pe=parseInt(b.getAttribute("tabindex"));return F>pe?1:F<pe?-1:0}),d=s(D().querySelectorAll(O)).filter(h=>h.getAttribute("tabindex")!=="-1");return o(l.concat(d)).filter(h=>de(h))},K=()=>he(document.body,w.shown)&&!he(document.body,w["toast-shown"])&&!he(document.body,w["no-backdrop"]),Me=()=>D()&&he(D(),w.toast),X=()=>D().hasAttribute("data-loading"),Y={previousBodyPadding:null},P=(l,d)=>{if(l.textContent="",d){const h=new DOMParser().parseFromString(d,"text/html");s(h.querySelector("head").childNodes).forEach(b=>{l.appendChild(b)}),s(h.querySelector("body").childNodes).forEach(b=>{l.appendChild(b)})}},he=(l,d)=>{if(!d)return!1;const h=d.split(/\s+/);for(let b=0;b<h.length;b++)if(!l.classList.contains(h[b]))return!1;return!0},Te=(l,d)=>{s(l.classList).forEach(h=>{!Object.values(w).includes(h)&&!Object.values(fe).includes(h)&&!Object.values(d.showClass).includes(h)&&l.classList.remove(h)})},j=(l,d,h)=>{if(Te(l,d),d.customClass&&d.customClass[h]){if(typeof d.customClass[h]!="string"&&!d.customClass[h].forEach)return a("Invalid type of customClass.".concat(h,'! Expected string or iterable object, got "').concat(typeof d.customClass[h],'"'));le(l,d.customClass[h])}},Fe=(l,d)=>{if(!d)return null;switch(d){case"select":case"textarea":case"file":return l.querySelector(".".concat(w.popup," > .").concat(w[d]));case"checkbox":return l.querySelector(".".concat(w.popup," > .").concat(w.checkbox," input"));case"radio":return l.querySelector(".".concat(w.popup," > .").concat(w.radio," input:checked"))||l.querySelector(".".concat(w.popup," > .").concat(w.radio," input:first-child"));case"range":return l.querySelector(".".concat(w.popup," > .").concat(w.range," input"));default:return l.querySelector(".".concat(w.popup," > .").concat(w.input))}},Ue=l=>{if(l.focus(),l.type!=="file"){const d=l.value;l.value="",l.value=d}},dt=(l,d,h)=>{!l||!d||(typeof d=="string"&&(d=d.split(/\s+/).filter(Boolean)),d.forEach(b=>{Array.isArray(l)?l.forEach(F=>{h?F.classList.add(b):F.classList.remove(b)}):h?l.classList.add(b):l.classList.remove(b)}))},le=(l,d)=>{dt(l,d,!0)},xe=(l,d)=>{dt(l,d,!1)},We=(l,d)=>{const h=s(l.childNodes);for(let b=0;b<h.length;b++)if(he(h[b],d))return h[b]},nt=(l,d,h)=>{h==="".concat(parseInt(h))&&(h=parseInt(h)),h||parseInt(h)===0?l.style[d]=typeof h=="number"?"".concat(h,"px"):h:l.style.removeProperty(d)},_e=function(l){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";l.style.display=d},Ze=l=>{l.style.display="none"},ve=(l,d,h,b)=>{const F=l.querySelector(d);F&&(F.style[h]=b)},J=(l,d,h)=>{d?_e(l,h):Ze(l)},de=l=>!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)),Ce=()=>!de(N())&&!de(G())&&!de($()),Ne=l=>l.scrollHeight>l.clientHeight,ze=l=>{const d=window.getComputedStyle(l),h=parseFloat(d.getPropertyValue("animation-duration")||"0"),b=parseFloat(d.getPropertyValue("transition-duration")||"0");return h>0||b>0},mt=function(l){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const h=Z();de(h)&&(d&&(h.style.transition="none",h.style.width="100%"),setTimeout(()=>{h.style.transition="width ".concat(l/1e3,"s linear"),h.style.width="0%"},10))},Ge=()=>{const l=Z(),d=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";const h=parseInt(window.getComputedStyle(l).width),b=d/h*100;l.style.removeProperty("transition"),l.style.width="".concat(b,"%")},it=()=>typeof window>"u"||typeof document>"u",ht=100,W={},st=()=>{W.previousActiveElement&&W.previousActiveElement.focus?(W.previousActiveElement.focus(),W.previousActiveElement=null):document.body&&document.body.focus()},$t=l=>new Promise(d=>{if(!l)return d();const h=window.scrollX,b=window.scrollY;W.restoreFocusTimeout=setTimeout(()=>{st(),d()},ht),window.scrollTo(h,b)}),nn=`
 <div aria-labelledby="`.concat(w.title,'" aria-describedby="').concat(w["html-container"],'" class="').concat(w.popup,`" tabindex="-1">
   <button type="button" class="`).concat(w.close,`"></button>
   <ul class="`).concat(w["progress-steps"],`"></ul>
   <div class="`).concat(w.icon,`"></div>
   <img class="`).concat(w.image,`" />
   <h2 class="`).concat(w.title,'" id="').concat(w.title,`"></h2>
   <div class="`).concat(w["html-container"],'" id="').concat(w["html-container"],`"></div>
   <input class="`).concat(w.input,`" />
   <input type="file" class="`).concat(w.file,`" />
   <div class="`).concat(w.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(w.select,`"></select>
   <div class="`).concat(w.radio,`"></div>
   <label for="`).concat(w.checkbox,'" class="').concat(w.checkbox,`">
     <input type="checkbox" />
     <span class="`).concat(w.label,`"></span>
   </label>
   <textarea class="`).concat(w.textarea,`"></textarea>
   <div class="`).concat(w["validation-message"],'" id="').concat(w["validation-message"],`"></div>
   <div class="`).concat(w.actions,`">
     <div class="`).concat(w.loader,`"></div>
     <button type="button" class="`).concat(w.confirm,`"></button>
     <button type="button" class="`).concat(w.deny,`"></button>
     <button type="button" class="`).concat(w.cancel,`"></button>
   </div>
   <div class="`).concat(w.footer,`"></div>
   <div class="`).concat(w["timer-progress-bar-container"],`">
     <div class="`).concat(w["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),Dt=()=>{const l=oe();return l?(l.remove(),xe([document.documentElement,document.body],[w["no-backdrop"],w["toast-shown"],w["has-column"]]),!0):!1},Ke=()=>{W.currentInstance.resetValidationMessage()},En=()=>{const l=D(),d=We(l,w.input),h=We(l,w.file),b=l.querySelector(".".concat(w.range," input")),F=l.querySelector(".".concat(w.range," output")),pe=We(l,w.select),et=l.querySelector(".".concat(w.checkbox," input")),xt=We(l,w.textarea);d.oninput=Ke,h.onchange=Ke,pe.onchange=Ke,et.onchange=Ke,xt.oninput=Ke,b.oninput=()=>{Ke(),F.value=b.value},b.onchange=()=>{Ke(),b.nextSibling.value=b.value}},Bo=l=>typeof l=="string"?document.querySelector(l):l,Io=l=>{const d=D();d.setAttribute("role",l.toast?"alert":"dialog"),d.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||d.setAttribute("aria-modal","true")},Do=l=>{window.getComputedStyle(l).direction==="rtl"&&le(oe(),w.rtl)},Bn=l=>{const d=Dt();if(it()){u("SweetAlert2 requires document to initialize");return}const h=document.createElement("div");h.className=w.container,d&&le(h,w["no-transition"]),P(h,nn);const b=Bo(l.target);b.appendChild(h),Io(l),Do(b),En()},Mt=(l,d)=>{l instanceof HTMLElement?d.appendChild(l):typeof l=="object"?rt(l,d):l&&P(d,l)},rt=(l,d)=>{l.jquery?_t(d,l):P(d,l.toString())},_t=(l,d)=>{if(l.textContent="",0 in d)for(let h=0;h in d;h++)l.appendChild(d[h].cloneNode(!0));else l.appendChild(d.cloneNode(!0))},kt=(()=>{if(it())return!1;const l=document.createElement("div"),d={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const h in d)if(Object.prototype.hasOwnProperty.call(d,h)&&typeof l.style[h]<"u")return d[h];return!1})(),mn=()=>{const l=document.createElement("div");l.className=w["scrollbar-measure"],document.body.appendChild(l);const d=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),d},ur=(l,d)=>{const h=m(),b=be();!d.showConfirmButton&&!d.showDenyButton&&!d.showCancelButton?Ze(h):_e(h),j(h,d,"actions"),cr(h,b,d),P(b,d.loaderHtml),j(b,d,"loader")};function cr(l,d,h){const b=N(),F=G(),pe=$();_o(b,"confirm",h),_o(F,"deny",h),_o(pe,"cancel",h),pr(b,F,pe,h),h.reverseButtons&&(h.toast?(l.insertBefore(pe,b),l.insertBefore(F,b)):(l.insertBefore(pe,d),l.insertBefore(F,d),l.insertBefore(b,d)))}function pr(l,d,h,b){if(!b.buttonsStyling)return xe([l,d,h],w.styled);le([l,d,h],w.styled),b.confirmButtonColor&&(l.style.backgroundColor=b.confirmButtonColor,le(l,w["default-outline"])),b.denyButtonColor&&(d.style.backgroundColor=b.denyButtonColor,le(d,w["default-outline"])),b.cancelButtonColor&&(h.style.backgroundColor=b.cancelButtonColor,le(h,w["default-outline"]))}function _o(l,d,h){J(l,h["show".concat(r(d),"Button")],"inline-block"),P(l,h["".concat(d,"ButtonText")]),l.setAttribute("aria-label",h["".concat(d,"ButtonAriaLabel")]),l.className=w[d],j(l,h,"".concat(d,"Button")),le(l,h["".concat(d,"ButtonClass")])}function hr(l,d){typeof d=="string"?l.style.background=d:d||le([document.documentElement,document.body],w["no-backdrop"])}function fr(l,d){d in w?le(l,w[d]):(a('The "position" parameter is not valid, defaulting to "center"'),le(l,w.center))}function gr(l,d){if(d&&typeof d=="string"){const h="grow-".concat(d);h in w&&le(l,w[h])}}const mr=(l,d)=>{const h=oe();h&&(hr(h,d.backdrop),fr(h,d.position),gr(h,d.grow),j(h,d,"container"))};var Ee={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const vr=["input","file","range","select","radio","checkbox","textarea"],yr=(l,d)=>{const h=D(),b=Ee.innerParams.get(l),F=!b||d.input!==b.input;vr.forEach(pe=>{const et=w[pe],xt=We(h,et);Cr(pe,d.inputAttributes),xt.className=et,F&&Ze(xt)}),d.input&&(F&&wr(d),Lr(d))},wr=l=>{if(!bt[l.input])return u('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(l.input,'"'));const d=Di(l.input),h=bt[l.input](d,l);_e(h),setTimeout(()=>{Ue(h)})},br=l=>{for(let d=0;d<l.attributes.length;d++){const h=l.attributes[d].name;["type","value","style"].includes(h)||l.removeAttribute(h)}},Cr=(l,d)=>{const h=Fe(D(),l);if(h){br(h);for(const b in d)h.setAttribute(b,d[b])}},Lr=l=>{const d=Di(l.input);l.customClass&&le(d,l.customClass.input)},Po=(l,d)=>{(!l.placeholder||d.inputPlaceholder)&&(l.placeholder=d.inputPlaceholder)},In=(l,d,h)=>{if(h.inputLabel){l.id=w.input;const b=document.createElement("label"),F=w["input-label"];b.setAttribute("for",l.id),b.className=F,le(b,h.customClass.inputLabel),b.innerText=h.inputLabel,d.insertAdjacentElement("beforebegin",b)}},Di=l=>{const d=w[l]?w[l]:w.input;return We(D(),d)},bt={};bt.text=bt.email=bt.password=bt.number=bt.tel=bt.url=(l,d)=>(typeof d.inputValue=="string"||typeof d.inputValue=="number"?l.value=d.inputValue:T(d.inputValue)||a('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof d.inputValue,'"')),In(l,l,d),Po(l,d),l.type=d.input,l),bt.file=(l,d)=>(In(l,l,d),Po(l,d),l),bt.range=(l,d)=>{const h=l.querySelector("input"),b=l.querySelector("output");return h.value=d.inputValue,h.type=d.input,b.value=d.inputValue,In(h,l,d),l},bt.select=(l,d)=>{if(l.textContent="",d.inputPlaceholder){const h=document.createElement("option");P(h,d.inputPlaceholder),h.value="",h.disabled=!0,h.selected=!0,l.appendChild(h)}return In(l,l,d),l},bt.radio=l=>(l.textContent="",l),bt.checkbox=(l,d)=>{const h=Fe(D(),"checkbox");h.value="1",h.id=w.checkbox,h.checked=!!d.inputValue;const b=l.querySelector("span");return P(b,d.inputPlaceholder),l},bt.textarea=(l,d)=>{l.value=d.inputValue,Po(l,d),In(l,l,d);const h=b=>parseInt(window.getComputedStyle(b).marginLeft)+parseInt(window.getComputedStyle(b).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const b=parseInt(window.getComputedStyle(D()).width),F=()=>{const pe=l.offsetWidth+h(l);pe>b?D().style.width="".concat(pe,"px"):D().style.width=null};new MutationObserver(F).observe(l,{attributes:!0,attributeFilter:["style"]})}}),l};const $r=(l,d)=>{const h=Le();j(h,d,"htmlContainer"),d.html?(Mt(d.html,h),_e(h,"block")):d.text?(h.textContent=d.text,_e(h,"block")):Ze(h),yr(l,d)},kr=(l,d)=>{const h=A();J(h,d.footer),d.footer&&Mt(d.footer,h),j(h,d,"footer")},xr=(l,d)=>{const h=B();P(h,d.closeButtonHtml),j(h,d,"closeButton"),J(h,d.showCloseButton),h.setAttribute("aria-label",d.closeButtonAriaLabel)},Hr=(l,d)=>{const h=Ee.innerParams.get(l),b=U();if(h&&d.icon===h.icon){Pi(b,d),_i(b,d);return}if(!d.icon&&!d.iconHtml)return Ze(b);if(d.icon&&Object.keys(fe).indexOf(d.icon)===-1)return u('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(d.icon,'"')),Ze(b);_e(b),Pi(b,d),_i(b,d),le(b,d.showClass.icon)},_i=(l,d)=>{for(const h in fe)d.icon!==h&&xe(l,fe[h]);le(l,fe[d.icon]),Sr(l,d),Ar(),j(l,d,"icon")},Ar=()=>{const l=D(),d=window.getComputedStyle(l).getPropertyValue("background-color"),h=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let b=0;b<h.length;b++)h[b].style.backgroundColor=d},Vr=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Mr=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Pi=(l,d)=>{l.textContent="",d.iconHtml?P(l,Oi(d.iconHtml)):d.icon==="success"?P(l,Vr):d.icon==="error"?P(l,Mr):P(l,Oi({question:"?",warning:"!",info:"i"}[d.icon]))},Sr=(l,d)=>{if(d.iconColor){l.style.color=d.iconColor,l.style.borderColor=d.iconColor;for(const h of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ve(l,h,"backgroundColor",d.iconColor);ve(l,".swal2-success-ring","borderColor",d.iconColor)}},Oi=l=>'<div class="'.concat(w["icon-content"],'">').concat(l,"</div>"),Tr=(l,d)=>{const h=Se();if(!d.imageUrl)return Ze(h);_e(h,""),h.setAttribute("src",d.imageUrl),h.setAttribute("alt",d.imageAlt),nt(h,"width",d.imageWidth),nt(h,"height",d.imageHeight),h.className=w.image,j(h,d,"image")},Er=l=>{const d=document.createElement("li");return le(d,w["progress-step"]),P(d,l),d},Br=l=>{const d=document.createElement("li");return le(d,w["progress-step-line"]),l.progressStepsDistance&&(d.style.width=l.progressStepsDistance),d},Ir=(l,d)=>{const h=me();if(!d.progressSteps||d.progressSteps.length===0)return Ze(h);_e(h),h.textContent="",d.currentProgressStep>=d.progressSteps.length&&a("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),d.progressSteps.forEach((b,F)=>{const pe=Er(b);if(h.appendChild(pe),F===d.currentProgressStep&&le(pe,w["active-progress-step"]),F!==d.progressSteps.length-1){const et=Br(d);h.appendChild(et)}})},Dr=(l,d)=>{const h=ie();J(h,d.title||d.titleText,"block"),d.title&&Mt(d.title,h),d.titleText&&(h.innerText=d.titleText),j(h,d,"title")},_r=(l,d)=>{const h=oe(),b=D();d.toast?(nt(h,"width",d.width),b.style.width="100%",b.insertBefore(be(),U())):nt(b,"width",d.width),nt(b,"padding",d.padding),d.color&&(b.style.color=d.color),d.background&&(b.style.background=d.background),Ze(R()),Pr(b,d)},Pr=(l,d)=>{l.className="".concat(w.popup," ").concat(de(l)?d.showClass.popup:""),d.toast?(le([document.documentElement,document.body],w["toast-shown"]),le(l,w.toast)):le(l,w.modal),j(l,d,"popup"),typeof d.customClass=="string"&&le(l,d.customClass),d.icon&&le(l,w["icon-".concat(d.icon)])},Ni=(l,d)=>{_r(l,d),mr(l,d),Ir(l,d),Hr(l,d),Tr(l,d),Dr(l,d),xr(l,d),$r(l,d),ur(l,d),kr(l,d),typeof d.didRender=="function"&&d.didRender(D())},vn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Or=()=>{s(document.body.children).forEach(l=>{l===oe()||l.contains(oe())||(l.hasAttribute("aria-hidden")&&l.setAttribute("data-previous-aria-hidden",l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))})},Ri=()=>{s(document.body.children).forEach(l=>{l.hasAttribute("data-previous-aria-hidden")?(l.setAttribute("aria-hidden",l.getAttribute("data-previous-aria-hidden")),l.removeAttribute("data-previous-aria-hidden")):l.removeAttribute("aria-hidden")})},Fi=["swal-title","swal-html","swal-footer"],Nr=l=>{const d=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!d)return{};const h=d.content;return Gr(h),Object.assign(Rr(h),Fr(h),jr(h),Ur(h),zr(h),Wr(h,Fi))},Rr=l=>{const d={};return s(l.querySelectorAll("swal-param")).forEach(h=>{on(h,["name","value"]);const b=h.getAttribute("name"),F=h.getAttribute("value");typeof I[b]=="boolean"&&F==="false"&&(d[b]=!1),typeof I[b]=="object"&&(d[b]=JSON.parse(F))}),d},Fr=l=>{const d={};return s(l.querySelectorAll("swal-button")).forEach(h=>{on(h,["type","color","aria-label"]);const b=h.getAttribute("type");d["".concat(b,"ButtonText")]=h.innerHTML,d["show".concat(r(b),"Button")]=!0,h.hasAttribute("color")&&(d["".concat(b,"ButtonColor")]=h.getAttribute("color")),h.hasAttribute("aria-label")&&(d["".concat(b,"ButtonAriaLabel")]=h.getAttribute("aria-label"))}),d},jr=l=>{const d={},h=l.querySelector("swal-image");return h&&(on(h,["src","width","height","alt"]),h.hasAttribute("src")&&(d.imageUrl=h.getAttribute("src")),h.hasAttribute("width")&&(d.imageWidth=h.getAttribute("width")),h.hasAttribute("height")&&(d.imageHeight=h.getAttribute("height")),h.hasAttribute("alt")&&(d.imageAlt=h.getAttribute("alt"))),d},Ur=l=>{const d={},h=l.querySelector("swal-icon");return h&&(on(h,["type","color"]),h.hasAttribute("type")&&(d.icon=h.getAttribute("type")),h.hasAttribute("color")&&(d.iconColor=h.getAttribute("color")),d.iconHtml=h.innerHTML),d},zr=l=>{const d={},h=l.querySelector("swal-input");h&&(on(h,["type","label","placeholder","value"]),d.input=h.getAttribute("type")||"text",h.hasAttribute("label")&&(d.inputLabel=h.getAttribute("label")),h.hasAttribute("placeholder")&&(d.inputPlaceholder=h.getAttribute("placeholder")),h.hasAttribute("value")&&(d.inputValue=h.getAttribute("value")));const b=l.querySelectorAll("swal-input-option");return b.length&&(d.inputOptions={},s(b).forEach(F=>{on(F,["value"]);const pe=F.getAttribute("value"),et=F.innerHTML;d.inputOptions[pe]=et})),d},Wr=(l,d)=>{const h={};for(const b in d){const F=d[b],pe=l.querySelector(F);pe&&(on(pe,[]),h[F.replace(/^swal-/,"")]=pe.innerHTML.trim())}return h},Gr=l=>{const d=Fi.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);s(l.children).forEach(h=>{const b=h.tagName.toLowerCase();d.indexOf(b)===-1&&a("Unrecognized element <".concat(b,">"))})},on=(l,d)=>{s(l.attributes).forEach(h=>{d.indexOf(h.name)===-1&&a(['Unrecognized attribute "'.concat(h.name,'" on <').concat(l.tagName.toLowerCase(),">."),"".concat(d.length?"Allowed attributes are: ".concat(d.join(", ")):"To set the value, use HTML within the element.")])})};var ji={email:(l,d)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(l)?Promise.resolve():Promise.resolve(d||"Invalid email address"),url:(l,d)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(d||"Invalid URL")};function qr(l){l.inputValidator||Object.keys(ji).forEach(d=>{l.input===d&&(l.inputValidator=ji[d])})}function Zr(l){(!l.target||typeof l.target=="string"&&!document.querySelector(l.target)||typeof l.target!="string"&&!l.target.appendChild)&&(a('Target parameter is not valid, defaulting to "body"'),l.target="body")}function Kr(l){qr(l),l.showLoaderOnConfirm&&!l.preConfirm&&a(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Zr(l),typeof l.title=="string"&&(l.title=l.title.split(`
`).join("<br />")),Bn(l)}class Yr{constructor(d,h){this.callback=d,this.remaining=h,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(d){const h=this.running;return h&&this.stop(),this.remaining+=d,h&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Jr=()=>{Y.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(Y.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Y.previousBodyPadding+mn(),"px"))},Qr=()=>{Y.previousBodyPadding!==null&&(document.body.style.paddingRight="".concat(Y.previousBodyPadding,"px"),Y.previousBodyPadding=null)},Xr=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!he(document.body,w.iosfix)){const l=document.body.scrollTop;document.body.style.top="".concat(l*-1,"px"),le(document.body,w.iosfix),ta(),ea()}},ea=()=>{const l=navigator.userAgent,d=!!l.match(/iPad/i)||!!l.match(/iPhone/i),h=!!l.match(/WebKit/i);d&&h&&!l.match(/CriOS/i)&&D().scrollHeight>window.innerHeight-44&&(oe().style.paddingBottom="".concat(44,"px"))},ta=()=>{const l=oe();let d;l.ontouchstart=h=>{d=na(h)},l.ontouchmove=h=>{d&&(h.preventDefault(),h.stopPropagation())}},na=l=>{const d=l.target,h=oe();return oa(l)||ia(l)?!1:d===h||!Ne(h)&&d.tagName!=="INPUT"&&d.tagName!=="TEXTAREA"&&!(Ne(Le())&&Le().contains(d))},oa=l=>l.touches&&l.touches.length&&l.touches[0].touchType==="stylus",ia=l=>l.touches&&l.touches.length>1,sa=()=>{if(he(document.body,w.iosfix)){const l=parseInt(document.body.style.top,10);xe(document.body,w.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},Ui=10,ra=l=>{const d=oe(),h=D();typeof l.willOpen=="function"&&l.willOpen(h);const b=window.getComputedStyle(document.body).overflowY;da(d,h,l),setTimeout(()=>{aa(d,h)},Ui),K()&&(la(d,l.scrollbarPadding,b),Or()),!Me()&&!W.previousActiveElement&&(W.previousActiveElement=document.activeElement),typeof l.didOpen=="function"&&setTimeout(()=>l.didOpen(h)),xe(d,w["no-transition"])},zi=l=>{const d=D();if(l.target!==d)return;const h=oe();d.removeEventListener(kt,zi),h.style.overflowY="auto"},aa=(l,d)=>{kt&&ze(d)?(l.style.overflowY="hidden",d.addEventListener(kt,zi)):l.style.overflowY="auto"},la=(l,d,h)=>{Xr(),d&&h!=="hidden"&&Jr(),setTimeout(()=>{l.scrollTop=0})},da=(l,d,h)=>{le(l,h.showClass.backdrop),d.style.setProperty("opacity","0","important"),_e(d,"grid"),setTimeout(()=>{le(d,h.showClass.popup),d.style.removeProperty("opacity")},Ui),le([document.documentElement,document.body],w.shown),h.heightAuto&&h.backdrop&&!h.toast&&le([document.documentElement,document.body],w["height-auto"])},yn=l=>{let d=D();d||new no,d=D();const h=be();Me()?Ze(U()):ua(d,l),_e(h),d.setAttribute("data-loading",!0),d.setAttribute("aria-busy",!0),d.focus()},ua=(l,d)=>{const h=m(),b=be();!d&&de(N())&&(d=N()),_e(h),d&&(Ze(d),b.setAttribute("data-button-to-replace",d.className)),b.parentNode.insertBefore(b,d),le([l,h],w.loading)},ca=(l,d)=>{d.input==="select"||d.input==="radio"?ma(l,d):["text","email","number","tel","textarea"].includes(d.input)&&(H(d.inputValue)||T(d.inputValue))&&(yn(N()),va(l,d))},pa=(l,d)=>{const h=l.getInput();if(!h)return null;switch(d.input){case"checkbox":return ha(h);case"radio":return fa(h);case"file":return ga(h);default:return d.inputAutoTrim?h.value.trim():h.value}},ha=l=>l.checked?1:0,fa=l=>l.checked?l.value:null,ga=l=>l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null,ma=(l,d)=>{const h=D(),b=F=>ya[d.input](h,Oo(F),d);H(d.inputOptions)||T(d.inputOptions)?(yn(N()),x(d.inputOptions).then(F=>{l.hideLoading(),b(F)})):typeof d.inputOptions=="object"?b(d.inputOptions):u("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof d.inputOptions))},va=(l,d)=>{const h=l.getInput();Ze(h),x(d.inputValue).then(b=>{h.value=d.input==="number"?parseFloat(b)||0:"".concat(b),_e(h),h.focus(),l.hideLoading()}).catch(b=>{u("Error in inputValue promise: ".concat(b)),h.value="",_e(h),h.focus(),l.hideLoading()})},ya={select:(l,d,h)=>{const b=We(l,w.select),F=(pe,et,xt)=>{const vt=document.createElement("option");vt.value=xt,P(vt,et),vt.selected=Wi(xt,h.inputValue),pe.appendChild(vt)};d.forEach(pe=>{const et=pe[0],xt=pe[1];if(Array.isArray(xt)){const vt=document.createElement("optgroup");vt.label=et,vt.disabled=!1,b.appendChild(vt),xt.forEach(bn=>F(vt,bn[1],bn[0]))}else F(b,xt,et)}),b.focus()},radio:(l,d,h)=>{const b=We(l,w.radio);d.forEach(pe=>{const et=pe[0],xt=pe[1],vt=document.createElement("input"),bn=document.createElement("label");vt.type="radio",vt.name=w.radio,vt.value=et,Wi(et,h.inputValue)&&(vt.checked=!0);const Wo=document.createElement("span");P(Wo,xt),Wo.className=w.label,bn.appendChild(vt),bn.appendChild(Wo),b.appendChild(bn)});const F=b.querySelectorAll("input");F.length&&F[0].focus()}},Oo=l=>{const d=[];return typeof Map<"u"&&l instanceof Map?l.forEach((h,b)=>{let F=h;typeof F=="object"&&(F=Oo(F)),d.push([b,F])}):Object.keys(l).forEach(h=>{let b=l[h];typeof b=="object"&&(b=Oo(b)),d.push([h,b])}),d},Wi=(l,d)=>d&&d.toString()===l.toString();function Gi(){const l=Ee.innerParams.get(this);if(!l)return;const d=Ee.domCache.get(this);Ze(d.loader),Me()?l.icon&&_e(U()):wa(d),xe([d.popup,d.actions],w.loading),d.popup.removeAttribute("aria-busy"),d.popup.removeAttribute("data-loading"),d.confirmButton.disabled=!1,d.denyButton.disabled=!1,d.cancelButton.disabled=!1}const wa=l=>{const d=l.popup.getElementsByClassName(l.loader.getAttribute("data-button-to-replace"));d.length?_e(d[0],"inline-block"):Ce()&&Ze(l.actions)};function ba(l){const d=Ee.innerParams.get(l||this),h=Ee.domCache.get(l||this);return h?Fe(h.popup,d.input):null}var Dn={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function qi(l,d,h,b){Me()?Zi(l,b):($t(h).then(()=>Zi(l,b)),W.keydownTarget.removeEventListener("keydown",W.keydownHandler,{capture:W.keydownListenerCapture}),W.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(d.setAttribute("style","display:none !important"),d.removeAttribute("class"),d.innerHTML=""):d.remove(),K()&&(Qr(),sa(),Ri()),Ca()}function Ca(){xe([document.documentElement,document.body],[w.shown,w["height-auto"],w["no-backdrop"],w["toast-shown"]])}function eo(l){l=xa(l);const d=Dn.swalPromiseResolve.get(this),h=$a(this);this.isAwaitingPromise()?l.isDismissed||(_n(this),d(l)):h&&d(l)}function La(){return!!Ee.awaitingPromise.get(this)}const $a=l=>{const d=D();if(!d)return!1;const h=Ee.innerParams.get(l);if(!h||he(d,h.hideClass.popup))return!1;xe(d,h.showClass.popup),le(d,h.hideClass.popup);const b=oe();return xe(b,h.showClass.backdrop),le(b,h.hideClass.backdrop),Ha(l,d,h),!0};function ka(l){const d=Dn.swalPromiseReject.get(this);_n(this),d&&d(l)}const _n=l=>{l.isAwaitingPromise()&&(Ee.awaitingPromise.delete(l),Ee.innerParams.get(l)||l._destroy())},xa=l=>typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l),Ha=(l,d,h)=>{const b=oe(),F=kt&&ze(d);typeof h.willClose=="function"&&h.willClose(d),F?Aa(l,d,b,h.returnFocus,h.didClose):qi(l,b,h.returnFocus,h.didClose)},Aa=(l,d,h,b,F)=>{W.swalCloseEventFinishedCallback=qi.bind(null,l,h,b,F),d.addEventListener(kt,function(pe){pe.target===d&&(W.swalCloseEventFinishedCallback(),delete W.swalCloseEventFinishedCallback)})},Zi=(l,d)=>{setTimeout(()=>{typeof d=="function"&&d.bind(l.params)(),l._destroy()})};function Ki(l,d,h){const b=Ee.domCache.get(l);d.forEach(F=>{b[F].disabled=h})}function Yi(l,d){if(!l)return!1;if(l.type==="radio"){const h=l.parentNode.parentNode.querySelectorAll("input");for(let b=0;b<h.length;b++)h[b].disabled=d}else l.disabled=d}function Va(){Ki(this,["confirmButton","denyButton","cancelButton"],!1)}function Ma(){Ki(this,["confirmButton","denyButton","cancelButton"],!0)}function Sa(){return Yi(this.getInput(),!1)}function Ta(){return Yi(this.getInput(),!0)}function Ea(l){const d=Ee.domCache.get(this),h=Ee.innerParams.get(this);P(d.validationMessage,l),d.validationMessage.className=w["validation-message"],h.customClass&&h.customClass.validationMessage&&le(d.validationMessage,h.customClass.validationMessage),_e(d.validationMessage);const b=this.getInput();b&&(b.setAttribute("aria-invalid",!0),b.setAttribute("aria-describedby",w["validation-message"]),Ue(b),le(b,w.inputerror))}function Ba(){const l=Ee.domCache.get(this);l.validationMessage&&Ze(l.validationMessage);const d=this.getInput();d&&(d.removeAttribute("aria-invalid"),d.removeAttribute("aria-describedby"),xe(d,w.inputerror))}function Ia(){return Ee.domCache.get(this).progressSteps}function Da(l){const d=D(),h=Ee.innerParams.get(this);if(!d||he(d,h.hideClass.popup))return a("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const b=_a(l),F=Object.assign({},h,b);Ni(this,F),Ee.innerParams.set(this,F),Object.defineProperties(this,{params:{value:Object.assign({},this.params,l),writable:!1,enumerable:!0}})}const _a=l=>{const d={};return Object.keys(l).forEach(h=>{ae(h)?d[h]=l[h]:a('Invalid parameter to update: "'.concat(h,`". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js

If you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md`))}),d};function Pa(){const l=Ee.domCache.get(this),d=Ee.innerParams.get(this);if(!d){Ji(this);return}l.popup&&W.swalCloseEventFinishedCallback&&(W.swalCloseEventFinishedCallback(),delete W.swalCloseEventFinishedCallback),W.deferDisposalTimer&&(clearTimeout(W.deferDisposalTimer),delete W.deferDisposalTimer),typeof d.didDestroy=="function"&&d.didDestroy(),Oa(this)}const Oa=l=>{Ji(l),delete l.params,delete W.keydownHandler,delete W.keydownTarget,delete W.currentInstance},Ji=l=>{l.isAwaitingPromise()?(No(Ee,l),Ee.awaitingPromise.set(l,!0)):(No(Dn,l),No(Ee,l))},No=(l,d)=>{for(const h in l)l[h].delete(d)};var Qi=Object.freeze({hideLoading:Gi,disableLoading:Gi,getInput:ba,close:eo,isAwaitingPromise:La,rejectPromise:ka,handleAwaitingPromise:_n,closePopup:eo,closeModal:eo,closeToast:eo,enableButtons:Va,disableButtons:Ma,enableInput:Sa,disableInput:Ta,showValidationMessage:Ea,resetValidationMessage:Ba,getProgressSteps:Ia,update:Da,_destroy:Pa});const Na=l=>{const d=Ee.innerParams.get(l);l.disableButtons(),d.input?Xi(l,"confirm"):Fo(l,!0)},Ra=l=>{const d=Ee.innerParams.get(l);l.disableButtons(),d.returnInputValueOnDeny?Xi(l,"deny"):Ro(l,!1)},Fa=(l,d)=>{l.disableButtons(),d(vn.cancel)},Xi=(l,d)=>{const h=Ee.innerParams.get(l);if(!h.input)return u('The "input" parameter is needed to be set when using returnInputValueOn'.concat(r(d)));const b=pa(l,h);h.inputValidator?ja(l,b,d):l.getInput().checkValidity()?d==="deny"?Ro(l,b):Fo(l,b):(l.enableButtons(),l.showValidationMessage(h.validationMessage))},ja=(l,d,h)=>{const b=Ee.innerParams.get(l);l.disableInput(),Promise.resolve().then(()=>x(b.inputValidator(d,b.validationMessage))).then(F=>{l.enableButtons(),l.enableInput(),F?l.showValidationMessage(F):h==="deny"?Ro(l,d):Fo(l,d)})},Ro=(l,d)=>{const h=Ee.innerParams.get(l||void 0);h.showLoaderOnDeny&&yn(G()),h.preDeny?(Ee.awaitingPromise.set(l||void 0,!0),Promise.resolve().then(()=>x(h.preDeny(d,h.validationMessage))).then(b=>{b===!1?(l.hideLoading(),_n(l)):l.closePopup({isDenied:!0,value:typeof b>"u"?d:b})}).catch(b=>ts(l||void 0,b))):l.closePopup({isDenied:!0,value:d})},es=(l,d)=>{l.closePopup({isConfirmed:!0,value:d})},ts=(l,d)=>{l.rejectPromise(d)},Fo=(l,d)=>{const h=Ee.innerParams.get(l||void 0);h.showLoaderOnConfirm&&yn(),h.preConfirm?(l.resetValidationMessage(),Ee.awaitingPromise.set(l||void 0,!0),Promise.resolve().then(()=>x(h.preConfirm(d,h.validationMessage))).then(b=>{de(R())||b===!1?(l.hideLoading(),_n(l)):es(l,typeof b>"u"?d:b)}).catch(b=>ts(l||void 0,b))):es(l,d)},Ua=(l,d,h)=>{Ee.innerParams.get(l).toast?za(l,d,h):(Ga(d),qa(d),Za(l,d,h))},za=(l,d,h)=>{d.popup.onclick=()=>{const b=Ee.innerParams.get(l);b&&(Wa(b)||b.timer||b.input)||h(vn.close)}},Wa=l=>l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton;let to=!1;const Ga=l=>{l.popup.onmousedown=()=>{l.container.onmouseup=function(d){l.container.onmouseup=void 0,d.target===l.container&&(to=!0)}}},qa=l=>{l.container.onmousedown=()=>{l.popup.onmouseup=function(d){l.popup.onmouseup=void 0,(d.target===l.popup||l.popup.contains(d.target))&&(to=!0)}}},Za=(l,d,h)=>{d.container.onclick=b=>{const F=Ee.innerParams.get(l);if(to){to=!1;return}b.target===d.container&&v(F.allowOutsideClick)&&h(vn.backdrop)}},Ka=()=>de(D()),ns=()=>N()&&N().click(),Ya=()=>G()&&G().click(),Ja=()=>$()&&$().click(),Qa=(l,d,h,b)=>{d.keydownTarget&&d.keydownHandlerAdded&&(d.keydownTarget.removeEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!1),h.toast||(d.keydownHandler=F=>el(l,F,b),d.keydownTarget=h.keydownListenerCapture?window:D(),d.keydownListenerCapture=h.keydownListenerCapture,d.keydownTarget.addEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!0)},jo=(l,d,h)=>{const b=Q();if(b.length)return d=d+h,d===b.length?d=0:d===-1&&(d=b.length-1),b[d].focus();D().focus()},os=["ArrowRight","ArrowDown"],Xa=["ArrowLeft","ArrowUp"],el=(l,d,h)=>{const b=Ee.innerParams.get(l);b&&(d.isComposing||d.keyCode===229||(b.stopKeydownPropagation&&d.stopPropagation(),d.key==="Enter"?tl(l,d,b):d.key==="Tab"?nl(d,b):[...os,...Xa].includes(d.key)?ol(d.key):d.key==="Escape"&&il(d,b,h)))},tl=(l,d,h)=>{if(v(h.allowEnterKey)&&d.target&&l.getInput()&&d.target.outerHTML===l.getInput().outerHTML){if(["textarea","file"].includes(h.input))return;ns(),d.preventDefault()}},nl=(l,d)=>{const h=l.target,b=Q();let F=-1;for(let pe=0;pe<b.length;pe++)if(h===b[pe]){F=pe;break}l.shiftKey?jo(d,F,-1):jo(d,F,1),l.stopPropagation(),l.preventDefault()},ol=l=>{const d=N(),h=G(),b=$();if(![d,h,b].includes(document.activeElement))return;const F=os.includes(l)?"nextElementSibling":"previousElementSibling";let pe=document.activeElement;for(let et=0;et<m().children.length;et++){if(pe=pe[F],!pe)return;if(de(pe)&&pe instanceof HTMLButtonElement)break}pe instanceof HTMLButtonElement&&pe.focus()},il=(l,d,h)=>{v(d.allowEscapeKey)&&(l.preventDefault(),h(vn.esc))},sl=l=>typeof l=="object"&&l.jquery,is=l=>l instanceof Element||sl(l),rl=l=>{const d={};return typeof l[0]=="object"&&!is(l[0])?Object.assign(d,l[0]):["title","html","icon"].forEach((h,b)=>{const F=l[b];typeof F=="string"||is(F)?d[h]=F:F!==void 0&&u("Unexpected type of ".concat(h,'! Expected "string" or "Element", got ').concat(typeof F))}),d};function al(){const l=this;for(var d=arguments.length,h=new Array(d),b=0;b<d;b++)h[b]=arguments[b];return new l(...h)}function ll(l){class d extends this{_main(b,F){return super._main(b,Object.assign({},l,F))}}return d}const dl=()=>W.timeout&&W.timeout.getTimerLeft(),ss=()=>{if(W.timeout)return Ge(),W.timeout.stop()},rs=()=>{if(W.timeout){const l=W.timeout.start();return mt(l),l}},ul=()=>{const l=W.timeout;return l&&(l.running?ss():rs())},cl=l=>{if(W.timeout){const d=W.timeout.increase(l);return mt(d,!0),d}},pl=()=>W.timeout&&W.timeout.isRunning();let as=!1;const Uo={};function hl(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Uo[l]=this,as||(document.body.addEventListener("click",fl),as=!0)}const fl=l=>{for(let d=l.target;d&&d!==document;d=d.parentNode)for(const h in Uo){const b=d.getAttribute(h);if(b){Uo[h].fire({template:b});return}}};var gl=Object.freeze({isValidParameter:ne,isUpdatableParameter:ae,isDeprecatedParameter:q,argsToParams:rl,isVisible:Ka,clickConfirm:ns,clickDeny:Ya,clickCancel:Ja,getContainer:oe,getPopup:D,getTitle:ie,getHtmlContainer:Le,getImage:Se,getIcon:U,getInputLabel:we,getCloseButton:B,getActions:m,getConfirmButton:N,getDenyButton:G,getCancelButton:$,getLoader:be,getFooter:A,getTimerProgressBar:Z,getFocusableElements:Q,getValidationMessage:R,isLoading:X,fire:al,mixin:ll,showLoading:yn,enableLoading:yn,getTimerLeft:dl,stopTimer:ss,resumeTimer:rs,toggleTimer:ul,increaseTimer:cl,isTimerRunning:pl,bindClickHandler:hl});let zo;class wn{constructor(){if(typeof window>"u")return;zo=this;for(var d=arguments.length,h=new Array(d),b=0;b<d;b++)h[b]=arguments[b];const F=Object.freeze(this.constructor.argsToParams(h));Object.defineProperties(this,{params:{value:F,writable:!1,enumerable:!0,configurable:!0}});const pe=this._main(this.params);Ee.promise.set(this,pe)}_main(d){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};L(Object.assign({},h,d)),W.currentInstance&&(W.currentInstance._destroy(),K()&&Ri()),W.currentInstance=this;const b=vl(d,h);Kr(b),Object.freeze(b),W.timeout&&(W.timeout.stop(),delete W.timeout),clearTimeout(W.restoreFocusTimeout);const F=yl(this);return Ni(this,b),Ee.innerParams.set(this,b),ml(this,F,b)}then(d){return Ee.promise.get(this).then(d)}finally(d){return Ee.promise.get(this).finally(d)}}const ml=(l,d,h)=>new Promise((b,F)=>{const pe=et=>{l.closePopup({isDismissed:!0,dismiss:et})};Dn.swalPromiseResolve.set(l,b),Dn.swalPromiseReject.set(l,F),d.confirmButton.onclick=()=>Na(l),d.denyButton.onclick=()=>Ra(l),d.cancelButton.onclick=()=>Fa(l,pe),d.closeButton.onclick=()=>pe(vn.close),Ua(l,d,pe),Qa(l,W,h,pe),ca(l,h),ra(h),wl(W,h,pe),bl(d,h),setTimeout(()=>{d.container.scrollTop=0})}),vl=(l,d)=>{const h=Nr(l),b=Object.assign({},I,d,h,l);return b.showClass=Object.assign({},I.showClass,b.showClass),b.hideClass=Object.assign({},I.hideClass,b.hideClass),b},yl=l=>{const d={popup:D(),container:oe(),actions:m(),confirmButton:N(),denyButton:G(),cancelButton:$(),loader:be(),closeButton:B(),validationMessage:R(),progressSteps:me()};return Ee.domCache.set(l,d),d},wl=(l,d,h)=>{const b=Z();Ze(b),d.timer&&(l.timeout=new Yr(()=>{h("timer"),delete l.timeout},d.timer),d.timerProgressBar&&(_e(b),j(b,d,"timerProgressBar"),setTimeout(()=>{l.timeout&&l.timeout.running&&mt(d.timer)})))},bl=(l,d)=>{if(!d.toast){if(!v(d.allowEnterKey))return Ll();Cl(l,d)||jo(d,-1,1)}},Cl=(l,d)=>d.focusDeny&&de(l.denyButton)?(l.denyButton.focus(),!0):d.focusCancel&&de(l.cancelButton)?(l.cancelButton.focus(),!0):d.focusConfirm&&de(l.confirmButton)?(l.confirmButton.focus(),!0):!1,Ll=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Object.assign(wn.prototype,Qi),Object.assign(wn,gl),Object.keys(Qi).forEach(l=>{wn[l]=function(){if(zo)return zo[l](...arguments)}}),wn.DismissReason=vn,wn.version="11.4.4";const no=wn;return no.default=no,no}),typeof Yt<"u"&&Yt.Sweetalert2&&(Yt.swal=Yt.sweetAlert=Yt.Swal=Yt.SweetAlert=Yt.Sweetalert2)})(dr);var A5=dr.exports;const co=H5(A5);class V5{static install(e,n={}){var o;const r=co.mixin(n),s=function(...a){return r.fire.call(r,...a)};Object.assign(s,co),Object.keys(co).filter(a=>typeof co[a]=="function").forEach(a=>{s[a]=r[a].bind(r)}),(o=e.config)!=null&&o.globalProperties&&!e.config.globalProperties.$swal?(e.config.globalProperties.$swal=s,e.provide("$swal",s)):Object.prototype.hasOwnProperty.call(e,"$swal")||(e.prototype.$swal=s,e.swal=s)}}Pl(x5).component("vue-draggable-resizable",Is).use(V5).mount("#app");
