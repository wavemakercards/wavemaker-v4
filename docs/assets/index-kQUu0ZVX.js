import{c as v,b as f,e as wo,F as ie,f as De,n as Ne,g as Bt,j as dn,k as bl,l as Cl,r as Qt,m as A,p as i,q as re,v as He,u as k,x as he,y as St,z as ai,A as Zn,B as Y,C as Te,D as yt,E as xe,T as Kn,o as Vs,G as is,d as Ms,h as ss,H as cn,N as Ct,I as Mn,J as lt,M as Yn,K as pn,L as hn,P as Vo,O as yi,Q as An,R as li,S as qn,U as Ll,V as Jn,W as $l,X as rs,Y as Ss,Z as wi,_ as kl,$ as xl,a0 as Hl,a1 as Al,a2 as Vl,a3 as Ts,a4 as Ml,a5 as Sl,a6 as Xe,a7 as bi,a8 as Ci,a9 as Tl,a as El,w as jn,aa as ct,ab as Bl,ac as oo,ad as Il}from"./vendor-UypZpQg1.js";import{X as ft,t as fn,s as _l,v as Dl}from"./utils-DO5yBvG6.js";import{C as Pl,p as Ol,a as Nl,b as Rl,B as jl,c as Fl,L as Ul,d as zl}from"./charts-D4w_mH8M.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function as(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function Cn(t,e,n,o=1){const[r,s]=typeof o=="number"?[o,o]:o,a=Math.round(e/r/t[0])*t[0],u=Math.round(n/s/t[1])*t[1];return[a,u]}function Wo(t,e,n){return t-e-n}function Go(t,e,n){return t-e-n}function Mt(t,e,n){return e!==null&&t<e?e:n!==null&&n<t?n:t}function ls(t,e,n){let o=t;const r=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find(s=>as(o[s]));if(!as(o[r]))return!1;do{if(o[r](e))return!0;if(o===n)return!1;o=o.parentNode}while(o);return!1}function Wl(t){const e=window.getComputedStyle(t);return[parseFloat(e.getPropertyValue("width"),10),parseFloat(e.getPropertyValue("height"),10)]}function sn(t,e,n){t&&(t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener?t.addEventListener(e,n,!0):t["on"+e]=n)}function zt(t,e,n){t&&(t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener?t.removeEventListener(e,n,!0):t["on"+e]=null)}const Gl=(t,e)=>{const n=t.__vccOpts||t;for(const[o,r]of e)n[o]=r;return n},po={mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"},touch:{start:"touchstart",move:"touchmove",stop:"touchend"}},ql={userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",MsUserSelect:"none"},Zl={userSelect:"auto",MozUserSelect:"auto",WebkitUserSelect:"auto",MsUserSelect:"auto"};let Wt=po.mouse;const Kl={replace:!0,name:"vue-draggable-resizable",props:{className:{type:String,default:"vdr"},classNameDraggable:{type:String,default:"draggable"},classNameResizable:{type:String,default:"resizable"},classNameDragging:{type:String,default:"dragging"},classNameResizing:{type:String,default:"resizing"},classNameActive:{type:String,default:"active"},classNameHandle:{type:String,default:"handle"},disableUserSelect:{type:Boolean,default:!0},enableNativeDrag:{type:Boolean,default:!1},preventDeactivation:{type:Boolean,default:!1},active:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},lockAspectRatio:{type:Boolean,default:!1},w:{type:[Number,String],default:200,validator:t=>typeof t=="number"?t>0:t==="auto"},h:{type:[Number,String],default:200,validator:t=>typeof t=="number"?t>0:t==="auto"},minWidth:{type:Number,default:0,validator:t=>t>=0},minHeight:{type:Number,default:0,validator:t=>t>=0},maxWidth:{type:Number,default:null,validator:t=>t>=0},maxHeight:{type:Number,default:null,validator:t=>t>=0},x:{type:Number,default:0},y:{type:Number,default:0},z:{type:[String,Number],default:"auto",validator:t=>typeof t=="string"?t==="auto":t>=0},handles:{type:Array,default:()=>["tl","tm","tr","mr","br","bm","bl","ml"],validator:t=>{const e=new Set(["tl","tm","tr","mr","br","bm","bl","ml"]);return new Set(t.filter(n=>e.has(n))).size===t.length}},dragHandle:{type:String,default:null},dragCancel:{type:String,default:null},axis:{type:String,default:"both",validator:t=>["x","y","both"].includes(t)},grid:{type:Array,default:()=>[1,1]},parent:{type:Boolean,default:!1},scale:{type:[Number,Array],default:1,validator:t=>typeof t=="number"?t>0:t.length===2&&t[0]>0&&t[1]>0},onDragStart:{type:Function,default:()=>!0},onDrag:{type:Function,default:()=>!0},onResizeStart:{type:Function,default:()=>!0},onResize:{type:Function,default:()=>!0}},data:function(){return{left:this.x,top:this.y,right:null,bottom:null,width:null,height:null,widthTouched:!1,heightTouched:!1,aspectFactor:null,parentWidth:null,parentHeight:null,handle:null,enabled:this.active,resizing:!1,dragging:!1,dragEnable:!1,resizeEnable:!1,zIndex:this.z}},created:function(){this.maxWidth&&this.minWidth>this.maxWidth&&console.warn("[Vdr warn]: Invalid prop: minWidth cannot be greater than maxWidth"),this.maxHeight&&this.minHeight>this.maxHeight&&console.warn("[Vdr warn]: Invalid prop: minHeight cannot be greater than maxHeight"),this.resetBoundsAndMouseState()},mounted:function(){this.enableNativeDrag||(this.$el.ondragstart=()=>!1);const[t,e]=this.getParentSize();this.parentWidth=t,this.parentHeight=e;const[n,o]=Wl(this.$el);this.aspectFactor=(this.w!=="auto"?this.w:n)/(this.h!=="auto"?this.h:o),this.width=this.w!=="auto"?this.w:n,this.height=this.h!=="auto"?this.h:o,this.right=this.parentWidth-this.width-this.left,this.bottom=this.parentHeight-this.height-this.top,this.active&&this.$emit("activated"),sn(document.documentElement,"mousedown",this.deselect),sn(document.documentElement,"touchend touchcancel",this.deselect),sn(window,"resize",this.checkParentSize)},beforeUnmount:function(){zt(document.documentElement,"mousedown",this.deselect),zt(document.documentElement,"touchstart",this.handleUp),zt(document.documentElement,"mousemove",this.move),zt(document.documentElement,"touchmove",this.move),zt(document.documentElement,"mouseup",this.handleUp),zt(document.documentElement,"touchend touchcancel",this.deselect),zt(window,"resize",this.checkParentSize)},methods:{resetBoundsAndMouseState(){this.mouseClickPosition={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.bounds={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null}},checkParentSize(){if(this.parent){const[t,e]=this.getParentSize();this.parentWidth=t,this.parentHeight=e,this.right=this.parentWidth-this.width-this.left,this.bottom=this.parentHeight-this.height-this.top}},getParentSize(){if(this.parent){const t=window.getComputedStyle(this.$el.parentNode,null);return[parseInt(t.getPropertyValue("width"),10),parseInt(t.getPropertyValue("height"),10)]}return[null,null]},elementTouchDown(t){Wt=po.touch,this.elementDown(t)},elementMouseDown(t){Wt=po.mouse,this.elementDown(t)},elementDown(t){if(t instanceof MouseEvent&&t.button!==0)return;const e=t.target||t.srcElement;if(this.$el.contains(e)){if(this.onDragStart(t)===!1)return;if(this.dragHandle&&!ls(e,this.dragHandle,this.$el)||this.dragCancel&&ls(e,this.dragCancel,this.$el)){this.dragging=!1;return}this.enabled||(this.enabled=!0,this.$emit("activated"),this.$emit("update:active",!0)),this.draggable&&(this.dragEnable=!0),this.mouseClickPosition.mouseX=t.touches?t.touches[0].pageX:t.pageX,this.mouseClickPosition.mouseY=t.touches?t.touches[0].pageY:t.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.parent&&(this.bounds=this.calcDragLimits()),sn(document.documentElement,Wt.move,this.move),sn(document.documentElement,Wt.stop,this.handleUp)}},calcDragLimits(){return{minLeft:this.left%this.grid[0],maxLeft:Math.floor((this.parentWidth-this.width-this.left)/this.grid[0])*this.grid[0]+this.left,minRight:this.right%this.grid[0],maxRight:Math.floor((this.parentWidth-this.width-this.right)/this.grid[0])*this.grid[0]+this.right,minTop:this.top%this.grid[1],maxTop:Math.floor((this.parentHeight-this.height-this.top)/this.grid[1])*this.grid[1]+this.top,minBottom:this.bottom%this.grid[1],maxBottom:Math.floor((this.parentHeight-this.height-this.bottom)/this.grid[1])*this.grid[1]+this.bottom}},deselect(t){const e=t.target||t.srcElement,n=new RegExp(this.className+"-([trmbl]{2})","");!this.$el.contains(e)&&!n.test(e.className)&&(this.enabled&&!this.preventDeactivation&&(this.enabled=!1,this.$emit("deactivated"),this.$emit("update:active",!1)),zt(document.documentElement,Wt.move,this.handleResize)),this.resetBoundsAndMouseState()},handleTouchDown(t,e){Wt=po.touch,this.handleDown(t,e)},handleDown(t,e){e instanceof MouseEvent&&e.which!==1||this.onResizeStart(t,e)!==!1&&(e.stopPropagation&&e.stopPropagation(),this.lockAspectRatio&&!t.includes("m")?this.handle="m"+t.substring(1):this.handle=t,this.resizeEnable=!0,this.mouseClickPosition.mouseX=e.touches?e.touches[0].pageX:e.pageX,this.mouseClickPosition.mouseY=e.touches?e.touches[0].pageY:e.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.bounds=this.calcResizeLimits(),sn(document.documentElement,Wt.move,this.handleResize),sn(document.documentElement,Wt.stop,this.handleUp))},calcResizeLimits(){let t=this.minW,e=this.minH,n=this.maxW,o=this.maxH;const r=this.aspectFactor,[s,a]=this.grid,u=this.width,c=this.height,p=this.left,C=this.top,b=this.right,M=this.bottom;this.lockAspectRatio&&(t/e>r?e=t/r:t=r*e,n&&o?(n=Math.min(n,r*o),o=Math.min(o,n/r)):n?o=n/r:o&&(n=r*o)),n=n-n%s,o=o-o%a;const x={minLeft:null,maxLeft:null,minTop:null,maxTop:null,minRight:null,maxRight:null,minBottom:null,maxBottom:null};return this.parent?(x.minLeft=p%s,x.maxLeft=p+Math.floor((u-t)/s)*s,x.minTop=C%a,x.maxTop=C+Math.floor((c-e)/a)*a,x.minRight=b%s,x.maxRight=b+Math.floor((u-t)/s)*s,x.minBottom=M%a,x.maxBottom=M+Math.floor((c-e)/a)*a,n&&(x.minLeft=Math.max(x.minLeft,this.parentWidth-b-n),x.minRight=Math.max(x.minRight,this.parentWidth-p-n)),o&&(x.minTop=Math.max(x.minTop,this.parentHeight-M-o),x.minBottom=Math.max(x.minBottom,this.parentHeight-C-o)),this.lockAspectRatio&&(x.minLeft=Math.max(x.minLeft,p-C*r),x.minTop=Math.max(x.minTop,C-p/r),x.minRight=Math.max(x.minRight,b-M*r),x.minBottom=Math.max(x.minBottom,M-b/r))):(x.minLeft=null,x.maxLeft=p+Math.floor((u-t)/s)*s,x.minTop=null,x.maxTop=C+Math.floor((c-e)/a)*a,x.minRight=null,x.maxRight=b+Math.floor((u-t)/s)*s,x.minBottom=null,x.maxBottom=M+Math.floor((c-e)/a)*a,n&&(x.minLeft=-(b+n),x.minRight=-(p+n)),o&&(x.minTop=-(M+o),x.minBottom=-(C+o)),this.lockAspectRatio&&n&&o&&(x.minLeft=Math.min(x.minLeft,-(b+n)),x.minTop=Math.min(x.minTop,-(o+M)),x.minRight=Math.min(x.minRight,-p-n),x.minBottom=Math.min(x.minBottom,-C-o))),x},move(t){this.resizing?this.handleResize(t):this.dragEnable&&this.handleDrag(t)},handleDrag(t){const e=this.axis,n=this.grid,o=this.bounds,r=this.mouseClickPosition,s=e&&e!=="y"?r.mouseX-(t.touches?t.touches[0].pageX:t.pageX):0,a=e&&e!=="x"?r.mouseY-(t.touches?t.touches[0].pageY:t.pageY):0,[u,c]=Cn(n,s,a,this.scale),p=Mt(r.left-u,o.minLeft,o.maxLeft),C=Mt(r.top-c,o.minTop,o.maxTop);if(this.onDrag(p,C)===!1)return;const b=Mt(r.right+u,o.minRight,o.maxRight),M=Mt(r.bottom+c,o.minBottom,o.maxBottom);this.left=p,this.top=C,this.right=b,this.bottom=M,this.$emit("dragging",this.left,this.top),this.dragging=!0},moveHorizontally(t){const[e,n]=Cn(this.grid,t,this.top,1),o=Mt(e,this.bounds.minLeft,this.bounds.maxLeft);this.left=o,this.right=this.parentWidth-this.width-o},moveVertically(t){const[e,n]=Cn(this.grid,this.left,t,1),o=Mt(n,this.bounds.minTop,this.bounds.maxTop);this.top=o,this.bottom=this.parentHeight-this.height-o},handleResize(t){let e=this.left,n=this.top,o=this.right,r=this.bottom;const s=this.mouseClickPosition,a=this.aspectFactor,u=s.mouseX-(t.touches?t.touches[0].pageX:t.pageX),c=s.mouseY-(t.touches?t.touches[0].pageY:t.pageY);!this.widthTouched&&u&&(this.widthTouched=!0),!this.heightTouched&&c&&(this.heightTouched=!0);const[p,C]=Cn(this.grid,u,c,this.scale);this.handle.includes("b")?(r=Mt(s.bottom+C,this.bounds.minBottom,this.bounds.maxBottom),this.lockAspectRatio&&this.resizingOnY&&(o=this.right-(this.bottom-r)*a)):this.handle.includes("t")&&(n=Mt(s.top-C,this.bounds.minTop,this.bounds.maxTop),this.lockAspectRatio&&this.resizingOnY&&(e=this.left-(this.top-n)*a)),this.handle.includes("r")?(o=Mt(s.right+p,this.bounds.minRight,this.bounds.maxRight),this.lockAspectRatio&&this.resizingOnX&&(r=this.bottom-(this.right-o)/a)):this.handle.includes("l")&&(e=Mt(s.left-p,this.bounds.minLeft,this.bounds.maxLeft),this.lockAspectRatio&&this.resizingOnX&&(n=this.top-(this.left-e)/a));const b=Wo(this.parentWidth,e,o),M=Go(this.parentHeight,n,r);this.onResize(this.handle,e,n,b,M)!==!1&&(this.left=e,this.top=n,this.right=o,this.bottom=r,this.width=b,this.height=M,this.$emit("resizing",this.left,this.top,this.width,this.height),this.resizing=!0)},changeWidth(t){const[e,n]=Cn(this.grid,t,0,1),o=Mt(this.parentWidth-e-this.left,this.bounds.minRight,this.bounds.maxRight);let r=this.bottom;this.lockAspectRatio&&(r=this.bottom-(this.right-o)/this.aspectFactor);const s=Wo(this.parentWidth,this.left,o),a=Go(this.parentHeight,this.top,r);this.right=o,this.bottom=r,this.width=s,this.height=a},changeHeight(t){const[e,n]=Cn(this.grid,0,t,1),o=Mt(this.parentHeight-n-this.top,this.bounds.minBottom,this.bounds.maxBottom);let r=this.right;this.lockAspectRatio&&(r=this.right-(this.bottom-o)*this.aspectFactor);const s=Wo(this.parentWidth,this.left,r),a=Go(this.parentHeight,this.top,o);this.right=r,this.bottom=o,this.width=s,this.height=a},handleUp(t){this.handle=null,this.resetBoundsAndMouseState(),this.dragEnable=!1,this.resizeEnable=!1,this.resizing&&(this.resizing=!1,this.$emit("resizeStop",this.left,this.top,this.width,this.height)),this.dragging&&(this.dragging=!1,this.$emit("dragStop",this.left,this.top)),zt(document.documentElement,Wt.move,this.handleResize)}},computed:{style(){return{transform:`translate(${this.left}px, ${this.top}px)`,width:this.computedWidth,height:this.computedHeight,zIndex:this.zIndex,...this.dragging&&this.disableUserSelect?ql:Zl}},actualHandles(){return this.resizable?this.handles:[]},computedWidth(){return this.w==="auto"&&!this.widthTouched?"auto":this.width+"px"},computedHeight(){return this.h==="auto"&&!this.heightTouched?"auto":this.height+"px"},minW(){return this.minWidth},minH(){return this.minHeight},maxW(){return this.maxWidth},maxH(){return this.maxHeight},resizingOnX(){return!!this.handle&&(this.handle.includes("l")||this.handle.includes("r"))},resizingOnY(){return!!this.handle&&(this.handle.includes("t")||this.handle.includes("b"))},isCornerHandle(){return!!this.handle&&["tl","tr","br","bl"].includes(this.handle)}},watch:{active(t){this.enabled=t,t?this.$emit("activated"):this.$emit("deactivated")},z(t){(t>=0||t==="auto")&&(this.zIndex=t)},x(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcDragLimits()),this.moveHorizontally(t))},y(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcDragLimits()),this.moveVertically(t))},lockAspectRatio(t){t?this.aspectFactor=this.width/this.height:this.aspectFactor=void 0},w(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcResizeLimits()),this.changeWidth(t))},h(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcResizeLimits()),this.changeHeight(t))}}},Yl=["onMousedown","onTouchstart"];function Jl(t,e,n,o,r,s){return f(),v("div",{style:Bt(s.style),class:Ne([{[n.classNameActive]:t.enabled,[n.classNameDragging]:t.dragging,[n.classNameResizing]:t.resizing,[n.classNameDraggable]:n.draggable,[n.classNameResizable]:n.resizable},n.className]),onMousedown:e[0]||(e[0]=(...a)=>s.elementMouseDown&&s.elementMouseDown(...a)),onTouchstart:e[1]||(e[1]=(...a)=>s.elementTouchDown&&s.elementTouchDown(...a))},[(f(!0),v(ie,null,De(s.actualHandles,a=>(f(),v("div",{key:a,class:Ne([n.classNameHandle,n.classNameHandle+"-"+a]),style:Bt({display:t.enabled?"block":"none"}),onMousedown:dn(u=>s.handleDown(a,u),["stop","prevent"]),onTouchstart:dn(u=>s.handleTouchDown(a,u),["stop","prevent"])},[wo(t.$slots,a)],46,Yl))),128)),wo(t.$slots,"default")],38)}const Es=Gl(Kl,[["render",Jl]]);function di(t){di.installed||(di.installed=!0,t.component("VueDraggableResizable",Es))}const Xl={install:di};let bo=null;typeof window<"u"?bo=window.Vue:typeof global<"u"&&(bo=global.Vue);bo&&bo.use(Xl);const Ql="wavemakerv4",ed="4.1.5",td="module",nd={dev:"vite",build:"vite build",preview:"vite preview"},od={"@tiptap/extension-bubble-menu":"^2.0.0-beta.202","@tiptap/extension-dropcursor":"^2.0.0-beta.25","@tiptap/extension-highlight":"^2.0.0-beta.202","@tiptap/extension-image":"^2.0.0-beta.27","@tiptap/extension-task-item":"^2.0.0-beta.32","@tiptap/extension-task-list":"^2.0.0-beta.26","@tiptap/extension-typography":"^2.0.0-beta.20","@tiptap/starter-kit":"^2.0.0-beta.185","@tiptap/vue-3":"^2.0.0-beta.91","@vueuse/core":"^9.3.1","@vueuse/rxjs":"^9.3.1","@yeger/vue-masonry-wall":"^3.2.22","core-js":"^3.8.3",dexie:"^3.2.2","dexie-export-import":"^1.0.3","dexie-observable":"^3.0.0-beta.11","register-service-worker":"^1.7.2",rxjs:"^7.5.7",showdown:"^2.1.0",uuid:"^9.0.0",vue:"^3.4.15","vue-chartjs":"^4.1.2","vue-draggable-next":"^2.1.1","vue-draggable-resizable":"^3.0.0","vue-sweetalert2":"^5.0.5"},id={"@vitejs/plugin-vue":"^5.0.3",vite:"^5.1.0","vite-plugin-pwa":"^0.18.1"},sd={name:Ql,private:!0,version:ed,type:td,scripts:nd,dependencies:od,devDependencies:id},rd={data(){return{}},methods:{file_loadDB(){document.getElementById("wavemakerHiddenPicker").click()},file_load(t){console.log(t.target.files);var e=new FileReader;e.onload=async n=>{const o=new Blob([n.target.result],{type:"text/json;charset=utf-8"});await this.$root.databaseImport(o),console.log("import complete"),this.$root.getSettings()},e.readAsText(t.target.files.item(0))},async file_downloadDB(){this.$swal({title:this.$root.setlang.confirm.sure,text:this.$root.setlang.confirm.downloadfile,icon:"question",showCancelButton:!0,cancelButtonText:this.$root.setlang.confirm.filecancel,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirm.fileexport}).then(async t=>{if(t.isConfirmed){var e=new Date,n=String(e.getDate()).padStart(2,"0"),o=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear(),s=e.getHours()+"-"+e.getMinutes()+"-"+e.getSeconds();let a=this.$root.session.settings.ProjectName;a=a.replace(/[\W_]+/g,"-");let u=a+"["+r+"-"+o+"-"+n+"-"+s+"].wm4",c=await this.$root.databaseExport();const p=new Blob([c],{type:"text/json;charset=utf-8"}),C=URL.createObjectURL(p),b=document.createElement("a");b.href=C,b.target="_blank",b.download=u,b.click(),URL.revokeObjectURL(C),this.$swal(this.$root.setlang.confirm.exportedsuccess,this.$root.setlang.confirm.exportedmessage,"success")}})}},mounted(){let t=document.createElement("input");t.type="file",t.id="wavemakerHiddenPicker",t.accept=".wm4",t.style="display:none",document.body.appendChild(t)}};var ds={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function tn(t,e,n,o){function r(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function u(C){try{p(o.next(C))}catch(b){a(b)}}function c(C){try{p(o.throw(C))}catch(b){a(b)}}function p(C){C.done?s(C.value):r(C.value).then(u,c)}p((o=o.apply(t,[])).next())})}function Ot(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},o,r,s,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(p){return function(C){return c([p,C])}}function c(p){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,r&&(s=p[0]&2?r.return:p[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,p[1])).done)return s;switch(r=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,r=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(C){p=[6,C],r=0}finally{o=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function ad(t){var e=[t.schema.primKey].concat(t.schema.indexes);return e.map(function(n){return n.src}).join(",")}function ld(t){for(var e={},n=0,o=t.tables;n<o.length;n++){var r=o[n];e[r.name]=r.schema}return e}function Bs(t,e){return new Promise(function(n,o){var r=new FileReader;r.onabort=function(s){return o(new Error("file read aborted"))},r.onerror=function(s){return o(s.target.error)},r.onload=function(s){return n(s.target.result)},e==="binary"?r.readAsArrayBuffer(t):r.readAsText(t)})}function Is(t,e){if(typeof FileReaderSync>"u")throw new Error("FileReaderSync missing. Reading blobs synchronously requires code to run from within a web worker. Use TSON.encapsulateAsync() to do it from the main thread.");var n=new FileReaderSync,o=e==="binary"?n.readAsArrayBuffer(t):n.readAsText(t);return o}var ui=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Li(t,e){return e={exports:{}},t(e,e.exports),e.exports}var Mo=Li(function(t,e){(function(n,o){t.exports=o()})(ui,function(){var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},o=function(){return function(V,L){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return function(S,y){var de=[],Q=!0,Ee=!1,ce=void 0;try{for(var _,j=S[Symbol.iterator]();!(Q=(_=j.next()).done)&&(de.push(_.value),!y||de.length!==y);Q=!0);}catch(X){Ee=!0,ce=X}finally{try{!Q&&j.return&&j.return()}finally{if(Ee)throw ce}}return de}(V,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(V){if(Array.isArray(V)){for(var L=0,g=Array(V.length);L<V.length;L++)g[L]=V[L];return g}return Array.from(V)},s=Object.keys,a=Array.isArray,u={}.toString,c=Object.getPrototypeOf,p={}.hasOwnProperty,C=p.toString,b=["type","replaced","iterateIn","iterateUnsetNumeric"];function M(V,L){return E.isObject(V)&&typeof V.then=="function"&&(!L||typeof V.catch=="function")}function x(V){return u.call(V).slice(8,-1)}function B(V,L){if(!V||(V===void 0?"undefined":n(V))!=="object")return!1;var g=c(V);if(!g)return!1;var S=p.call(g,"constructor")&&g.constructor;return typeof S!="function"?L===null:typeof S=="function"&&L!==null&&C.call(S)===C.call(L)}function O(V){return!(!V||x(V)!=="Object")&&(!c(V)||B(V,Object))}function le(V){return V&&(V===void 0?"undefined":n(V))==="object"}function E(V){var L=[],g=[],S={},y=this.types={},de=this.stringify=function(_,j,X,Ce){Ce=Object.assign({},V,Ce,{stringification:!0});var Me=Ee(_,null,Ce);return a(Me)?JSON.stringify(Me[0],j,X):Me.then(function(ue){return JSON.stringify(ue,j,X)})};this.stringifySync=function(_,j,X,Ce){return de(_,j,X,Object.assign({},{throwOnBadSyncType:!0},Ce,{sync:!0}))},this.stringifyAsync=function(_,j,X,Ce){return de(_,j,X,Object.assign({},{throwOnBadSyncType:!0},Ce,{sync:!1}))};var Q=this.parse=function(_,j,X){return X=Object.assign({},V,X,{parse:!0}),ce(JSON.parse(_,j),X)};this.parseSync=function(_,j,X){return Q(_,j,Object.assign({},{throwOnBadSyncType:!0},X,{sync:!0}))},this.parseAsync=function(_,j,X){return Q(_,j,Object.assign({},{throwOnBadSyncType:!0},X,{sync:!1}))},this.specialTypeNames=function(_,j){var X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return X.returnTypeNames=!0,this.encapsulate(_,j,X)},this.rootTypeName=function(_,j){var X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return X.iterateNone=!0,this.encapsulate(_,j,X)};var Ee=this.encapsulate=function(_,j,X){var Ce=(X=Object.assign({sync:!0},V,X)).sync,Me={},ue=[],Qe=[],Ae=[],Re=!(X&&"cyclic"in X)||X.cyclic,je=X.encapsulateObserver,Be=H("",_,Re,j||{},Ae);function $(T){var D=Object.values(Me);if(X.iterateNone)return D.length?D[0]:E.getJSONType(T);if(D.length){if(X.returnTypeNames)return[].concat(r(new Set(D)));T&&O(T)&&!T.hasOwnProperty("$types")?T.$types=Me:T={$:T,$types:{$:Me}}}else le(T)&&T.hasOwnProperty("$types")&&(T={$:T,$types:!0});return!X.returnTypeNames&&T}return Ae.length?Ce&&X.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(function T(D,Z){return Promise.all(Z.map(function(W){return W[1].p})).then(function(W){return Promise.all(W.map(function($e){var K=[],G=Z.splice(0,1)[0],I=o(G,7),ae=I[0],ke=I[2],R=I[3],Oe=I[4],Fe=I[5],dt=I[6],ne=H(ae,$e,ke,R,K,!0,dt),we=B(ne,P);return ae&&we?ne.p.then(function(ze){return Oe[Fe]=ze,T(D,K)}):(ae?Oe[Fe]=ne:D=we?ne.p:ne,T(D,K))}))}).then(function(){return D})}(Be,Ae)).then($):!Ce&&X.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():X.stringification&&Ce?[$(Be)]:Ce?$(Be):Promise.resolve($(Be));function m(T,D,Z){Object.assign(T,D);var W=b.map(function($e){var K=T[$e];return delete T[$e],K});Z(),b.forEach(function($e,K){T[$e]=W[K]})}function H(T,D,Z,W,$e,K,G){var I=void 0,ae={},ke=D===void 0?"undefined":n(D),R=je?function(q){var oe=G||W.type||E.getJSONType(D);je(Object.assign(q||ae,{keypath:T,value:D,cyclic:Z,stateObj:W,promisesData:$e,resolvingTypesonPromise:K,awaitingTypesonPromise:B(D,P)},oe!==void 0?{type:oe}:{}))}:null;if(ke in{string:1,boolean:1,number:1,undefined:1})return D===void 0||ke==="number"&&(isNaN(D)||D===-1/0||D===1/0)?(I=z(T,D,W,$e,!1,K,R))!==D&&(ae={replaced:I}):I=D,R&&R(),I;if(D===null)return R&&R(),D;if(Z&&!W.iterateIn&&!W.iterateUnsetNumeric){var Oe=ue.indexOf(D);if(!(Oe<0))return Me[T]="#",R&&R({cyclicKeypath:Qe[Oe]}),"#"+Qe[Oe];Z===!0&&(ue.push(D),Qe.push(T))}var Fe=O(D),dt=a(D),ne=(Fe||dt)&&(!L.length||W.replaced)||W.iterateIn?D:z(T,D,W,$e,Fe||dt,null,R),we=void 0;if(ne!==D?(I=ne,ae={replaced:ne}):dt||W.iterateIn==="array"?(we=new Array(D.length),ae={clone:we}):Fe||W.iterateIn==="object"?ae={clone:we={}}:(T===""&&B(D,P)&&$e.push([T,D,Z,W,void 0,void 0,W.type]),I=D),R&&R(),X.iterateNone)return we||I;if(!we)return I;if(W.iterateIn){var ze=function(oe){var ge={ownKeys:D.hasOwnProperty(oe)};m(W,ge,function(){var _e=T+(T?".":"")+te(oe),Ue=H(_e,D[oe],!!Z,W,$e,K);B(Ue,P)?$e.push([_e,Ue,!!Z,W,we,oe,W.type]):Ue!==void 0&&(we[oe]=Ue)})};for(var nt in D)ze(nt);R&&R({endIterateIn:!0,end:!0})}else s(D).forEach(function(q){var oe=T+(T?".":"")+te(q);m(W,{ownKeys:!0},function(){var ge=H(oe,D[q],!!Z,W,$e,K);B(ge,P)?$e.push([oe,ge,!!Z,W,we,q,W.type]):ge!==void 0&&(we[q]=ge)})}),R&&R({endIterateOwn:!0,end:!0});if(W.iterateUnsetNumeric){for(var Se=D.length,qe=function(oe){if(!(oe in D)){var ge=T+(T?".":"")+oe;m(W,{ownKeys:!1},function(){var _e=H(ge,void 0,!!Z,W,$e,K);B(_e,P)?$e.push([ge,_e,!!Z,W,we,oe,W.type]):_e!==void 0&&(we[oe]=_e)})}},pe=0;pe<Se;pe++)qe(pe);R&&R({endIterateUnsetNumeric:!0,end:!0})}return we}function z(T,D,Z,W,$e,K,G){for(var I=$e?L:g,ae=I.length;ae--;){var ke=I[ae];if(ke.test(D,Z)){var R=ke.type;if(S[R]){var Oe=Me[T];Me[T]=Oe?[R].concat(Oe):R}return Object.assign(Z,{type:R,replaced:!0}),!Ce&&ke.replaceAsync||ke.replace?(G&&G({replacing:!0}),H(T,ke[Ce||!ke.replaceAsync?"replace":"replaceAsync"](D,Z),Re&&"readonly",Z,W,K,R)):(G&&G({typeDetected:!0}),H(T,D,Re&&"readonly",Z,W,K,R))}}return D}};this.encapsulateSync=function(_,j,X){return Ee(_,j,Object.assign({},{throwOnBadSyncType:!0},X,{sync:!0}))},this.encapsulateAsync=function(_,j,X){return Ee(_,j,Object.assign({},{throwOnBadSyncType:!0},X,{sync:!1}))};var ce=this.revive=function(_,j){var X=(j=Object.assign({sync:!0},V,j)).sync,Ce=_&&_.$types,Me=!0;if(!Ce)return _;if(Ce===!0)return _.$;Ce.$&&O(Ce.$)&&(_=_.$,Ce=Ce.$,Me=!1);var ue=[],Qe={},Ae=function Re(je,Be,$,m,H,z){if(!(Me&&je==="$types")){var T=Ce[je];if(a(Be)||O(Be)){var D=a(Be)?new Array(Be.length):{};for(s(Be).forEach(function(R){var Oe=Re(je+(je?".":"")+te(R),Be[R],$||D,m,D,R);B(Oe,me)?D[R]=void 0:Oe!==void 0&&(D[R]=Oe)}),Be=D;ue.length;){var Z=o(ue[0],4),W=Z[0],$e=Z[1],K=Z[2],G=Z[3],I=J(W,$e);if(B(I,me))K[G]=void 0;else{if(I===void 0)break;K[G]=I}ue.splice(0,1)}}if(!T)return Be;if(T==="#"){var ae=J($,Be.substr(1));return ae===void 0&&ue.push([$,Be.substr(1),H,z]),ae}var ke=m.sync;return[].concat(T).reduce(function(R,Oe){var Fe=S[Oe];if(!Fe)throw new Error("Unregistered type: "+Oe);return Fe[ke&&Fe.revive?"revive":!ke&&Fe.reviveAsync?"reviveAsync":"revive"](R,Qe)},Be)}}("",_,null,j);return M(Ae=B(Ae,me)?void 0:Ae)?X&&j.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Ae:!X&&j.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():X?Ae:Promise.resolve(Ae)};this.reviveSync=function(_,j){return ce(_,Object.assign({},{throwOnBadSyncType:!0},j,{sync:!0}))},this.reviveAsync=function(_,j){return ce(_,Object.assign({},{throwOnBadSyncType:!0},j,{sync:!1}))},this.register=function(_,j){return j=j||{},[].concat(_).forEach(function X(Ce){if(a(Ce))return Ce.map(X);Ce&&s(Ce).forEach(function(Me){if(Me==="#")throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(E.JSON_TYPES.includes(Me))throw new TypeError("Plain JSON object types are reserved as type names");var ue=Ce[Me],Qe=ue.testPlainObjects?L:g,Ae=Qe.filter(function(m){return m.type===Me});if(Ae.length&&(Qe.splice(Qe.indexOf(Ae[0]),1),delete S[Me],delete y[Me]),ue){if(typeof ue=="function"){var Re=ue;ue={test:function(H){return H&&H.constructor===Re},replace:function(H){return ee({},H)},revive:function(H){return ee(Object.create(Re.prototype),H)}}}else a(ue)&&(ue={test:ue[0],replace:ue[1],revive:ue[2]});var je={type:Me,test:ue.test.bind(ue)};ue.replace&&(je.replace=ue.replace.bind(ue)),ue.replaceAsync&&(je.replaceAsync=ue.replaceAsync.bind(ue));var Be=typeof j.fallback=="number"?j.fallback:j.fallback?0:1/0;if(ue.testPlainObjects?L.splice(Be,0,je):g.splice(Be,0,je),ue.revive||ue.reviveAsync){var $={};ue.revive&&($.revive=ue.revive.bind(ue)),ue.reviveAsync&&($.reviveAsync=ue.reviveAsync.bind(ue)),S[Me]=$}y[Me]=ue}})}),this}}function ee(V,L){return s(L).map(function(g){V[g]=L[g]}),V}function te(V){return V.replace(/~/g,"~0").replace(/\./g,"~1")}function fe(V){return V.replace(/~1/g,".").replace(/~0/g,"~")}function J(V,L){if(L==="")return V;var g=L.indexOf(".");if(g>-1){var S=V[fe(L.substr(0,g))];return S===void 0?void 0:J(S,L.substr(g+1))}return V[fe(L)]}function me(){}function P(V){this.p=new Promise(V)}return P.prototype.then=function(V,L){var g=this;return new P(function(S,y){g.p.then(function(de){S(V?V(de):de)},function(de){g.p.catch(function(Q){return L?L(Q):Promise.reject(Q)}).then(S,y)})})},P.prototype.catch=function(V){return this.then(null,V)},P.resolve=function(V){return new P(function(L){L(V)})},P.reject=function(V){return new P(function(L,g){g(V)})},["all","race"].map(function(V){P[V]=function(L){return new P(function(g,S){Promise[V](L.map(function(y){return y.p})).then(g,S)})}}),E.Undefined=me,E.Promise=P,E.isThenable=M,E.toStringTag=x,E.hasConstructorOf=B,E.isObject=le,E.isPlainObject=O,E.isUserObject=function V(L){if(!L||x(L)!=="Object")return!1;var g=c(L);return!g||B(L,Object)||V(g)},E.escapeKeyPathComponent=te,E.unescapeKeyPathComponent=fe,E.getByKeyPath=J,E.getJSONType=function(V){return V===null?"null":a(V)?"array":V===void 0?"undefined":n(V)},E.JSON_TYPES=["null","boolean","number","string","array","object"],E})}),dd=Li(function(t,e){(function(n,o){t.exports=o()})(ui,function(){var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},o=function(){return function($,m){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return function(z,T){var D=[],Z=!0,W=!1,$e=void 0;try{for(var K,G=z[Symbol.iterator]();!(Z=(K=G.next()).done)&&(D.push(K.value),!T||D.length!==T);Z=!0);}catch(I){W=!0,$e=I}finally{try{!Z&&G.return&&G.return()}finally{if(W)throw $e}}return D}($,m);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function($){if(Array.isArray($)){for(var m=0,H=Array($.length);m<$.length;m++)H[m]=$[m];return H}return Array.from($)},s=Object.keys,a=Array.isArray,u={}.toString,c=Object.getPrototypeOf,p={}.hasOwnProperty,C=p.toString,b=["type","replaced","iterateIn","iterateUnsetNumeric"];function M($,m){return E.isObject($)&&typeof $.then=="function"&&(!m||typeof $.catch=="function")}function x($){return u.call($).slice(8,-1)}function B($,m){if(!$||($===void 0?"undefined":n($))!=="object")return!1;var H=c($);if(!H)return!1;var z=p.call(H,"constructor")&&H.constructor;return typeof z!="function"?m===null:typeof z=="function"&&m!==null&&C.call(z)===C.call(m)}function O($){return!(!$||x($)!=="Object")&&(!c($)||B($,Object))}function le($){return $&&($===void 0?"undefined":n($))==="object"}function E($){var m=[],H=[],z={},T=this.types={},D=this.stringify=function(K,G,I,ae){ae=Object.assign({},$,ae,{stringification:!0});var ke=W(K,null,ae);return a(ke)?JSON.stringify(ke[0],G,I):ke.then(function(R){return JSON.stringify(R,G,I)})};this.stringifySync=function(K,G,I,ae){return D(K,G,I,Object.assign({},{throwOnBadSyncType:!0},ae,{sync:!0}))},this.stringifyAsync=function(K,G,I,ae){return D(K,G,I,Object.assign({},{throwOnBadSyncType:!0},ae,{sync:!1}))};var Z=this.parse=function(K,G,I){return I=Object.assign({},$,I,{parse:!0}),$e(JSON.parse(K,G),I)};this.parseSync=function(K,G,I){return Z(K,G,Object.assign({},{throwOnBadSyncType:!0},I,{sync:!0}))},this.parseAsync=function(K,G,I){return Z(K,G,Object.assign({},{throwOnBadSyncType:!0},I,{sync:!1}))},this.specialTypeNames=function(K,G){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return I.returnTypeNames=!0,this.encapsulate(K,G,I)},this.rootTypeName=function(K,G){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return I.iterateNone=!0,this.encapsulate(K,G,I)};var W=this.encapsulate=function(K,G,I){var ae=(I=Object.assign({sync:!0},$,I)).sync,ke={},R=[],Oe=[],Fe=[],dt=!(I&&"cyclic"in I)||I.cyclic,ne=I.encapsulateObserver,we=Se("",K,dt,G||{},Fe);function ze(pe){var q=Object.values(ke);if(I.iterateNone)return q.length?q[0]:E.getJSONType(pe);if(q.length){if(I.returnTypeNames)return[].concat(r(new Set(q)));pe&&O(pe)&&!pe.hasOwnProperty("$types")?pe.$types=ke:pe={$:pe,$types:{$:ke}}}else le(pe)&&pe.hasOwnProperty("$types")&&(pe={$:pe,$types:!0});return!I.returnTypeNames&&pe}return Fe.length?ae&&I.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(function pe(q,oe){return Promise.all(oe.map(function(ge){return ge[1].p})).then(function(ge){return Promise.all(ge.map(function(_e){var Ue=[],gt=oe.splice(0,1)[0],We=o(gt,7),it=We[0],pt=We[2],U=We[3],st=We[4],Lt=We[5],nn=We[6],It=Se(it,_e,pt,U,Ue,!0,nn),Ze=B(It,P);return it&&Ze?It.p.then(function(En){return st[Lt]=En,pe(q,Ue)}):(it?st[Lt]=It:q=Ze?It.p:It,pe(q,Ue))}))}).then(function(){return q})}(we,Fe)).then(ze):!ae&&I.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():I.stringification&&ae?[ze(we)]:ae?ze(we):Promise.resolve(ze(we));function nt(pe,q,oe){Object.assign(pe,q);var ge=b.map(function(_e){var Ue=pe[_e];return delete pe[_e],Ue});oe(),b.forEach(function(_e,Ue){pe[_e]=ge[Ue]})}function Se(pe,q,oe,ge,_e,Ue,gt){var We=void 0,it={},pt=q===void 0?"undefined":n(q),U=ne?function(Vt){var rt=gt||ge.type||E.getJSONType(q);ne(Object.assign(Vt||it,{keypath:pe,value:q,cyclic:oe,stateObj:ge,promisesData:_e,resolvingTypesonPromise:Ue,awaitingTypesonPromise:B(q,P)},rt!==void 0?{type:rt}:{}))}:null;if(pt in{string:1,boolean:1,number:1,undefined:1})return q===void 0||pt==="number"&&(isNaN(q)||q===-1/0||q===1/0)?(We=qe(pe,q,ge,_e,!1,Ue,U))!==q&&(it={replaced:We}):We=q,U&&U(),We;if(q===null)return U&&U(),q;if(oe&&!ge.iterateIn&&!ge.iterateUnsetNumeric){var st=R.indexOf(q);if(!(st<0))return ke[pe]="#",U&&U({cyclicKeypath:Oe[st]}),"#"+Oe[st];oe===!0&&(R.push(q),Oe.push(pe))}var Lt=O(q),nn=a(q),It=(Lt||nn)&&(!m.length||ge.replaced)||ge.iterateIn?q:qe(pe,q,ge,_e,Lt||nn,null,U),Ze=void 0;if(It!==q?(We=It,it={replaced:It}):nn||ge.iterateIn==="array"?(Ze=new Array(q.length),it={clone:Ze}):Lt||ge.iterateIn==="object"?it={clone:Ze={}}:(pe===""&&B(q,P)&&_e.push([pe,q,oe,ge,void 0,void 0,ge.type]),We=q),U&&U(),I.iterateNone)return Ze||We;if(!Ze)return We;if(ge.iterateIn){var En=function(rt){var _t={ownKeys:q.hasOwnProperty(rt)};nt(ge,_t,function(){var $t=pe+(pe?".":"")+te(rt),mn=Se($t,q[rt],!!oe,ge,_e,Ue);B(mn,P)?_e.push([$t,mn,!!oe,ge,Ze,rt,ge.type]):mn!==void 0&&(Ze[rt]=mn)})};for(var Eo in q)En(Eo);U&&U({endIterateIn:!0,end:!0})}else s(q).forEach(function(Vt){var rt=pe+(pe?".":"")+te(Vt);nt(ge,{ownKeys:!0},function(){var _t=Se(rt,q[Vt],!!oe,ge,_e,Ue);B(_t,P)?_e.push([rt,_t,!!oe,ge,Ze,Vt,ge.type]):_t!==void 0&&(Ze[Vt]=_t)})}),U&&U({endIterateOwn:!0,end:!0});if(ge.iterateUnsetNumeric){for(var Bo=q.length,Io=function(rt){if(!(rt in q)){var _t=pe+(pe?".":"")+rt;nt(ge,{ownKeys:!1},function(){var $t=Se(_t,void 0,!!oe,ge,_e,Ue);B($t,P)?_e.push([_t,$t,!!oe,ge,Ze,rt,ge.type]):$t!==void 0&&(Ze[rt]=$t)})}},Bn=0;Bn<Bo;Bn++)Io(Bn);U&&U({endIterateUnsetNumeric:!0,end:!0})}return Ze}function qe(pe,q,oe,ge,_e,Ue,gt){for(var We=_e?m:H,it=We.length;it--;){var pt=We[it];if(pt.test(q,oe)){var U=pt.type;if(z[U]){var st=ke[pe];ke[pe]=st?[U].concat(st):U}return Object.assign(oe,{type:U,replaced:!0}),!ae&&pt.replaceAsync||pt.replace?(gt&&gt({replacing:!0}),Se(pe,pt[ae||!pt.replaceAsync?"replace":"replaceAsync"](q,oe),dt&&"readonly",oe,ge,Ue,U)):(gt&&gt({typeDetected:!0}),Se(pe,q,dt&&"readonly",oe,ge,Ue,U))}}return q}};this.encapsulateSync=function(K,G,I){return W(K,G,Object.assign({},{throwOnBadSyncType:!0},I,{sync:!0}))},this.encapsulateAsync=function(K,G,I){return W(K,G,Object.assign({},{throwOnBadSyncType:!0},I,{sync:!1}))};var $e=this.revive=function(K,G){var I=(G=Object.assign({sync:!0},$,G)).sync,ae=K&&K.$types,ke=!0;if(!ae)return K;if(ae===!0)return K.$;ae.$&&O(ae.$)&&(K=K.$,ae=ae.$,ke=!1);var R=[],Oe={},Fe=function dt(ne,we,ze,nt,Se,qe){if(!(ke&&ne==="$types")){var pe=ae[ne];if(a(we)||O(we)){var q=a(we)?new Array(we.length):{};for(s(we).forEach(function(U){var st=dt(ne+(ne?".":"")+te(U),we[U],ze||q,nt,q,U);B(st,me)?q[U]=void 0:st!==void 0&&(q[U]=st)}),we=q;R.length;){var oe=o(R[0],4),ge=oe[0],_e=oe[1],Ue=oe[2],gt=oe[3],We=J(ge,_e);if(B(We,me))Ue[gt]=void 0;else{if(We===void 0)break;Ue[gt]=We}R.splice(0,1)}}if(!pe)return we;if(pe==="#"){var it=J(ze,we.substr(1));return it===void 0&&R.push([ze,we.substr(1),Se,qe]),it}var pt=nt.sync;return[].concat(pe).reduce(function(U,st){var Lt=z[st];if(!Lt)throw new Error("Unregistered type: "+st);return Lt[pt&&Lt.revive?"revive":!pt&&Lt.reviveAsync?"reviveAsync":"revive"](U,Oe)},we)}}("",K,null,G);return M(Fe=B(Fe,me)?void 0:Fe)?I&&G.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Fe:!I&&G.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():I?Fe:Promise.resolve(Fe)};this.reviveSync=function(K,G){return $e(K,Object.assign({},{throwOnBadSyncType:!0},G,{sync:!0}))},this.reviveAsync=function(K,G){return $e(K,Object.assign({},{throwOnBadSyncType:!0},G,{sync:!1}))},this.register=function(K,G){return G=G||{},[].concat(K).forEach(function I(ae){if(a(ae))return ae.map(I);ae&&s(ae).forEach(function(ke){if(ke==="#")throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(E.JSON_TYPES.includes(ke))throw new TypeError("Plain JSON object types are reserved as type names");var R=ae[ke],Oe=R.testPlainObjects?m:H,Fe=Oe.filter(function(nt){return nt.type===ke});if(Fe.length&&(Oe.splice(Oe.indexOf(Fe[0]),1),delete z[ke],delete T[ke]),R){if(typeof R=="function"){var dt=R;R={test:function(Se){return Se&&Se.constructor===dt},replace:function(Se){return ee({},Se)},revive:function(Se){return ee(Object.create(dt.prototype),Se)}}}else a(R)&&(R={test:R[0],replace:R[1],revive:R[2]});var ne={type:ke,test:R.test.bind(R)};R.replace&&(ne.replace=R.replace.bind(R)),R.replaceAsync&&(ne.replaceAsync=R.replaceAsync.bind(R));var we=typeof G.fallback=="number"?G.fallback:G.fallback?0:1/0;if(R.testPlainObjects?m.splice(we,0,ne):H.splice(we,0,ne),R.revive||R.reviveAsync){var ze={};R.revive&&(ze.revive=R.revive.bind(R)),R.reviveAsync&&(ze.reviveAsync=R.reviveAsync.bind(R)),z[ke]=ze}T[ke]=R}})}),this}}function ee($,m){return s(m).map(function(H){$[H]=m[H]}),$}function te($){return $.replace(/~/g,"~0").replace(/\./g,"~1")}function fe($){return $.replace(/~1/g,".").replace(/~0/g,"~")}function J($,m){if(m==="")return $;var H=m.indexOf(".");if(H>-1){var z=$[fe(m.substr(0,H))];return z===void 0?void 0:J(z,m.substr(H+1))}return $[fe(m)]}function me(){}function P($){this.p=new Promise($)}P.prototype.then=function($,m){var H=this;return new P(function(z,T){H.p.then(function(D){z($?$(D):D)},function(D){H.p.catch(function(Z){return m?m(Z):Promise.reject(Z)}).then(z,T)})})},P.prototype.catch=function($){return this.then(null,$)},P.resolve=function($){return new P(function(m){m($)})},P.reject=function($){return new P(function(m,H){H($)})},["all","race"].map(function($){P[$]=function(m){return new P(function(H,z){Promise[$](m.map(function(T){return T.p})).then(H,z)})}}),E.Undefined=me,E.Promise=P,E.isThenable=M,E.toStringTag=x,E.hasConstructorOf=B,E.isObject=le,E.isPlainObject=O,E.isUserObject=function $(m){if(!m||x(m)!=="Object")return!1;var H=c(m);return!H||B(m,Object)||$(H)},E.escapeKeyPathComponent=te,E.unescapeKeyPathComponent=fe,E.getByKeyPath=J,E.getJSONType=function($){return $===null?"null":a($)?"array":$===void 0?"undefined":n($)},E.JSON_TYPES=["null","boolean","number","string","array","object"];for(var V={userObject:{test:function(m,H){return E.isUserObject(m)},replace:function(m){return Object.assign({},m)},revive:function(m){return m}}},L=[[{sparseArrays:{testPlainObjects:!0,test:function(m){return Array.isArray(m)},replace:function(m,H){return H.iterateUnsetNumeric=!0,m}}},{sparseUndefined:{test:function(m,H){return m===void 0&&H.ownKeys===!1},replace:function(m){return null},revive:function(m){}}}],{undef:{test:function(m,H){return m===void 0&&(H.ownKeys||!("ownKeys"in H))},replace:function(m){return null},revive:function(m){return new E.Undefined}}}],g={StringObject:{test:function(m){return E.toStringTag(m)==="String"&&(m===void 0?"undefined":n(m))==="object"},replace:function(m){return String(m)},revive:function(m){return new String(m)}},BooleanObject:{test:function(m){return E.toStringTag(m)==="Boolean"&&(m===void 0?"undefined":n(m))==="object"},replace:function(m){return!!m},revive:function(m){return new Boolean(m)}},NumberObject:{test:function(m){return E.toStringTag(m)==="Number"&&(m===void 0?"undefined":n(m))==="object"},replace:function(m){return Number(m)},revive:function(m){return new Number(m)}}},S=[{nan:{test:function(m){return typeof m=="number"&&isNaN(m)},replace:function(m){return"NaN"},revive:function(m){return NaN}}},{infinity:{test:function(m){return m===1/0},replace:function(m){return"Infinity"},revive:function(m){return 1/0}}},{negativeInfinity:{test:function(m){return m===-1/0},replace:function(m){return"-Infinity"},revive:function(m){return-1/0}}}],y={date:{test:function(m){return E.toStringTag(m)==="Date"},replace:function(m){var H=m.getTime();return isNaN(H)?"NaN":H},revive:function(m){return m==="NaN"?new Date(NaN):new Date(m)}}},de={regexp:{test:function(m){return E.toStringTag(m)==="RegExp"},replace:function(m){return{source:m.source,flags:(m.global?"g":"")+(m.ignoreCase?"i":"")+(m.multiline?"m":"")+(m.sticky?"y":"")+(m.unicode?"u":"")}},revive:function(m){var H=m.source,z=m.flags;return new RegExp(H,z)}}},Q={map:{test:function(m){return E.toStringTag(m)==="Map"},replace:function(m){return Array.from(m.entries())},revive:function(m){return new Map(m)}}},Ee={set:{test:function(m){return E.toStringTag(m)==="Set"},replace:function(m){return Array.from(m.values())},revive:function(m){return new Set(m)}}},ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_=new Uint8Array(256),j=0;j<ce.length;j++)_[ce.charCodeAt(j)]=j;var X=function(m,H,z){for(var T=new Uint8Array(m,H,z),D=T.length,Z="",W=0;W<D;W+=3)Z+=ce[T[W]>>2],Z+=ce[(3&T[W])<<4|T[W+1]>>4],Z+=ce[(15&T[W+1])<<2|T[W+2]>>6],Z+=ce[63&T[W+2]];return D%3==2?Z=Z.substring(0,Z.length-1)+"=":D%3==1&&(Z=Z.substring(0,Z.length-2)+"=="),Z},Ce=function(m){var H=m.length,z=.75*m.length,T=0,D=void 0,Z=void 0,W=void 0,$e=void 0;m[m.length-1]==="="&&(z--,m[m.length-2]==="="&&z--);for(var K=new ArrayBuffer(z),G=new Uint8Array(K),I=0;I<H;I+=4)D=_[m.charCodeAt(I)],Z=_[m.charCodeAt(I+1)],W=_[m.charCodeAt(I+2)],$e=_[m.charCodeAt(I+3)],G[T++]=D<<2|Z>>4,G[T++]=(15&Z)<<4|W>>2,G[T++]=(3&W)<<6|63&$e;return K},Me={arraybuffer:{test:function(m){return E.toStringTag(m)==="ArrayBuffer"},replace:function(m,H){H.buffers||(H.buffers=[]);var z=H.buffers.indexOf(m);return z>-1?{index:z}:(H.buffers.push(m),X(m))},revive:function(m,H){if(H.buffers||(H.buffers=[]),(m===void 0?"undefined":n(m))==="object")return H.buffers[m.index];var z=Ce(m);return H.buffers.push(z),z}}},ue=typeof self>"u"?ui:self,Qe={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function($){var m=$,H=ue[m];H&&(Qe[$.toLowerCase()]={test:function(T){return E.toStringTag(T)===m},replace:function(T,D){var Z=T.buffer,W=T.byteOffset,$e=T.length;D.buffers||(D.buffers=[]);var K=D.buffers.indexOf(Z);return K>-1?{index:K,byteOffset:W,length:$e}:(D.buffers.push(Z),{encoded:X(Z),byteOffset:W,length:$e})},revive:function(T,D){D.buffers||(D.buffers=[]);var Z=T.byteOffset,W=T.length,$e=T.encoded,K=T.index,G=void 0;return"index"in T?G=D.buffers[K]:(G=Ce($e),D.buffers.push(G)),new H(G,Z,W)}})});var Ae={dataview:{test:function(m){return E.toStringTag(m)==="DataView"},replace:function(m,H){var z=m.buffer,T=m.byteOffset,D=m.byteLength;H.buffers||(H.buffers=[]);var Z=H.buffers.indexOf(z);return Z>-1?{index:Z,byteOffset:T,byteLength:D}:(H.buffers.push(z),{encoded:X(z),byteOffset:T,byteLength:D})},revive:function(m,H){H.buffers||(H.buffers=[]);var z=m.byteOffset,T=m.byteLength,D=m.encoded,Z=m.index,W=void 0;return"index"in m?W=H.buffers[Z]:(W=Ce(D),H.buffers.push(W)),new DataView(W,z,T)}}},Re={IntlCollator:{test:function(m){return E.hasConstructorOf(m,Intl.Collator)},replace:function(m){return m.resolvedOptions()},revive:function(m){return new Intl.Collator(m.locale,m)}},IntlDateTimeFormat:{test:function(m){return E.hasConstructorOf(m,Intl.DateTimeFormat)},replace:function(m){return m.resolvedOptions()},revive:function(m){return new Intl.DateTimeFormat(m.locale,m)}},IntlNumberFormat:{test:function(m){return E.hasConstructorOf(m,Intl.NumberFormat)},replace:function(m){return m.resolvedOptions()},revive:function(m){return new Intl.NumberFormat(m.locale,m)}}};function je($){for(var m=new Uint16Array($.length),H=0;H<$.length;H++)m[H]=$.charCodeAt(H);return m.buffer}var Be={file:{test:function(m){return E.toStringTag(m)==="File"},replace:function(m){var H=new XMLHttpRequest;if(H.open("GET",URL.createObjectURL(m),!1),typeof TextEncoder<"u"&&H.overrideMimeType("text/plain; charset=utf-16le"),H.status!==200&&H.status!==0)throw new Error("Bad Blob access: "+H.status);return H.send(),{type:m.type,stringContents:H.responseText,name:m.name,lastModified:m.lastModified}},revive:function(m){var H=m.name,z=m.type,T=m.stringContents,D=m.lastModified,Z=je(T);return new File([Z],H,{type:z,lastModified:D})},replaceAsync:function(m){return new E.Promise(function(H,z){if(m.isClosed)z(new Error("The File is closed"));else{var T=new FileReader;T.addEventListener("load",function(){H({type:m.type,stringContents:T.result,name:m.name,lastModified:m.lastModified})}),T.addEventListener("error",function(){z(T.error)}),T.readAsText(m,"UTF-16")}})}}};return[V,L,g,S,y,de,{imagedata:{test:function(m){return E.toStringTag(m)==="ImageData"},replace:function(m){return{array:Array.from(m.data),width:m.width,height:m.height}},revive:function(m){return new ImageData(new Uint8ClampedArray(m.array),m.width,m.height)}}},{imagebitmap:{test:function(m){return E.toStringTag(m)==="ImageBitmap"||m&&m.dataset&&m.dataset.toStringTag==="ImageBitmap"},replace:function(m){var H=document.createElement("canvas");return H.getContext("2d").drawImage(m,0,0),H.toDataURL()},revive:function(m){var H=document.createElement("canvas"),z=H.getContext("2d"),T=document.createElement("img");return T.onload=function(){z.drawImage(T,0,0)},T.src=m,H},reviveAsync:function(m){var H=document.createElement("canvas"),z=H.getContext("2d"),T=document.createElement("img");return T.onload=function(){z.drawImage(T,0,0)},T.src=m,createImageBitmap(H)}}},Be,{file:Be.file,filelist:{test:function(m){return E.toStringTag(m)==="FileList"},replace:function(m){for(var H=[],z=0;z<m.length;z++)H[z]=m.item(z);return H},revive:function(m){function H(){this._files=arguments[0],this.length=this._files.length}return H.prototype.item=function(z){return this._files[z]},H.prototype[Symbol.toStringTag]="FileList",new H(m)}}},{blob:{test:function(m){return E.toStringTag(m)==="Blob"},replace:function(m){var H=new XMLHttpRequest;if(H.open("GET",URL.createObjectURL(m),!1),typeof TextEncoder<"u"&&H.overrideMimeType("text/plain; charset=utf-16le"),H.status!==200&&H.status!==0)throw new Error("Bad Blob access: "+H.status);return H.send(),{type:m.type,stringContents:H.responseText}},revive:function(m){var H=m.type,z=m.stringContents;return new Blob([je(z)],{type:H})},replaceAsync:function(m){return new E.Promise(function(H,z){if(m.isClosed)z(new Error("The Blob is closed"));else{var T=new FileReader;T.addEventListener("load",function(){H({type:m.type,stringContents:T.result})}),T.addEventListener("error",function(){z(T.error)}),T.readAsText(m,"UTF-16")}})}}}].concat(typeof Map=="function"?Q:[],typeof Set=="function"?Ee:[],typeof ArrayBuffer=="function"?Me:[],typeof Uint8Array=="function"?Qe:[],typeof DataView=="function"?Ae:[],typeof Intl<"u"?Re:[])})}),xn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pn=new Uint8Array(256);for(var io=0;io<xn.length;io++)Pn[xn.charCodeAt(io)]=io;var ci=function(e,n,o){o==null&&(o=e.byteLength);for(var r=new Uint8Array(e,0,o),s=r.length,a="",u=0;u<s;u+=3)a+=xn[r[u]>>2],a+=xn[(r[u]&3)<<4|r[u+1]>>4],a+=xn[(r[u+1]&15)<<2|r[u+2]>>6],a+=xn[r[u+2]&63];return s%3===2?a=a.substring(0,a.length-1)+"=":s%3===1&&(a=a.substring(0,a.length-2)+"=="),a},_s=function(e){var n=e.length,o=e.length*.75,r=0,s,a,u,c;e[e.length-1]==="="&&(o--,e[e.length-2]==="="&&o--);for(var p=new ArrayBuffer(o),C=new Uint8Array(p),b=0;b<n;b+=4)s=Pn[e.charCodeAt(b)],a=Pn[e.charCodeAt(b+1)],u=Pn[e.charCodeAt(b+2)],c=Pn[e.charCodeAt(b+3)],C[r++]=s<<2|a>>4,C[r++]=(a&15)<<4|u>>2,C[r++]=(u&3)<<6|c&63;return p},ud=typeof self>"u"?global:self,Ds={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(t){var e=t,n=ud[e];n&&(Ds[t.toLowerCase()+"2"]={test:function(o){return Mo.toStringTag(o)===e},replace:function(o){var r=o.buffer,s=o.byteOffset,a=o.length;return{buffer:r,byteOffset:s,length:a}},revive:function(o){var r=o.buffer,s=o.byteOffset,a=o.length;return new n(r,s,a)}})});var cd={arraybuffer:{test:function(t){return Mo.toStringTag(t)==="ArrayBuffer"},replace:function(t){return ci(t,0,t.byteLength)},revive:function(t){var e=_s(t);return e}}},Et=new Mo().register(dd),pd="FileReaderSync"in self,Co=[],qo=0;Et.register([cd,Ds,{blob2:{test:function(t){return Mo.toStringTag(t)==="Blob"},replace:function(t){if(t.isClosed)throw new Error("The Blob is closed");if(pd){var e=Is(t,"binary"),n=ci(e,0,e.byteLength);return{type:t.type,data:n}}else{Co.push(t);var o={type:t.type,data:{start:qo,end:qo+t.size}};return console.log("b.size: "+t.size),qo+=t.size,o}},finalize:function(t,e){t.data=ci(e,0,e.byteLength)},revive:function(t){var e=t.type,n=t.data;return new Blob([_s(n)],{type:e})}}}]);Et.mustFinalize=function(){return Co.length>0};Et.finalize=function(t){return tn(void 0,void 0,void 0,function(){var e,n,o,r,s,a,u,c,p,C;return Ot(this,function(b){switch(b.label){case 0:return[4,Bs(new Blob(Co),"binary")];case 1:if(e=b.sent(),t){for(n=0,o=t;n<o.length;n++)if(r=o[n],r.$types){s=r.$types,a=s.$,a&&(s=s.$);for(u in s)c=s[u],p=Et.types[c],p&&p.finalize&&(C=ft.getByKeyPath(r,a?"$."+u:u),p.finalize(C,e.slice(C.start,C.end)))}}return Co=[],[2]}})})};var hd=2e3;function fd(t,e){return tn(this,void 0,void 0,function(){function n(){return tn(this,void 0,void 0,function(){var p,C,b,M,x,B,O,le,E;return Ot(this,function(ee){switch(ee.label){case 0:return[4,Promise.all(t.tables.map(function(te){return te.count()}))];case 1:p=ee.sent(),p.forEach(function(te,fe){return r[fe].rowCount=te}),c.totalRows=p.reduce(function(te,fe){return te+fe}),C=JSON.stringify(a,void 0,s?2:void 0),b=C.lastIndexOf("]"),M=C.substring(0,b),o.push(M),x=e.filter,B=function(te){var fe,J,me,P,V,L,g,S,y,de,Q,Ee;return Ot(this,function(ce){switch(ce.label){case 0:fe=t.table(te),J=fe.schema.primKey,me=!!J.keyPath,P=e.numRowsPerChunk||hd,V=me?{tableName:fe.name,inbound:!0,rows:[]}:{tableName:fe.name,inbound:!1,rows:[]},L=JSON.stringify(V,void 0,s?2:void 0),s&&(L=L.split(`
`).join(`
    `)),g=L.lastIndexOf("]"),o.push(L.substring(0,g)),S=null,y=0,de=!0,Q=function(){var _,j,X,Ce,Ae,Me,ue,Qe,Ae;return Ot(this,function(Re){switch(Re.label){case 0:return u&&ft.ignoreTransaction(function(){return u(c)}),_=S==null?fe.limit(P):fe.where(":id").above(S).limit(P),[4,_.toArray()];case 1:return j=Re.sent(),j.length===0?[2,"break"]:(S!=null&&y>0&&(o.push(","),s&&o.push(`
      `)),de=j.length===P,me?(X=x?j.filter(function(je){return x(te,je)}):j,Ce=X.map(function(je){return Et.encapsulate(je)}),Et.mustFinalize()?[4,ft.waitFor(Et.finalize(Ce))]:[3,3]):[3,4]);case 2:Re.sent(),Re.label=3;case 3:return Ae=JSON.stringify(Ce,void 0,s?2:void 0),s&&(Ae=Ae.split(`
`).join(`
      `)),o.push(new Blob([Ae.substring(1,Ae.length-1)])),y=X.length,S=j.length>0?ft.getByKeyPath(j[j.length-1],J.keyPath):null,[3,8];case 4:return[4,_.primaryKeys()];case 5:return Me=Re.sent(),ue=Me.map(function(je,Be){return[je,j[Be]]}),x&&(ue=ue.filter(function(je){var Be=je[0],$=je[1];return x(te,$,Be)})),Qe=ue.map(function(je){return Et.encapsulate(je)}),Et.mustFinalize()?[4,ft.waitFor(Et.finalize(Qe))]:[3,7];case 6:Re.sent(),Re.label=7;case 7:Ae=JSON.stringify(Qe,void 0,s?2:void 0),s&&(Ae=Ae.split(`
`).join(`
      `)),o.push(new Blob([Ae.substring(1,Ae.length-1)])),y=ue.length,S=Me.length>0?Me[Me.length-1]:null,Re.label=8;case 8:return c.completedRows+=j.length,[2]}})},ce.label=1;case 1:return de?[5,Q()]:[3,3];case 2:return Ee=ce.sent(),Ee==="break"?[3,3]:[3,1];case 3:return o.push(L.substr(g)),c.completedTables+=1,c.completedTables<c.totalTables&&o.push(","),[2]}})},O=0,le=r,ee.label=2;case 2:return O<le.length?(E=le[O].name,[5,B(E)]):[3,5];case 3:ee.sent(),ee.label=4;case 4:return O++,[3,2];case 5:return o.push(C.substr(b)),c.done=!0,u&&ft.ignoreTransaction(function(){return u(c)}),[2]}})})}var o,r,s,a,u,c;return Ot(this,function(p){switch(p.label){case 0:e=e||{},o=[],r=t.tables.map(function(C){return{name:C.name,schema:ad(C),rowCount:0}}),s=e.prettyJson,a={formatName:"dexie",formatVersion:1,data:{databaseName:t.name,databaseVersion:t.verno,tables:r,data:[]}},u=e.progressCallback,c={done:!1,completedRows:0,completedTables:0,totalRows:NaN,totalTables:t.tables.length},p.label=1;case 1:return p.trys.push([1,,6,7]),e.noTransaction?[4,n()]:[3,3];case 2:return p.sent(),[3,5];case 3:return[4,t.transaction("r",t.tables,n)];case 4:p.sent(),p.label=5;case 5:return[3,7];case 6:return Et.finalize(),[7];case 7:return u&&ft.ignoreTransaction(function(){return u(c)}),[2,new Blob(o,{type:"text/json"})]}})})}var gd=1,md={Stream:function(){}},vd=Li(function(t,e){(function(n){var o=typeof process=="object"&&ds?ds:self;n.parser=function(L){return new x(L)},n.CParser=x,n.CStream=O,n.createStream=B,n.MAX_BUFFER_LENGTH=10*1024*1024,n.DEBUG=o.CDEBUG==="debug",n.INFO=o.CDEBUG==="debug"||o.CDEBUG==="info",n.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var r={textNode:void 0,numberNode:""},s=n.EVENTS.filter(function(L){return L!=="error"&&L!=="end"}),a=0,u;n.STATE={BEGIN:a++,VALUE:a++,OPEN_OBJECT:a++,CLOSE_OBJECT:a++,OPEN_ARRAY:a++,CLOSE_ARRAY:a++,TEXT_ESCAPE:a++,STRING:a++,BACKSLASH:a++,END:a++,OPEN_KEY:a++,CLOSE_KEY:a++,TRUE:a++,TRUE2:a++,TRUE3:a++,FALSE:a++,FALSE2:a++,FALSE3:a++,FALSE4:a++,NULL:a++,NULL2:a++,NULL3:a++,NUMBER_DECIMAL_POINT:a++,NUMBER_DIGIT:a++};for(var c in n.STATE)n.STATE[n.STATE[c]]=c;a=n.STATE;const p={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};Object.create||(Object.create=function(L){function g(){this.__proto__=L}return g.prototype=L,new g}),Object.getPrototypeOf||(Object.getPrototypeOf=function(L){return L.__proto__}),Object.keys||(Object.keys=function(L){var g=[];for(var S in L)L.hasOwnProperty(S)&&g.push(S);return g});function C(L){var g=Math.max(n.MAX_BUFFER_LENGTH,10),S=0;for(var y in r){var de=L[y]===void 0?0:L[y].length;if(de>g)switch(y){case"text":closeText(L);break;default:J(L,"Max buffer length exceeded: "+y)}S=Math.max(S,de)}L.bufferCheckPosition=n.MAX_BUFFER_LENGTH-S+L.position}function b(L){for(var g in r)L[g]=r[g]}var M=/[\\"\n]/g;function x(L){if(!(this instanceof x))return new x(L);var g=this;b(g),g.bufferCheckPosition=n.MAX_BUFFER_LENGTH,g.q=g.c=g.p="",g.opt=L||{},g.closed=g.closedRoot=g.sawRoot=!1,g.tag=g.error=null,g.state=a.BEGIN,g.stack=new Array,g.position=g.column=0,g.line=1,g.slashed=!1,g.unicodeI=0,g.unicodeS=null,g.depth=0,le(g,"onready")}x.prototype={end:function(){me(this)},write:V,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{u=md.Stream}catch{u=function(){}}function B(L){return new O(L)}function O(L){if(!(this instanceof O))return new O(L);this._parser=new x(L),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var g=this;u.apply(g),this._parser.onend=function(){g.emit("end")},this._parser.onerror=function(S){g.emit("error",S),g._parser.error=null},s.forEach(function(S){Object.defineProperty(g,"on"+S,{get:function(){return g._parser["on"+S]},set:function(y){if(!y)return g.removeAllListeners(S),g._parser["on"+S]=y,y;g.on(S,y)},enumerable:!0,configurable:!1})})}O.prototype=Object.create(u.prototype,{constructor:{value:O}}),O.prototype.write=function(L){L=new Buffer(L);for(var g=0;g<L.length;g++){var S=L[g];if(this.bytes_remaining>0){for(var y=0;y<this.bytes_remaining;y++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+y]=L[y];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,g=g+y-1,this._parser.write(this.string),this.emit("data",this.string);continue}if(this.bytes_remaining===0&&S>=128)if(S>=194&&S<=223&&(this.bytes_in_sequence=2),S>=224&&S<=239&&(this.bytes_in_sequence=3),S>=240&&S<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+g>L.length){for(var de=0;de<=L.length-1-g;de++)this.temp_buffs[this.bytes_in_sequence][de]=L[g+de];return this.bytes_remaining=g+this.bytes_in_sequence-L.length,!0}else{this.string=L.slice(g,g+this.bytes_in_sequence).toString(),g=g+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string);continue}for(var Q=g;Q<L.length&&!(L[Q]>=128);Q++);this.string=L.slice(g,Q).toString(),this._parser.write(this.string),this.emit("data",this.string),g=Q-1}},O.prototype.end=function(L){return L&&L.length&&this._parser.write(L.toString()),this._parser.end(),!0},O.prototype.on=function(L,g){var S=this;return!S._parser["on"+L]&&s.indexOf(L)!==-1&&(S._parser["on"+L]=function(){var y=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);y.splice(0,0,L),S.emit.apply(S,y)}),u.prototype.on.call(S,L,g)},O.prototype.destroy=function(){b(this._parser),this.emit("close")};function le(L,g,S){n.INFO&&console.log("-- emit",g,S),L[g]&&L[g](S)}function E(L,g,S){ee(L),le(L,g,S)}function ee(L,g){L.textNode=fe(L.opt,L.textNode),L.textNode!==void 0&&le(L,g||"onvalue",L.textNode),L.textNode=void 0}function te(L){L.numberNode&&le(L,"onvalue",parseFloat(L.numberNode)),L.numberNode=""}function fe(L,g){return g===void 0||(L.trim&&(g=g.trim()),L.normalize&&(g=g.replace(/\s+/g," "))),g}function J(L,g){return ee(L),g+=`
Line: `+L.line+`
Column: `+L.column+`
Char: `+L.c,g=new Error(g),L.error=g,le(L,"onerror",g),L}function me(L){return(L.state!==a.VALUE||L.depth!==0)&&J(L,"Unexpected end"),ee(L),L.c="",L.closed=!0,le(L,"onend"),x.call(L,L.opt),L}function P(L){return L===p.carriageReturn||L===p.lineFeed||L===p.space||L===p.tab}function V(L){var g=this;if(this.error)throw this.error;if(g.closed)return J(g,"Cannot write after close. Assign an onready handler.");if(L===null)return me(g);var S=0,y=L.charCodeAt(0),de=g.p;for(n.DEBUG&&console.log("write -> ["+L+"]");y&&(de=y,g.c=y=L.charCodeAt(S++),de!==y?g.p=de:de=g.p,!!y);)switch(n.DEBUG&&console.log(S,y,n.STATE[g.state]),g.position++,y===p.lineFeed?(g.line++,g.column=0):g.column++,g.state){case a.BEGIN:y===p.openBrace?g.state=a.OPEN_OBJECT:y===p.openBracket?g.state=a.OPEN_ARRAY:P(y)||J(g,"Non-whitespace before {[.");continue;case a.OPEN_KEY:case a.OPEN_OBJECT:if(P(y))continue;if(g.state===a.OPEN_KEY)g.stack.push(a.CLOSE_KEY);else if(y===p.closeBrace){le(g,"onopenobject"),this.depth++,le(g,"oncloseobject"),this.depth--,g.state=g.stack.pop()||a.VALUE;continue}else g.stack.push(a.CLOSE_OBJECT);y===p.doubleQuote?g.state=a.STRING:J(g,'Malformed object key should start with "');continue;case a.CLOSE_KEY:case a.CLOSE_OBJECT:if(P(y))continue;g.state,a.CLOSE_KEY,y===p.colon?(g.state===a.CLOSE_OBJECT?(g.stack.push(a.CLOSE_OBJECT),ee(g,"onopenobject"),this.depth++):ee(g,"onkey"),g.state=a.VALUE):y===p.closeBrace?(E(g,"oncloseobject"),this.depth--,g.state=g.stack.pop()||a.VALUE):y===p.comma?(g.state===a.CLOSE_OBJECT&&g.stack.push(a.CLOSE_OBJECT),ee(g),g.state=a.OPEN_KEY):J(g,"Bad object");continue;case a.OPEN_ARRAY:case a.VALUE:if(P(y))continue;if(g.state===a.OPEN_ARRAY)if(le(g,"onopenarray"),this.depth++,g.state=a.VALUE,y===p.closeBracket){le(g,"onclosearray"),this.depth--,g.state=g.stack.pop()||a.VALUE;continue}else g.stack.push(a.CLOSE_ARRAY);y===p.doubleQuote?g.state=a.STRING:y===p.openBrace?g.state=a.OPEN_OBJECT:y===p.openBracket?g.state=a.OPEN_ARRAY:y===p.t?g.state=a.TRUE:y===p.f?g.state=a.FALSE:y===p.n?g.state=a.NULL:y===p.minus?g.numberNode+="-":p._0<=y&&y<=p._9?(g.numberNode+=String.fromCharCode(y),g.state=a.NUMBER_DIGIT):J(g,"Bad value");continue;case a.CLOSE_ARRAY:if(y===p.comma)g.stack.push(a.CLOSE_ARRAY),ee(g,"onvalue"),g.state=a.VALUE;else if(y===p.closeBracket)E(g,"onclosearray"),this.depth--,g.state=g.stack.pop()||a.VALUE;else{if(P(y))continue;J(g,"Bad array")}continue;case a.STRING:g.textNode===void 0&&(g.textNode="");var Q=S-1,Ee=g.slashed,ce=g.unicodeI;e:for(;;){for(n.DEBUG&&console.log(S,y,n.STATE[g.state],Ee);ce>0;)if(g.unicodeS+=String.fromCharCode(y),y=L.charCodeAt(S++),g.position++,ce===4?(g.textNode+=String.fromCharCode(parseInt(g.unicodeS,16)),ce=0,Q=S-1):ce++,!y)break e;if(y===p.doubleQuote&&!Ee){g.state=g.stack.pop()||a.VALUE,g.textNode+=L.substring(Q,S-1),g.position+=S-1-Q;break}if(y===p.backslash&&!Ee&&(Ee=!0,g.textNode+=L.substring(Q,S-1),g.position+=S-1-Q,y=L.charCodeAt(S++),g.position++,!y))break;if(Ee){if(Ee=!1,y===p.n?g.textNode+=`
`:y===p.r?g.textNode+="\r":y===p.t?g.textNode+="	":y===p.f?g.textNode+="\f":y===p.b?g.textNode+="\b":y===p.u?(ce=1,g.unicodeS=""):g.textNode+=String.fromCharCode(y),y=L.charCodeAt(S++),g.position++,Q=S-1,y)continue;break}M.lastIndex=S;var _=M.exec(L);if(_===null){S=L.length+1,g.textNode+=L.substring(Q,S-1),g.position+=S-1-Q;break}if(S=_.index+1,y=L.charCodeAt(_.index),!y){g.textNode+=L.substring(Q,S-1),g.position+=S-1-Q;break}}g.slashed=Ee,g.unicodeI=ce;continue;case a.TRUE:y===p.r?g.state=a.TRUE2:J(g,"Invalid true started with t"+y);continue;case a.TRUE2:y===p.u?g.state=a.TRUE3:J(g,"Invalid true started with tr"+y);continue;case a.TRUE3:y===p.e?(le(g,"onvalue",!0),g.state=g.stack.pop()||a.VALUE):J(g,"Invalid true started with tru"+y);continue;case a.FALSE:y===p.a?g.state=a.FALSE2:J(g,"Invalid false started with f"+y);continue;case a.FALSE2:y===p.l?g.state=a.FALSE3:J(g,"Invalid false started with fa"+y);continue;case a.FALSE3:y===p.s?g.state=a.FALSE4:J(g,"Invalid false started with fal"+y);continue;case a.FALSE4:y===p.e?(le(g,"onvalue",!1),g.state=g.stack.pop()||a.VALUE):J(g,"Invalid false started with fals"+y);continue;case a.NULL:y===p.u?g.state=a.NULL2:J(g,"Invalid null started with n"+y);continue;case a.NULL2:y===p.l?g.state=a.NULL3:J(g,"Invalid null started with nu"+y);continue;case a.NULL3:y===p.l?(le(g,"onvalue",null),g.state=g.stack.pop()||a.VALUE):J(g,"Invalid null started with nul"+y);continue;case a.NUMBER_DECIMAL_POINT:y===p.period?(g.numberNode+=".",g.state=a.NUMBER_DIGIT):J(g,"Leading zero not followed by .");continue;case a.NUMBER_DIGIT:p._0<=y&&y<=p._9?g.numberNode+=String.fromCharCode(y):y===p.period?(g.numberNode.indexOf(".")!==-1&&J(g,"Invalid number has two dots"),g.numberNode+="."):y===p.e||y===p.E?((g.numberNode.indexOf("e")!==-1||g.numberNode.indexOf("E")!==-1)&&J(g,"Invalid number has two exponential"),g.numberNode+="e"):y===p.plus||y===p.minus?(de===p.e||de===p.E||J(g,"Invalid symbol in number"),g.numberNode+=String.fromCharCode(y)):(te(g),S--,g.state=g.stack.pop()||a.VALUE);continue;default:J(g,"Unknown state: "+g.state)}return g.position>=g.bufferCheckPosition&&C(g),g}})(e)});function yd(t){var e=0,n=wd(),o={pullAsync:function(r){return tn(this,void 0,void 0,function(){var s,a,u;return Ot(this,function(c){switch(c.label){case 0:return s=t.slice(e,e+r),e+=r,[4,Bs(s,"text")];case 1:return a=c.sent(),u=n.write(a),o.result=u||{},[2,u]}})})},pullSync:function(r){var s=t.slice(e,e+r);e+=r;var a=Is(s,"text"),u=n.write(a);return o.result=u||{},u},done:function(){return n.done()},eof:function(){return e>=t.size},result:{}};return o}function wd(t){var e=vd.parser(),n=0,o,r=[],s,a,u=!1,c=!1;return e.onopenobject=function(p){var C={};C.incomplete=!0,o||(o=C),s&&(r.push([a,s,c]),c?s.push(C):s[a]=C),s=C,a=p,c=!1,++n},e.onkey=function(p){return a=p},e.onvalue=function(p){return c?s.push(p):s[a]=p},e.oncloseobject=function(){var p;delete s.incomplete,a=null,--n===0?u=!0:(p=r.pop(),a=p[0],s=p[1],c=p[2])},e.onopenarray=function(){var p=[];p.incomplete=!0,o||(o=p),s&&(r.push([a,s,c]),c?s.push(p):s[a]=p),s=p,c=!0,a=null,++n},e.onclosearray=function(){var p;delete s.incomplete,a=null,--n===0?u=!0:(p=r.pop(),a=p[0],s=p[1],c=p[2])},{write:function(p){return e.write(p),o},done:function(){return u}}}var Ps=1024;function bd(t,e){return tn(this,void 0,void 0,function(){var n,o,r,s;return Ot(this,function(a){switch(a.label){case 0:return e=e||{},n=e.chunkSizeBytes||Ps*1024,[4,Ns(t,n)];case 1:return o=a.sent(),r=o.result.data,s=new ft(r.databaseName),s.version(r.databaseVersion).stores(ld(r)),[4,Os(s,o,e)];case 2:return a.sent(),[2,s]}})})}function Os(t,e,n){return tn(this,void 0,void 0,function(){function o(){return tn(this,void 0,void 0,function(){var B,O,le,E,ee;return Ot(this,function(te){switch(te.label){case 0:B=function(fe){var J,me,P,V,L,g,S,y,de,Q,Ee,ce;return Ot(this,function(_){switch(_.label){case 0:if(!fe.rows)return[2,"break"];if(!fe.rows.incomplete&&fe.rows.length===0)return[2,"continue"];if(p&&ft.ignoreTransaction(function(){return p(C)}),J=fe.tableName,me=t.table(J),P=c.tables.filter(function(j){return j.name===J})[0].schema,!me){if(n.acceptMissingTables)return[2,"continue"];throw new Error("Exported table "+fe.tableName+" is missing in installed database")}if(!n.acceptChangedPrimaryKey&&P.split(",")[0]!=me.schema.primKey.src)throw new Error("Primary key differs for table "+fe.tableName+". ");for(V=fe.rows,L=[],g=0;g<V.length&&(S=V[g],!S.incomplete);g++)L.push(Et.revive(S));return y=n.filter,de=y?fe.inbound?L.filter(function(j){return y(J,j)}):L.filter(function(j){var X=j[0],Ce=j[1];return y(J,Ce,X)}):L,Q=fe.inbound?[void 0,de]:[de.map(function(j){return j[0]}),L.map(function(j){return j[1]})],Ee=Q[0],ce=Q[1],n.overwriteValues?[4,me.bulkPut(ce,Ee)]:[3,2];case 1:return _.sent(),[3,4];case 2:return[4,me.bulkAdd(ce,Ee)];case 3:_.sent(),_.label=4;case 4:return C.completedRows+=L.length,L.incomplete||(C.completedTables+=1),V.splice(0,L.length),[2]}})},O=0,le=c.data,te.label=1;case 1:return O<le.length?(E=le[O],[5,B(E)]):[3,4];case 2:if(ee=te.sent(),ee==="break")return[3,4];te.label=3;case 3:return O++,[3,1];case 4:for(;c.data.length>0&&c.data[0].rows&&!c.data[0].rows.incomplete;)c.data.splice(0,1);return!s.done()&&!s.eof()?u?(s.pullSync(r),[3,7]):[3,5]:[3,8];case 5:return[4,ft.waitFor(s.pullAsync(r))];case 6:te.sent(),te.label=7;case 7:return[3,9];case 8:return[3,10];case 9:return[3,0];case 10:return[2]}})})}var r,s,a,u,c,p,C,b,M,x;return Ot(this,function(B){switch(B.label){case 0:return n=n||{},r=n.chunkSizeBytes||Ps*1024,[4,Ns(e,r)];case 1:if(s=B.sent(),a=s.result,u="FileReaderSync"in self,c=a.data,!n.acceptNameDiff&&t.name!==c.databaseName)throw new Error("Name differs. Current database name is "+t.name+" but export is "+c.databaseName);if(!n.acceptVersionDiff&&t.verno!==c.databaseVersion)throw new Error("Database version differs. Current database is in version "+t.verno+" but export is "+c.databaseVersion);if(p=n.progressCallback,C={done:!1,completedRows:0,completedTables:0,totalRows:c.tables.reduce(function(O,le){return O+le.rowCount},0),totalTables:c.tables.length},p&&ft.ignoreTransaction(function(){return p(C)}),!n.clearTablesBeforeImport)return[3,5];b=0,M=t.tables,B.label=2;case 2:return b<M.length?(x=M[b],[4,x.clear()]):[3,5];case 3:B.sent(),B.label=4;case 4:return b++,[3,2];case 5:return n.noTransaction?[4,o()]:[3,7];case 6:return B.sent(),[3,9];case 7:return[4,t.transaction("rw",t.tables,o)];case 8:B.sent(),B.label=9;case 9:return C.done=!0,p&&ft.ignoreTransaction(function(){return p(C)}),[2]}})})}function Ns(t,e){return tn(this,void 0,void 0,function(){var n,o;return Ot(this,function(r){switch(r.label){case 0:n="slice"in t?yd(t):t,r.label=1;case 1:return n.eof()?[3,3]:[4,n.pullAsync(e)];case 2:return r.sent(),n.result.data&&n.result.data.data?[3,3]:[3,1];case 3:if(o=n.result,!o||o.formatName!="dexie")throw new Error("Given file is not a dexie export");if(o.formatVersion>gd)throw new Error("Format version "+o.formatVersion+" not supported");if(!o.data)throw new Error("No data in export file");if(!o.data.databaseName)throw new Error("Missing databaseName in export file");if(!o.data.databaseVersion)throw new Error("Missing databaseVersion in export file");if(!o.data.tables)throw new Error("Missing tables in export file");return[2,n]}})})}ft.prototype.export=function(t){return fd(this,t)};ft.prototype.import=function(t,e){return Os(this,t,e)};ft.import=function(t,e){return bd(t,e)};const Nt=new ft("wavemakerv4"),Cd={Settings:"uuid, settings, lastupdated",Writer:"uuid, title, description, files, lastupdated",Cards:"uuid, title,description,content,style,labels,options,lastupdated",Files:"uuid, writerid, title, content, lastupdated",Snowflake:"uuid, title, description,content,lastupdated",Timeline:"uuid, title, description,content,lastupdated",Gridplanner:"uuid, title, description,content,lastupdated",Mindmap:"uuid, title, description,content,lastupdated",ImageLibrary:"uuid, title, base64"};Nt.version(1).stores(Cd);const Ld=async t=>{await Nt.import(t,{clearTablesBeforeImport:!0})},$d=async()=>await Nt.export();var us;const kd=typeof window<"u";kd&&((us=window==null?void 0:window.navigator)!=null&&us.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function xd(t){return bl()?(Cl(t),!0):!1}function gn(t,e){const n=Qt(e==null?void 0:e.initialValue),o=t.subscribe({next:r=>n.value=r,error:e==null?void 0:e.onError});return xd(()=>{o.unsubscribe()}),n}const Hd={data(){return{db:Nt,useObservable:gn,liveQuery:fn,databaseImport:Ld,databaseExport:$d,windowID:null}},methods:{async getImage(t){return await this.$root.db.ImageLibrary.get(t)},async AddRecord(t,e){return e.lastupdated=Date.now(),await this.db[t].add(e)},async UpdateRecord(t,e,n){return n.uuid=e,n.lastupdated=Date.now(),await this.db[t].put(JSON.parse(JSON.stringify(n)))},async DeleteRecord(t,e){return await this.db[t].delete(e)},clearDatabase(){this.$root.db.Settings.clear(),this.$root.db.Writer.clear(),this.$root.db.Cards.clear(),this.$root.db.Files.clear(),this.$root.db.Mindmap.clear(),this.$root.db.ImageLibrary.clear(),this.$root.db.Gridplanner.clear(),this.$root.db.Snowflake.clear(),this.$root.db.Timeline.clear()},async getSettings(t){t||(t=(await this.$root.db.Settings.toArray())[0].uuid),this.$root.session.settings=this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Settings.get(t)))},async closeProject(){this.$swal({title:"Are you sure?",text:"This will close the project and clear the database!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, close it!"}).then(t=>{t.isConfirmed&&(window.removeEventListener("beforeunload",this.$root.unloadEvent),this.$root.session={},this.$root.popup={},this.$root.dbloaded=!1,this.$root.clearDatabase(),this.$swal("Project Closed!","Your file has been closed.","success"))})}},beforeMount(){this.windowID=this.uuid()}},Ad={data(){return{SettingsTemplate:{documentprefs:{align:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-align")),fontsize:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-fontsize")),lspacing:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-lspacing")),indentation:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-indentation")),pspacing:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-pspacing")),page:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-page")),font:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-font")),color:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-color")),bgcolor:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-bgcolor")),h1align:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-h1align")),h2align:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-h2align")),h3align:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-h3align")),h4align:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-h4align")),distractionfree_font:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--distractionfree-font")),distractionfree_bg:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--distractionfree-bg")),distractionfree_fg:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--distractionfree-fg")),typesound:!1,caretfocus:!1}}}},methods:{dotrim(t){return t[0]===" "&&(t=t.substring(1)),t},makeNewCard(t){let e=this.$root.uuid();t&&(e=t);let n={};n.uuid=e,n.projectID=this.$root.$data.session.selectedProject,n.title="",n.description="",n.showdesc=!1,n.content="",n.labels=[],n.images=[],n.style="",n.options={},n.color="--card1",this.$root.AddRecord("Cards",n),this.$root.$data.session.EditCard=n.uuid}}},Vd={data(){return{GoogleDriveApi:{CLIENT_ID:"451112835343-dfdk5iglpkorfmt3ouu5puogmvmvn22p.apps.googleusercontent.com",API_KEY:"AIzaSyAq4C0VCC3I88n7GdW1VilDmcZdYle-UoU",DISCOVERY_DOC:"https://www.googleapis.com/discovery/v1/apis/drive/v3/rest",SCOPES:"https://www.googleapis.com/auth/drive.file",gapiInited:!1,gisInited:!1,tokenClient:null,loggedin:!1,files:[],CURRENT_FILE_OBJ:null,CURRENT_FILE_NAME:"",CURRENT_FILE_CONTENTS:"",loading:!1}}},methods:{async GoogleDriveInitializeGapi(){await window.gapi.client.init({apiKey:this.GoogleDriveApi.API_KEY,discoveryDocs:[this.GoogleDriveApi.DISCOVERY_DOC]}),this.GoogleDriveApi.gapiInited=!0,this.GoogleDriveCheckAuthStatus()},async GoogleDrivegisLoaded(){this.GoogleDriveApi.tokenClient=window.google.accounts.oauth2.initTokenClient({client_id:this.GoogleDriveApi.CLIENT_ID,scope:this.GoogleDriveApi.SCOPES,callback:""}),this.GoogleDriveApi.gisInited=!0,this.GoogleDriveCheckAuthStatus()},GoogleDriveCheckAuthStatus(){this.GoogleDriveApi.gapiInited&&this.GoogleDriveApi.gisInited&&this.GoogleDriveAuthStart()},async GoogleDriveAuthStart(){this.GoogleDriveApi.tokenClient.callback=t=>{if(t.error!==void 0)throw t;this.GoogleDriveApi.loggedin=!0,this.GoogleDriveListFiles()},window.gapi.client.getToken()===null?this.GoogleDriveApi.tokenClient.requestAccessToken({prompt:"consent"}):this.GoogleDriveApi.tokenClient.requestAccessToken({prompt:""})},GoogleDriveSignOut(){const t=window.gapi.client.getToken();t!==null&&(window.google.accounts.oauth2.revoke(t.access_token),window.gapi.client.setToken(""),this.GoogleDriveApi.loggedin=!1,this.$root.$data.popup.name=null)},async GoogleDriveListFiles(){this.GoogleDriveApi.searching=!0;let t;try{t=await window.gapi.client.drive.files.list({pageSize:10,fields:"files(id, name, size,  modifiedTime)",q:"name contains '.wm4'"})}catch{return}const e=t.result.files;!e||e.length==0||(this.GoogleDriveApi.files=e,this.GoogleDriveApi.searching=!1)},GoogleDriveReadFile(){var t=window.gapi.client.drive.files.get({fileId:this.GoogleDriveApi.CURRENT_FILE_OBJ.id,alt:"media"});return t.then(async e=>{const n=new Blob([e.body],{type:"text/json;charset=utf-8"});await this.$root.databaseImport(n),this.$root.getSettings()},function(e){console.error(e)}),this.$root.$data.popup.name=null,t},async GoogleDriveWriteFile(t){this.GoogleDriveApi.loading=!0,this.GoogleDriveApi.CURRENT_FILE_NAME=this.$root.session.settings.ProjectName;let n=await(await this.$root.databaseExport()).text();var o="";this.GoogleDriveApi.CURRENT_FILE_OBJ&&(o=this.GoogleDriveApi.CURRENT_FILE_OBJ.id);const r="-------314159265358979323846",s=`\r
--`+r+`\r
`,a=`\r
--`+r+"--",u="application/json";var c={name:this.GoogleDriveApi.CURRENT_FILE_NAME+".wm4",mimeType:u},p=s+`Content-Type: application/json\r
\r
`+JSON.stringify(c)+s+"Content-Type: "+u+`\r
\r
`+n+a,C;o==""?C=window.gapi.client.request({path:"/upload/drive/v3/files",method:"POST",params:{uploadType:"multipart"},headers:{"Content-Type":'multipart/related; boundary="'+r+'"'},body:p}):C=window.gapi.client.request({path:"/upload/drive/v3/files/"+o,method:"PATCH",params:{uploadType:"multipart"},headers:{"Content-Type":'multipart/related; boundary="'+r+'"'},body:p}),t||(t=b=>{this.GoogleDriveApi.CURRENT_FILE_OBJ,this.GoogleDriveApi.CURRENT_FILE_OBJ=b,this.GoogleDriveApi.loading=!1,this.$root.$data.popup.name=null}),C.execute(t)},GoogleDriveSignIn(){window.gapi.load("client",this.GoogleDriveInitializeGapi),this.GoogleDrivegisLoaded()}}},be=(t,e)=>{const n=t.__vccOpts||t;for(const[o,r]of e)n[o]=r;return n},Md={name:"ApiForm",methods:{async get(){let t=await this.$root.api_get();console.log("GET -> ",t)},async set(){let t=await this.$root.api_set();console.log("SET -> ",t)}}},Sd={key:0},Td={key:1,class:"wavemakerForm"},Ed={key:0},Bd={key:1};function Id(t,e,n,o,r,s){return f(),v(ie,null,[t.$root.$data.api_credentials.loading?(f(),v("div",Sd,e[6]||(e[6]=[i("svg",{class:"wavemakerLoadingIcon",version:"1.1",id:"L9",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 100","enable-background":"new 0 0 0 0","xml:space":"preserve"},[i("path",{d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50"},[i("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})])],-1)]))):A("",!0),t.$root.$data.api_credentials.loading?A("",!0):(f(),v("div",Td,[t.$root.$data.api_credentials.loggedin?A("",!0):(f(),v("div",Ed,[e[7]||(e[7]=i("h1",null,"Log In",-1)),e[8]||(e[8]=i("label",null,"email",-1)),re(i("input",{type:"email","onUpdate:modelValue":e[0]||(e[0]=a=>t.$root.$data.api_credentials.email=a),class:"formInput"},null,512),[[He,t.$root.$data.api_credentials.email]]),e[9]||(e[9]=i("label",null,"Password",-1)),re(i("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=a=>t.$root.$data.api_credentials.password=a),class:"formInput"},null,512),[[He,t.$root.$data.api_credentials.password]]),i("button",{onClick:e[2]||(e[2]=a=>t.$root.api_login()),class:"formButton"},"Log IN"),i("div",null,k(t.$root.$data.api_credentials.error),1)])),t.$root.$data.api_credentials.loggedin?(f(),v("div",Bd,[i("button",{onClick:e[3]||(e[3]=a=>t.$root.api_logout()),class:"formButton"},"Log Out"),i("button",{onClick:e[4]||(e[4]=a=>s.get()),class:"formButton"},"Get File"),i("button",{onClick:e[5]||(e[5]=a=>s.set()),class:"formButton"},"Set File")])):A("",!0)]))],64)}const _d=be(Md,[["render",Id]]),Dd={name:"SettingsPopup",data(){return{themes:!1,lang:!1}},methods:{setTheme(t){this.$root.theme=t,this.$root.switchTheme(),this.themes=!1},language(t){this.$root.lang=t,this.$root.switchLang(),this.lang=!1},resetSettings(){this.$root.session.settings.documentprefs=JSON.parse(JSON.stringify(this.$root.SettingsTemplate.documentprefs)),this.updateSettings()},updateSettings(){document.documentElement.style.setProperty("--pageEditor-align",this.$root.session.settings.documentprefs.align),document.documentElement.style.setProperty("--pageEditor-fontsize",this.$root.session.settings.documentprefs.fontsize),document.documentElement.style.setProperty("--pageEditor-lspacing",this.$root.session.settings.documentprefs.lspacing),document.documentElement.style.setProperty("--pageEditor-indentation",this.$root.session.settings.documentprefs.indentation),document.documentElement.style.setProperty("--pageEditor-pspacing",this.$root.session.settings.documentprefs.pspacing),document.documentElement.style.setProperty("--pageEditor-page",this.$root.session.settings.documentprefs.page),document.documentElement.style.setProperty("--pageEditor-font",this.$root.session.settings.documentprefs.font),document.documentElement.style.setProperty("--pageEditor-color",this.$root.session.settings.documentprefs.color),document.documentElement.style.setProperty("--pageEditor-bgcolor",this.$root.session.settings.documentprefs.bgcolor),document.documentElement.style.setProperty("--pageEditor-h1align",this.$root.session.settings.documentprefs.h1align),document.documentElement.style.setProperty("--pageEditor-h2align",this.$root.session.settings.documentprefs.h2align),document.documentElement.style.setProperty("--pageEditor-h3align",this.$root.session.settings.documentprefs.h3align),document.documentElement.style.setProperty("--pageEditor-h4align",this.$root.session.settings.documentprefs.h4align),document.documentElement.style.setProperty("--distractionfree-font",this.$root.session.settings.documentprefs.distractionfree_font),document.documentElement.style.setProperty("--distractionfree-fg",this.$root.session.settings.documentprefs.distractionfree_fg),document.documentElement.style.setProperty("--distractionfree-bg",this.$root.session.settings.documentprefs.distractionfree_bg),this.$root.UpdateRecord("Settings",this.$root.session.settings.uuid,this.$root.session.settings)}},mounted(){console.log(this.$root.session.settings.documentprefs)}},Pd={style:{"text-align":"left"}},Od={class:"container"},Nd={class:"item item-center"},Rd={key:0,class:"dropdown"},jd=["onClick"],Fd={key:1,class:"dropdown"},Ud=["onClick"],zd={value:"left"},Wd={value:"center"},Gd={value:"right"},qd={value:"justify"},Zd={value:"1rem"},Kd={value:"1.5rem"},Yd={value:"2rem"},Jd={value:"3rem"},Xd={value:"3.5rem"},Qd={value:"3rem"},eu={value:"4rem"},tu={value:"5rem"},nu={value:"6rem"},ou={value:"20px"},iu={value:"0px"},su={value:"20px"},ru={value:"30px"},au={value:"40px"},lu={value:"50px"},du={value:"100px"},uu={value:"800px"},cu={value:"100%"},pu={value:"left"},hu={value:"center"},fu={value:"right"},gu={value:"justify"},mu={value:"left"},vu={value:"center"},yu={value:"right"},wu={value:"justify"},bu={value:"left"},Cu={value:"center"},Lu={value:"right"},$u={value:"justify"},ku={value:"left"},xu={value:"center"},Hu={value:"right"},Au={value:"justify"};function Vu(t,e,n,o,r,s){return f(),v("div",Pd,[i("h1",null,k(this.$root.setlang.settings.title),1),i("div",Od,[i("div",Nd,[i("button",{class:"interfaceBtn fullw",onClick:e[0]||(e[0]=a=>r.themes=!r.themes),style:{"text-align":"left"}},[e[33]||(e[33]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2C17.5,2 22,6 22,11A6,6 0 0,1 16,17H14.2C13.9,17 13.7,17.2 13.7,17.5C13.7,17.6 13.8,17.7 13.8,17.8C14.2,18.3 14.4,18.9 14.4,19.5C14.5,20.9 13.4,22 12,22M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C12.3,20 12.5,19.8 12.5,19.5C12.5,19.3 12.4,19.2 12.4,19.1C12,18.6 11.8,18.1 11.8,17.5C11.8,16.1 12.9,15 14.3,15H16A4,4 0 0,0 20,11C20,7.1 16.4,4 12,4M6.5,10C7.3,10 8,10.7 8,11.5C8,12.3 7.3,13 6.5,13C5.7,13 5,12.3 5,11.5C5,10.7 5.7,10 6.5,10M9.5,6C10.3,6 11,6.7 11,7.5C11,8.3 10.3,9 9.5,9C8.7,9 8,8.3 8,7.5C8,6.7 8.7,6 9.5,6M14.5,6C15.3,6 16,6.7 16,7.5C16,8.3 15.3,9 14.5,9C13.7,9 13,8.3 13,7.5C13,6.7 13.7,6 14.5,6M17.5,10C18.3,10 19,10.7 19,11.5C19,12.3 18.3,13 17.5,13C16.7,13 16,12.3 16,11.5C16,10.7 16.7,10 17.5,10Z"})],-1)),he(" "+k(this.$root.setlang.settings.themes),1)]),r.themes?(f(),v("div",Rd,[(f(!0),v(ie,null,De(t.$root.themeList,(a,u)=>(f(),v("button",{class:"myoption",onClick:c=>s.setTheme(a.file),key:u},k(a.name),9,jd))),128))])):A("",!0),i("button",{class:"interfaceBtn fullw",onClick:e[1]||(e[1]=a=>r.lang=!r.lang),style:{"text-align":"left"}},[e[34]||(e[34]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M11 1H3C1.9 1 1 1.9 1 3V15L4 12H9V11C9 8.8 10.79 7 13 7V3C13 1.9 12.1 1 11 1M11 4L9.5 4C9.16 5.19 8.54 6.3 7.68 7.26L7.66 7.28L8.92 8.53L8.55 9.54L7 8L4.5 10.5L3.81 9.77L6.34 7.28C5.72 6.59 5.22 5.82 4.86 5H5.85C6.16 5.6 6.54 6.17 7 6.68C7.72 5.88 8.24 4.97 8.57 4L3 4V3H6.5V2H7.5V3H11V4M21 9H13C11.9 9 11 9.9 11 11V18C11 19.1 11.9 20 13 20H20L23 23V11C23 9.9 22.1 9 21 9M19.63 19L18.78 16.75H15.22L14.38 19H12.88L16.25 10H17.75L21.13 19H19.63M17 12L18.22 15.25H15.79L17 12Z"})],-1)),he(" "+k(this.$root.setlang.settings.lang),1)]),r.lang?(f(),v("div",Fd,[(f(!0),v(ie,null,De(Object.keys(this.$root.language),(a,u)=>(f(),v("button",{class:"myoption",key:u,onClick:c=>s.language(a)},k(this.$root.language[a].info.name),9,Ud))),128))])):A("",!0),e[36]||(e[36]=i("hr",null,null,-1)),i("h2",null,k(this.$root.setlang.settings.docprefs),1),i("label",null,k(this.$root.setlang.settings.alignment),1),re(i("select",{class:"wavemaker-form","onUpdate:modelValue":e[2]||(e[2]=a=>this.$root.session.settings.documentprefs.align=a),onChange:e[3]||(e[3]=(...a)=>s.updateSettings&&s.updateSettings(...a))},[i("option",zd,k(this.$root.setlang.settings.alignL),1),i("option",Wd,k(this.$root.setlang.settings.alignC),1),i("option",Gd,k(this.$root.setlang.settings.alignR),1),i("option",qd,k(this.$root.setlang.settings.alignJ),1)],544),[[St,this.$root.session.settings.documentprefs.align]]),i("label",null,k(this.$root.setlang.settings.fontsize),1),re(i("select",{class:"wavemaker-form","onUpdate:modelValue":e[4]||(e[4]=a=>this.$root.session.settings.documentprefs.fontsize=a),onChange:e[5]||(e[5]=(...a)=>s.updateSettings&&s.updateSettings(...a))},[i("option",Zd,k(this.$root.setlang.settings.fontsize1),1),i("option",Kd,k(this.$root.setlang.settings.fontsize2),1),i("option",Yd,k(this.$root.setlang.settings.fontsize3),1),i("option",Jd,k(this.$root.setlang.settings.fontsize4),1),i("option",Xd,k(this.$root.setlang.settings.fontsize5),1)],544),[[St,this.$root.session.settings.documentprefs.fontsize]]),i("label",null,k(this.$root.setlang.settings.lineheight),1),re(i("select",{class:"wavemaker-form","onUpdate:modelValue":e[6]||(e[6]=a=>this.$root.session.settings.documentprefs.lspacing=a),onChange:e[7]||(e[7]=(...a)=>s.updateSettings&&s.updateSettings(...a))},[i("option",Qd,k(this.$root.setlang.settings.lineheight1),1),i("option",eu,k(this.$root.setlang.settings.lineheight2),1),i("option",tu,k(this.$root.setlang.settings.lineheight3),1),i("option",nu,k(this.$root.setlang.settings.lineheight4),1)],544),[[St,this.$root.session.settings.documentprefs.lspacing]]),i("label",null,k(this.$root.setlang.settings.paragraph),1),re(i("select",{class:"wavemaker-form","onUpdate:modelValue":e[8]||(e[8]=a=>this.$root.session.settings.documentprefs.indentation=a),onChange:e[9]||(e[9]=(...a)=>s.updateSettings&&s.updateSettings(...a))},[i("option",ou,k(this.$root.setlang.settings.paragraphyes),1),i("option",iu,k(this.$root.setlang.settings.paragraphno),1)],544),[[St,this.$root.session.settings.documentprefs.indentation]]),i("label",null,k(this.$root.setlang.settings.paragraphspacing),1),re(i("select",{class:"wavemaker-form","onUpdate:modelValue":e[10]||(e[10]=a=>this.$root.session.settings.documentprefs.pspacing=a),onChange:e[11]||(e[11]=(...a)=>s.updateSettings&&s.updateSettings(...a))},[i("option",su,k(this.$root.setlang.settings.paragraphspacing1),1),i("option",ru,k(this.$root.setlang.settings.paragraphspacing2),1),i("option",au,k(this.$root.setlang.settings.paragraphspacing3),1),i("option",lu,k(this.$root.setlang.settings.paragraphspacing4),1),i("option",du,k(this.$root.setlang.settings.paragraphspacing5),1)],544),[[St,this.$root.session.settings.documentprefs.pspacing]]),i("label",null,k(this.$root.setlang.settings.pagewidth),1),re(i("select",{class:"wavemaker-form","onUpdate:modelValue":e[12]||(e[12]=a=>this.$root.session.settings.documentprefs.page=a),onChange:e[13]||(e[13]=(...a)=>s.updateSettings&&s.updateSettings(...a))},[i("option",uu,k(this.$root.setlang.settings.pagestyle),1),i("option",cu,k(this.$root.setlang.settings.fullwidth),1)],544),[[St,this.$root.session.settings.documentprefs.page]]),i("table",null,[i("tbody",null,[i("tr",null,[i("td",null,[i("label",null,k(this.$root.setlang.settings.pagetext),1),re(i("input",{type:"color","onUpdate:modelValue":e[14]||(e[14]=a=>this.$root.session.settings.documentprefs.color=a),onChange:e[15]||(e[15]=(...a)=>s.updateSettings&&s.updateSettings(...a))},null,544),[[He,this.$root.session.settings.documentprefs.color]])]),i("td",null,[i("label",null,k(this.$root.setlang.settings.pagecolour),1),re(i("input",{type:"color","onUpdate:modelValue":e[16]||(e[16]=a=>this.$root.session.settings.documentprefs.bgcolor=a),onChange:e[17]||(e[17]=(...a)=>s.updateSettings&&s.updateSettings(...a))},null,544),[[He,this.$root.session.settings.documentprefs.bgcolor]])])])])]),i("label",null,k(this.$root.setlang.settings.h1align),1),re(i("select",{class:"wavemaker-form","onUpdate:modelValue":e[18]||(e[18]=a=>this.$root.session.settings.documentprefs.h1align=a),onChange:e[19]||(e[19]=(...a)=>s.updateSettings&&s.updateSettings(...a))},[i("option",pu,k(this.$root.setlang.settings.alignL),1),i("option",hu,k(this.$root.setlang.settings.alignC),1),i("option",fu,k(this.$root.setlang.settings.alignR),1),i("option",gu,k(this.$root.setlang.settings.alignJ),1)],544),[[St,this.$root.session.settings.documentprefs.h1align]]),i("label",null,k(this.$root.setlang.settings.h2align),1),re(i("select",{class:"wavemaker-form","onUpdate:modelValue":e[20]||(e[20]=a=>this.$root.session.settings.documentprefs.h2align=a),onChange:e[21]||(e[21]=(...a)=>s.updateSettings&&s.updateSettings(...a))},[i("option",mu,k(this.$root.setlang.settings.alignL),1),i("option",vu,k(this.$root.setlang.settings.alignC),1),i("option",yu,k(this.$root.setlang.settings.alignR),1),i("option",wu,k(this.$root.setlang.settings.alignJ),1)],544),[[St,this.$root.session.settings.documentprefs.h2align]]),i("label",null,k(this.$root.setlang.settings.h3align),1),re(i("select",{class:"wavemaker-form","onUpdate:modelValue":e[22]||(e[22]=a=>this.$root.session.settings.documentprefs.h3align=a),onChange:e[23]||(e[23]=(...a)=>s.updateSettings&&s.updateSettings(...a))},[i("option",bu,k(this.$root.setlang.settings.alignL),1),i("option",Cu,k(this.$root.setlang.settings.alignC),1),i("option",Lu,k(this.$root.setlang.settings.alignR),1),i("option",$u,k(this.$root.setlang.settings.alignJ),1)],544),[[St,this.$root.session.settings.documentprefs.h3align]]),i("label",null,k(this.$root.setlang.settings.h4align),1),re(i("select",{class:"wavemaker-form","onUpdate:modelValue":e[24]||(e[24]=a=>this.$root.session.settings.documentprefs.h4align=a),onChange:e[25]||(e[25]=(...a)=>s.updateSettings&&s.updateSettings(...a))},[i("option",ku,k(this.$root.setlang.settings.alignL),1),i("option",xu,k(this.$root.setlang.settings.alignC),1),i("option",Hu,k(this.$root.setlang.settings.alignR),1),i("option",Au,k(this.$root.setlang.settings.alignJ),1)],544),[[St,this.$root.session.settings.documentprefs.h4align]]),e[37]||(e[37]=i("hr",null,null,-1)),i("label",null,k(this.$root.setlang.settings.caretfocus),1),re(i("input",{type:"checkbox","onUpdate:modelValue":e[26]||(e[26]=a=>this.$root.session.settings.documentprefs.caretfocus=a),style:{width:"20px",height:"20px"}},null,512),[[ai,this.$root.session.settings.documentprefs.caretfocus]]),e[38]||(e[38]=i("hr",null,null,-1)),i("h2",null,k(this.$root.setlang.settings.typewriter),1),i("table",null,[i("tbody",null,[i("tr",null,[i("td",null,[i("label",null,k(this.$root.setlang.settings.typetext),1),re(i("input",{type:"color","onUpdate:modelValue":e[27]||(e[27]=a=>this.$root.session.settings.documentprefs.distractionfree_fg=a),onChange:e[28]||(e[28]=(...a)=>s.updateSettings&&s.updateSettings(...a)),style:{width:"30px",height:"30px"}},null,544),[[He,this.$root.session.settings.documentprefs.distractionfree_fg]])]),i("td",null,[i("label",null,k(this.$root.setlang.settings.typepage),1),re(i("input",{type:"color","onUpdate:modelValue":e[29]||(e[29]=a=>this.$root.session.settings.documentprefs.distractionfree_bg=a),onChange:e[30]||(e[30]=(...a)=>s.updateSettings&&s.updateSettings(...a)),style:{width:"30px",height:"30px"}},null,544),[[He,this.$root.session.settings.documentprefs.distractionfree_bg]])]),i("td",null,[i("label",null,k(this.$root.setlang.settings.typesound),1),re(i("input",{type:"checkbox","onUpdate:modelValue":e[31]||(e[31]=a=>this.$root.session.settings.documentprefs.typesound=a),style:{width:"20px",height:"20px"}},null,512),[[ai,this.$root.session.settings.documentprefs.typesound]])])])])]),e[39]||(e[39]=i("br",null,null,-1)),i("button",{onClick:e[32]||(e[32]=(...a)=>s.resetSettings&&s.resetSettings(...a)),class:"interfaceBtn"},[e[35]||(e[35]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M13.5 21H6V17H13.5C15.43 17 17 15.43 17 13.5S15.43 10 13.5 10H11V14L4 8L11 2V6H13.5C17.64 6 21 9.36 21 13.5S17.64 21 13.5 21Z"})],-1)),he(" "+k(this.$root.setlang.settings.reset),1)])])]),e[40]||(e[40]=i("div",{style:{clear:"both"}},null,-1))])}const Mu=be(Dd,[["render",Vu],["__scopeId","data-v-c7d055bf"]]),Su={name:"GoogleDrive",props:{msg:String},data(){return{tab:"load",searching:!1}},methods:{loggy(t){console.log(t)},openFile(t){this.$root.GoogleDriveApi.CURRENT_FILE_OBJ=t,this.$root.GoogleDriveApi.CURRENT_FILE_NAME=t.name,this.$root.GoogleDriveReadFile(),this.$root.popup.name=null}},async mounted(){this.$root.GoogleDriveApi.loggedin||await this.$root.GoogleDriveSignIn()}},Tu={key:1,style:{"text-align":"left"}},Eu={key:0},Bu={key:0,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Iu={key:1,version:"1.1",viewBox:"0 0 100 100",width:"24px",height:"24px"},_u={key:1},Du=["onClick"],Pu={class:"smalltext"},Ou={class:"smalltext"},Nu={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function Ru(t,e,n,o,r,s){return f(),v(ie,null,[t.$root.GoogleDriveApi.loggedin?A("",!0):(f(),v("button",{key:0,onClick:e[0]||(e[0]=a=>t.$root.GoogleDriveSignIn()),class:"interfaceBtn GoogleDrive"},[e[5]||(e[5]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M7.71,3.5L1.15,15L4.58,21L11.13,9.5M9.73,15L6.3,21H19.42L22.85,15M22.28,14L15.42,2H8.58L8.57,2L15.43,14H22.28Z"})],-1)),he(" "+k(this.$root.setlang.google.info),1)])),t.$root.GoogleDriveApi.loggedin?(f(),v("div",Tu,[t.$root.session.settings?(f(),v("div",Eu,[i("h3",null,k(this.$root.setlang.google.saveinfo),1),i("h4",null,k(this.$root.session.settings.ProjectName),1),i("button",{onClick:e[1]||(e[1]=a=>t.$root.GoogleDriveWriteFile()),class:"interfaceBtn"},[e[6]||(e[6]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M13 19C13 19.34 13.04 19.67 13.09 20H6.5C5 20 3.69 19.5 2.61 18.43C1.54 17.38 1 16.09 1 14.58C1 13.28 1.39 12.12 2.17 11.1S4 9.43 5.25 9.15C5.67 7.62 6.5 6.38 7.75 5.43S10.42 4 12 4C13.95 4 15.6 4.68 16.96 6.04C18.32 7.4 19 9.05 19 11C20.15 11.13 21.1 11.63 21.86 12.5C22.37 13.07 22.7 13.71 22.86 14.42C21.82 13.54 20.5 13 19 13C15.69 13 13 15.69 13 19M16 18H18V22H20V18H22L19 15L16 18Z"})],-1)),he(" "+k(this.$root.setlang.google.save),1)])])):A("",!0),i("h3",null,k(this.$root.setlang.google.files),1),i("div",null,[i("button",{onClick:e[2]||(e[2]=a=>{t.$root.GoogleDriveApi.files=[],t.$root.GoogleDriveListFiles()}),class:"interfaceBtn filebutton",style:{width:"auto"}},[t.$root.GoogleDriveApi.searching?A("",!0):(f(),v("svg",Bu,e[7]||(e[7]=[he("> "),i("path",{d:"M18 14.5C19.11 14.5 20.11 14.95 20.83 15.67L22 14.5V18.5H18L19.77 16.73C19.32 16.28 18.69 16 18 16C16.62 16 15.5 17.12 15.5 18.5C15.5 19.88 16.62 21 18 21C18.82 21 19.54 20.61 20 20H21.71C21.12 21.47 19.68 22.5 18 22.5C15.79 22.5 14 20.71 14 18.5C14 16.29 15.79 14.5 18 14.5M10 4L12 6H20C21.1 6 22 6.89 22 8V13C21 12.38 19.79 12 18.5 12C14.91 12 12 14.91 12 18.5C12 19 12.06 19.5 12.17 20H4C2.89 20 2 19.1 2 18L2 6C2 4.89 2.89 4 4 4H10Z"},null,-1)]))),t.$root.GoogleDriveApi.searching?(f(),v("svg",Iu,e[8]||(e[8]=[i("path",{d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50"},[i("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})],-1)]))):A("",!0),he(" "+k(this.$root.setlang.google.search),1)])]),t.$root.GoogleDriveApi.files.length?(f(),v("div",_u,[(f(!0),v(ie,null,De(t.$root.GoogleDriveApi.files,(a,u)=>(f(),v("div",{key:u},[i("button",{onClick:c=>s.openFile(a),class:"file"},[e[10]||(e[10]=Zn('<svg viewBox="0 0 24 24" data-v-b7d1eb81><defs id="defs8" data-v-b7d1eb81></defs><path id="path2" d="M20,18H4V8H20M20,6H12L10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6Z" data-v-b7d1eb81></path><path id="path3731" d="m 11.084747,9.8305089 h 7.186439 V 17.01695 h -7.186439 z" style="fill:none;stroke-width:0.29943502;" data-v-b7d1eb81></path><path id="path3733" d="m 17.021865,11.84974 -1.7835,-1.787036 c -0.308989,-0.3095941 -0.810692,-0.3095941 -1.119667,0 l -1.777381,1.783961 c -0.104021,0.104223 -0.104021,0.269733 0,0.373956 l 0.538408,0.539479 0.357918,0.334109 c 0.107067,0.09809 0.269211,0.09809 0.376277,0 l 0.718911,-0.665156 c 0.198848,-0.183903 0.501704,-0.183903 0.697492,0 l 0.71891,0.665156 c 0.107081,0.09809 0.269212,0.09809 0.376292,0 l 0.357932,-0.334109 0.538408,-0.536404 c 0.100961,-0.101162 0.100961,-0.269733 0,-0.373956 z" style="stroke-width:0.0139114;" data-v-b7d1eb81></path><path id="path3735" d="m 11.325657,13.986203 2.793041,2.798572 c 0.308975,0.309566 0.810678,0.309566 1.119667,0 l 2.79304,-2.798572 c 0.483359,-0.4843 0.143785,-0.62837 -0.211087,-0.965553 l -0.437475,-0.416863 c -0.103993,-0.101148 -0.269211,-0.09807 -0.376277,0 l -0.718897,0.665156 c -0.198876,0.183917 -0.501703,0.183917 -0.697506,0 l -0.71891,-0.665156 c -0.106323,-0.09807 -0.269954,-0.09807 -0.376292,0 l -0.71891,0.665156 c -0.198848,0.183917 -0.501704,0.183917 -0.697492,0 l -0.718911,-0.665156 c -0.106336,-0.09807 -0.269955,-0.09807 -0.376292,0 l -0.403815,0.373969 c -0.37013,0.343305 -0.758647,0.499618 -0.253884,1.008447 z" style="stroke-width:0.0139114;" data-v-b7d1eb81></path></svg>',1)),i("div",null,[i("strong",null,k(a.name),1),e[9]||(e[9]=he()),i("span",Pu,"("+k(a.size+"bytes")+")",1)]),i("div",Ou,k(a.modifiedTime),1)],8,Du)]))),128))])):A("",!0),i("div",null,[e[13]||(e[13]=i("hr",null,null,-1)),i("button",{onClick:e[3]||(e[3]=(...a)=>t.$root.GoogleDriveSignOut&&t.$root.GoogleDriveSignOut(...a)),class:"interfaceBtn filebutton",style:{width:"auto",display:"inline-block"}},[e[11]||(e[11]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M10 4A4 4 0 0 0 6 8A4 4 0 0 0 10 12A4 4 0 0 0 14 8A4 4 0 0 0 10 4M17.5 13C15 13 13 15 13 17.5C13 20 15 22 17.5 22C20 22 22 20 22 17.5C22 15 20 13 17.5 13M10 14C5.58 14 2 15.79 2 18V20H11.5A6.5 6.5 0 0 1 11 17.5A6.5 6.5 0 0 1 11.95 14.14C11.32 14.06 10.68 14 10 14M17.5 14.5C19.16 14.5 20.5 15.84 20.5 17.5C20.5 18.06 20.35 18.58 20.08 19L16 14.92C16.42 14.65 16.94 14.5 17.5 14.5M14.92 16L19 20.08C18.58 20.35 18.06 20.5 17.5 20.5C15.84 20.5 14.5 19.16 14.5 17.5C14.5 16.94 14.65 16.42 14.92 16Z"})],-1)),he(" "+k(this.$root.setlang.google.logout),1)]),i("button",{class:"interfaceBtn filebutton logout",onClick:e[4]||(e[4]=a=>t.$root.popup.name=null)},[(f(),v("svg",Nu,e[12]||(e[12]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)]))),he(" "+k(this.$root.setlang.google.close),1)])])])):A("",!0)],64)}const ju=be(Su,[["render",Ru],["__scopeId","data-v-b7d1eb81"]]),Fu={name:"SettingsPopup",data(){return{showkey:!1,question:null,response:null,apikey:null,maxtokens:50,loading:!1,responsetext:""}},methods:{saveKey(){localStorage.setItem("ChatGPKey",this.apikey)},sendRequest(){this.loading=!0;var t=new FormData;t.append("apikey",this.apikey),t.append("question",this.question),t.append("maxtokens",this.maxtokens),fetch("https://wavemaker.co.uk/ai/index.php",{method:"POST",cache:"no-cache",body:t}).then(e=>{if(e.status!==200){console.log("Looks like there was a problem. Status Code: "+e.status),this.loading=!1;return}e.text().then(n=>{let o=JSON.parse(n);this.response=o.choices,this.response.forEach(r=>{this.responsetext=this.responsetext+r.text+`
`}),this.loading=!1,console.log(" >>>>>>>>>",n)})})}},mounted(){localStorage.getItem("ChatGPKey")&&(this.apikey=localStorage.getItem("ChatGPKey"))}},Uu={style:{"text-align":"left"}},zu={style:{height:"2em"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","data-v-65511fdb":""},Wu={class:"container"},Gu={class:"item item-center"},qu={key:0},Zu={key:0},Ku={key:1,style:{width:"100%"}},Yu={style:{width:"75%"}},Ju={key:2},Xu={key:0},Qu={key:1},e1={class:"loader"},t1={style:{"max-width":"150px",margin:"0 auto"},version:"1.1",id:"L7",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 100","enable-background":"new 0 0 100 100","xml:space":"preserve"};function n1(t,e,n,o,r,s){return f(),v("div",Uu,[i("h1",null,[(f(),v("svg",zu,e[7]||(e[7]=[i("title",{"data-v-65511fdb":""},"robot",-1),i("path",{d:"M12,2A2,2 0 0,1 14,4C14,4.74 13.6,5.39 13,5.73V7H14A7,7 0 0,1 21,14H22A1,1 0 0,1 23,15V18A1,1 0 0,1 22,19H21V20A2,2 0 0,1 19,22H5A2,2 0 0,1 3,20V19H2A1,1 0 0,1 1,18V15A1,1 0 0,1 2,14H3A7,7 0 0,1 10,7H11V5.73C10.4,5.39 10,4.74 10,4A2,2 0 0,1 12,2M7.5,13A2.5,2.5 0 0,0 5,15.5A2.5,2.5 0 0,0 7.5,18A2.5,2.5 0 0,0 10,15.5A2.5,2.5 0 0,0 7.5,13M16.5,13A2.5,2.5 0 0,0 14,15.5A2.5,2.5 0 0,0 16.5,18A2.5,2.5 0 0,0 19,15.5A2.5,2.5 0 0,0 16.5,13Z","data-v-65511fdb":""},null,-1)]))),e[8]||(e[8]=he(" OpenAI Assistant (botty)"))]),i("div",Wu,[i("div",Gu,[r.loading?A("",!0):(f(),v("div",qu,[r.apikey?A("",!0):(f(),v("div",Zu,e[9]||(e[9]=[he(" You need to provide an API Key - need help? look here "),i("a",{href:"https://wavemaker.co.uk/blog/getting-started-with-the-open-ai-bot/",target:"_blank"},"Click Here for info",-1),he(),i("br",null,null,-1),i("br",null,null,-1)]))),i("button",{class:"interfaceBtn",onClick:e[0]||(e[0]=a=>r.showkey=!r.showkey)},e[10]||(e[10]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[i("title",null,"key"),i("path",{d:"M7 14C5.9 14 5 13.1 5 12S5.9 10 7 10 9 10.9 9 12 8.1 14 7 14M12.6 10C11.8 7.7 9.6 6 7 6C3.7 6 1 8.7 1 12S3.7 18 7 18C9.6 18 11.8 16.3 12.6 14H16V18H20V14H23V10H12.6Z"})],-1),he(" Show OpenAi Api Key")])),r.showkey?(f(),v("table",Ku,[i("tbody",null,[i("tr",null,[i("td",Yu,[re(i("input",{style:{width:"100%"},class:"formInput",type:"text","onUpdate:modelValue":e[1]||(e[1]=a=>r.apikey=a)},null,512),[[He,r.apikey]])]),i("td",null,[i("button",{class:"interfaceBtn",style:{width:"100%"},onClick:e[2]||(e[2]=a=>s.saveKey())},e[11]||(e[11]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[i("title",null,"content-save"),i("path",{d:"M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z"})],-1),he(" Save")]))])])])])):A("",!0),r.apikey?(f(),v("div",Ju,[e[13]||(e[13]=i("h1",null,"How can I help you today?",-1)),re(i("textarea",{style:{height:"auto"},class:"formInput",type:"text","onUpdate:modelValue":e[3]||(e[3]=a=>r.question=a),rows:"4"},null,512),[[He,r.question]]),e[14]||(e[14]=i("label",null,"Set a token limit for this request",-1)),re(i("input",{type:"number",class:"formInput","onUpdate:modelValue":e[4]||(e[4]=a=>r.maxtokens=a)},null,512),[[He,r.maxtokens]]),i("button",{class:"interfaceBtn",onClick:e[5]||(e[5]=a=>s.sendRequest())},e[12]||(e[12]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[i("title",null,"robot-happy"),i("path",{d:"M22 14H21C21 10.13 17.87 7 14 7H13V5.73C13.6 5.39 14 4.74 14 4C14 2.9 13.11 2 12 2S10 2.9 10 4C10 4.74 10.4 5.39 11 5.73V7H10C6.13 7 3 10.13 3 14H2C1.45 14 1 14.45 1 15V18C1 18.55 1.45 19 2 19H3V20C3 21.11 3.9 22 5 22H19C20.11 22 21 21.11 21 20V19H22C22.55 19 23 18.55 23 18V15C23 14.45 22.55 14 22 14M9.79 16.5C9.4 15.62 8.53 15 7.5 15S5.6 15.62 5.21 16.5C5.08 16.19 5 15.86 5 15.5C5 14.12 6.12 13 7.5 13S10 14.12 10 15.5C10 15.86 9.92 16.19 9.79 16.5M18.79 16.5C18.4 15.62 17.5 15 16.5 15S14.6 15.62 14.21 16.5C14.08 16.19 14 15.86 14 15.5C14 14.12 15.12 13 16.5 13S19 14.12 19 15.5C19 15.86 18.92 16.19 18.79 16.5Z"})],-1),he(" Send Request")])),i("div",null,[r.responsetext?(f(),v("div",Xu,[re(i("textarea",{style:{height:"auto"},class:"formInput",type:"text","onUpdate:modelValue":e[6]||(e[6]=a=>r.responsetext=a),rows:"8"},null,512),[[He,r.responsetext]])])):A("",!0)])])):A("",!0)])),r.loading?(f(),v("div",Qu,[i("div",e1,[(f(),v("svg",t1,e[15]||(e[15]=[Zn(`<path fill="#fff" d="M31.6,3.5C5.9,13.6-6.6,42.7,3.5,68.4c10.1,25.7,39.2,38.3,64.9,28.1l-3.1-7.9c-21.3,8.4-45.4-2-53.8-23.3\r
  c-8.4-21.3,2-45.4,23.3-53.8L31.6,3.5z" data-v-2111268f><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="2s" from="0 50 50" to="360 50 50" repeatCount="indefinite" data-v-2111268f></animateTransform></path><path fill="#fff" d="M42.3,39.6c5.7-4.3,13.9-3.1,18.1,2.7c4.3,5.7,3.1,13.9-2.7,18.1l4.1,5.5c8.8-6.5,10.6-19,4.1-27.7\r
  c-6.5-8.8-19-10.6-27.7-4.1L42.3,39.6z" data-v-2111268f><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" from="0 50 50" to="-360 50 50" repeatCount="indefinite" data-v-2111268f></animateTransform></path><path fill="#fff" d="M82,35.7C74.1,18,53.4,10.1,35.7,18S10.1,46.6,18,64.3l7.6-3.4c-6-13.5,0-29.3,13.5-35.3s29.3,0,35.3,13.5\r
  L82,35.7z" data-v-2111268f><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="2s" from="0 50 50" to="360 50 50" repeatCount="indefinite" data-v-2111268f></animateTransform></path>`,3)]))),e[16]||(e[16]=i("h3",null," Open Ai is doing it's thing ",-1))])])):A("",!0)])])])}const o1=be(Fu,[["render",n1],["__scopeId","data-v-2111268f"]]),i1={name:"PopupManager",components:{ApiForm:_d,SettingsPopup:Mu,GoogleDrive:ju,AiHelp:o1}},s1={key:0,class:"wavemakerPopup",style:{"text-align":"center"}},r1={style:{"text-align":"right"}},a1={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function l1(t,e,n,o,r,s){const a=Y("ApiForm"),u=Y("SettingsPopup"),c=Y("GoogleDrive"),p=Y("AiHelp");return f(),v(ie,null,[t.$root.$data.popup.name?(f(),v("div",{key:0,class:"wavemakerPopupBlackout",onClick:e[0]||(e[0]=C=>t.$root.$data.popup.name=null)})):A("",!0),Te(Kn,{name:"bounce"},{default:yt(()=>[t.$root.$data.popup.name?(f(),v("div",s1,[i("div",r1,[i("button",{class:"clearInterfaceIconButton",onClick:e[1]||(e[1]=C=>t.$root.$data.popup.name=null)},[(f(),v("svg",a1,e[2]||(e[2]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])))])]),t.$root.$data.popup.name==="ApiForm"?(f(),xe(a,{key:0})):A("",!0),t.$root.$data.popup.name==="SettingsPopup"?(f(),xe(u,{key:1})):A("",!0),t.$root.$data.popup.name==="GoogleDrive"?(f(),xe(c,{key:2})):A("",!0),t.$root.$data.popup.name==="AiHelp"?(f(),xe(p,{key:3})):A("",!0)])):A("",!0)]),_:1})],64)}const d1=be(i1,[["render",l1]]);function $i(){const t=Qt(!1),e=Qt(!1),n=Qt(!1),o=Qt(null);let r=null;const s={INSTALL_PROMPT_SHOWN:"pwa_install_prompt_shown",UPDATE_PROMPT_SHOWN:"pwa_update_prompt_shown",OFFLINE_PROMPT_SHOWN:"pwa_offline_prompt_shown"},a=E=>sessionStorage.getItem(E)==="true",u=E=>{sessionStorage.setItem(E,"true")},c=E=>{E.preventDefault(),o.value=E,a(s.INSTALL_PROMPT_SHOWN)||(n.value=!0)},p=async()=>{if(!o.value)return;const E=await o.value.prompt();console.log("Install prompt result:",E),o.value=null,n.value=!1,u(s.INSTALL_PROMPT_SHOWN)},C=()=>{o.value=null,n.value=!1,console.log("PWA was installed")},b=async()=>{try{if(r)console.log("Updating service worker via updateSW..."),await r(!0);else if(console.log("updateSW not available, trying alternative update method..."),"serviceWorker"in navigator){const E=await navigator.serviceWorker.ready;await E.update(),E.waiting?(console.log("Found waiting service worker, activating..."),E.waiting.postMessage({type:"SKIP_WAITING"}),navigator.serviceWorker.addEventListener("controllerchange",()=>{console.log("Controller changed, reloading page..."),window.location.reload()})):(console.log("No waiting service worker found, using force update..."),await O({clearLocalStorage:!1,clearSessionStorage:!0,clearIndexedDB:!1,clearCaches:!0}))}else console.log("Service workers not supported, doing hard reload..."),window.location.reload(!0)}catch(E){console.error("Error updating app:",E),window.location.reload(!0)}},M=()=>{t.value=!1,u(s.UPDATE_PROMPT_SHOWN)},x=()=>{n.value=!1,u(s.INSTALL_PROMPT_SHOWN)},B=()=>{e.value=!1,u(s.OFFLINE_PROMPT_SHOWN)},O=async(E={})=>{const{clearLocalStorage:ee=!1,clearSessionStorage:te=!0,clearIndexedDB:fe=!1,clearCaches:J=!0}=E;try{if(console.log("Starting force update with options:",E),J&&"caches"in window){const me=await caches.keys();console.log("Clearing caches:",me),await Promise.all(me.map(P=>caches.delete(P)))}if("serviceWorker"in navigator){const me=await navigator.serviceWorker.getRegistrations();console.log("Unregistering service workers:",me.length),await Promise.all(me.map(P=>P.unregister()))}ee&&(localStorage.clear(),console.log("LocalStorage cleared")),te&&(sessionStorage.clear(),console.log("SessionStorage cleared")),fe&&"indexedDB"in window&&console.log("IndexedDB clearing requested (implement if needed)"),console.log("Force update complete, reloading..."),window.location.reload?window.location.reload(!0):window.location.href=window.location.href+"?t="+Date.now()}catch(me){console.error("Error during force update:",me),window.location.reload(!0)}};return Vs(()=>{window.addEventListener("beforeinstallprompt",c),window.addEventListener("appinstalled",C),"serviceWorker"in navigator&&(navigator.serviceWorker.ready.then(ee=>{ee.addEventListener("updatefound",()=>{const te=ee.installing;te&&te.addEventListener("statechange",()=>{te.state==="installed"&&navigator.serviceWorker.controller&&(a(s.UPDATE_PROMPT_SHOWN)||(t.value=!0))})})}),navigator.serviceWorker.addEventListener("message",ee=>{console.log("Service worker message received:",ee.data),ee.data&&(ee.data.type==="SW_UPDATED"||ee.data.type==="workbox-broadcast-update")&&(a(s.UPDATE_PROMPT_SHOWN)||(console.log("Showing update prompt due to SW message"),t.value=!0))}),navigator.serviceWorker.addEventListener("controllerchange",()=>{console.log("Service worker controller changed - new version active"),window.location.reload()})),window.matchMedia("(display-mode: standalone)").matches&&(n.value=!1),setInterval(async()=>{if("serviceWorker"in navigator)try{await(await navigator.serviceWorker.ready).update()}catch(ee){console.log("Periodic update check failed:",ee)}},5*60*1e3)}),{needRefresh:t,offlineReady:e,canInstall:n,installPWA:p,updateApp:b,closeUpdatePrompt:M,closeInstallPrompt:x,closeOfflinePrompt:B,forceUpdate:O,initVitePWA:()=>{console.log("Initializing Vite PWA...");const E=(ee=0)=>{if(typeof window<"u"&&window.__vite_plugin_pwa_sw_register__)console.log("Vite PWA plugin found, registering..."),r=window.__vite_plugin_pwa_sw_register__(!0,{onNeedRefresh(){console.log("PWA: Need refresh triggered"),a(s.UPDATE_PROMPT_SHOWN)||(t.value=!0)},onOfflineReady(){console.log("PWA: Offline ready triggered"),a(s.OFFLINE_PROMPT_SHOWN)||(e.value=!0)},onRegisterError(te){console.error("SW registration error:",te)}}),console.log("Vite PWA initialized successfully");else if(ee<50){const te=Math.min(100+ee*10,500);setTimeout(()=>E(ee+1),te)}else console.warn("Vite PWA plugin not found after retrying. PWA features may be limited."),console.log("Available on window:",Object.keys(window).filter(te=>te.includes("pwa")||te.includes("sw")))};E()}}}const u1=["disabled","title"],c1={key:0,width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},p1={key:1,width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},h1={key:0},f1={__name:"ForceUpdateButton",props:{showText:{type:Boolean,default:!0},buttonClass:{type:String,default:""},confirmMessage:{type:String,default:"This will clear all cached data and reload the app. Are you sure?"},updateOptions:{type:Object,default:()=>({clearLocalStorage:!1,clearSessionStorage:!0,clearIndexedDB:!1,clearCaches:!0})}},setup(t){const e=t,{forceUpdate:n}=$i(),o=Qt(!1),r=is(()=>o.value?"Updating...":"Force Update"),s=is(()=>o.value?"Clearing cache and reloading...":"Clear all cached data and reload from server"),a=async()=>{if(!(o.value||!confirm(e.confirmMessage))){o.value=!0;try{await n(e.updateOptions)}catch(c){console.error("Force update failed:",c),o.value=!1}}};return(u,c)=>(f(),v("button",{onClick:a,disabled:o.value,class:"interfaceBtn fullw text-left",title:s.value},[i("div",{class:Ne({spinning:o.value})},[o.value?(f(),v("svg",p1,c[1]||(c[1]=[i("path",{d:"M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z"},null,-1)]))):(f(),v("svg",c1,c[0]||(c[0]=[i("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"},null,-1)])))],2),t.showText?(f(),v("span",h1,k(r.value),1)):A("",!0)],8,u1))}},g1=be(f1,[["__scopeId","data-v-ba5d0ed7"]]),m1={name:"welcomeSettings",components:{ForceUpdateButton:g1},data(){return{}},methods:{MakeSettings(){let t=JSON.parse(JSON.stringify(this.$root.SettingsTemplate));t.uuid=this.$root.uuid(),t.ProjectName=this.$root.setlang.start.projectlabel,this.$root.AddRecord("Settings",t),this.$root.session.settings=this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Settings.get(t.uuid)))}}},v1={key:0,class:"wavemaker_welcome"},y1={class:"wavemakerForm"},w1={style:{"text-align":"center"}},b1=["title"],C1=["title"],L1={class:"languages"},$1=["value"],k1={style:{"background-color":"#fff",padding:"10px","border-radius":"5px","margin-top":"10px"}};function x1(t,e,n,o,r,s){const a=Y("ForceUpdateButton");return this.$root.setlang?(f(),v("div",v1,[i("div",y1,[i("div",w1,[e[6]||(e[6]=Zn('<svg id="wavemaker_logo" version="1.1" viewBox="0 0 24 24" height="50" width="50" data-v-e360b102><path d="M0 0h24v24H0V0z" fill="none" data-v-e360b102></path><g transform="matrix(0.046875,0,0,0.04604639,-1.951887,-3.0598516)" data-v-e360b102><g id="_921457168" data-v-e360b102><path class="wavemaker_logo-top" d="M 464.632,212.901 337.566,83.292 c -22.014,-22.454 -57.758,-22.454 -79.771,0 l -126.63,129.386 c -7.411,7.559 -7.411,19.563 0,27.122 l 38.359,39.127 25.5,24.232 c 7.628,7.114 19.18,7.114 26.808,0 l 51.219,-48.242 c 14.167,-13.338 35.744,-13.338 49.693,0 l 51.219,48.242 c 7.629,7.114 19.18,7.114 26.809,0 l 25.501,-24.232 38.359,-38.904 c 7.193,-7.337 7.193,-19.563 0,-27.122 z" data-v-e360b102></path><path class="wavemaker_logo-bottom" d="m 58.804,367.853 198.991,202.973 c 22.013,22.452 57.757,22.452 79.771,0 L 536.557,367.853 c 34.437,-35.125 10.244,-45.574 -15.039,-70.029 L 490.35,267.59 c -7.409,-7.336 -19.18,-7.113 -26.808,0 l -51.218,48.242 c -14.169,13.339 -35.744,13.339 -49.694,0 L 311.411,267.59 c -7.575,-7.113 -19.233,-7.113 -26.809,0 l -51.219,48.242 c -14.167,13.339 -35.744,13.339 -49.693,0 L 132.471,267.59 c -7.576,-7.113 -19.233,-7.113 -26.809,0 l -28.77,27.123 c -26.37,24.899 -54.05,36.236 -18.088,73.14 z" data-v-e360b102></path></g></g></svg><div class="softwareName" data-v-e360b102>Wavemaker Cards</div>',2)),i("div",null,"Version 4 ("+k(this.$root.myPackage.version)+") ",1),i("h3",null,k(this.$root.setlang.welcome.info),1)]),i("button",{class:"interfaceBtn fullw text-left focuson",onClick:e[0]||(e[0]=(...u)=>s.MakeSettings&&s.MakeSettings(...u))},[e[7]||(e[7]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M10,16.5V7.5L16,12M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})],-1)),i("span",null,k(this.$root.setlang.welcome.getstarted),1)]),i("button",{onClick:e[1]||(e[1]=u=>t.$root.$data.popup.name="GoogleDrive"),class:"interfaceBtn fullw text-left",title:this.$root.setlang.welcome.loadgoogle},[e[8]||(e[8]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M13.75,9H16.14L19,14H16.05L13.5,9.46M18.3,17H12.75L14.15,14.5H19.27L19.53,14.96M11.5,17L10.4,14.86L13.24,9.9L14.74,12.56L12.25,17M20,6H12L10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6Z"})],-1)),i("span",null,k(this.$root.setlang.welcome.loadgoogle),1)],8,b1),i("button",{onClick:e[2]||(e[2]=(...u)=>t.$root.file_loadDB&&t.$root.file_loadDB(...u)),class:"interfaceBtn fullw text-left",title:this.$root.setlang.welcome.loadfile},[e[9]||(e[9]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M19,20H4C2.89,20 2,19.1 2,18V6C2,4.89 2.89,4 4,4H10L12,6H19A2,2 0 0,1 21,8H21L4,8V18L6.14,10H23.21L20.93,18.5C20.7,19.37 19.92,20 19,20Z"})],-1)),i("span",null,k(this.$root.setlang.welcome.loadfile),1)],8,C1),i("div",L1,[re(i("select",{"onUpdate:modelValue":e[3]||(e[3]=u=>this.$root.lang=u),onChange:e[4]||(e[4]=u=>this.$root.switchLang())},[(f(!0),v(ie,null,De(Object.keys(this.$root.language).sort(),(u,c)=>(f(),v("option",{key:c,value:u},k(u)+" ("+k(this.$root.language[u].info.name)+") ",9,$1))),128))],544),[[St,this.$root.lang]])]),i("div",null,[i("label",null,k(this.$root.setlang.welcome.legacy),1),i("button",{class:"interfaceBtn fullw text-left",onClick:e[5]||(e[5]=u=>t.$root.v3import=!0)},[e[10]||(e[10]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M20 6H2V2H20V6M16.5 12H15V17L18.61 19.16L19.36 17.94L16.5 16.25V12M23 16C23 19.87 19.87 23 16 23C13.62 23 11.53 21.81 10.26 20H3V7H19V9.68C21.36 10.81 23 13.21 23 16M8 12H10.26C10.83 11.19 11.56 10.5 12.41 10H8.5C8.22 10 8 10.22 8 10.5V12M21 16C21 13.24 18.76 11 16 11S11 13.24 11 16 13.24 21 16 21 21 18.76 21 16Z"})],-1)),he(" "+k(this.$root.setlang.welcome.v3import),1)])]),i("div",k1,[e[11]||(e[11]=i("h2",null,"App Updates",-1)),e[12]||(e[12]=i("p",{style:{"font-size":"0.9em",color:"#212121","margin-bottom":"5px"}}," Clear all cached data and force reload from server. Use this if you're experiencing issues or want to ensure you have the latest version. ",-1)),Te(a,{"confirm-message":"This will clear all cached app data and reload. Your project data will be preserved. Continue?"})]),e[13]||(e[13]=i("div",{style:{"text-align":"center",padding:"10px"}},[i("a",{href:"privacy.html",target:"_blank"},"Privacy Policy")],-1))])])):A("",!0)}const H1=be(m1,[["render",x1],["__scopeId","data-v-e360b102"]]),A1={name:"ToolBar",data(){return{}},methods:{setTool(t){this.$root.session.selectedTool=t,this.$root.togglenav&&(this.$root.navbar=!1)},toggleNav(){this.$root.togglenav&&(this.$root.navbar=!this.$root.navbar)}}},V1={class:"TopToolbar"},M1={style:{float:"right"}},S1=["title"],T1={class:"tooltiptext"},E1={class:"tooltiptext"},B1={class:"tooltiptext"},I1={key:0},_1={class:"tooltiptext"},D1={key:1,class:"toolbarButton"},P1={class:"tooltiptext"},O1={class:"tooltiptext",style:{right:"0px"}},N1={key:0,class:"navbar"},R1=["title"],j1={class:"tooltiptext"},F1=["title"],U1={class:"tooltiptext"},z1={class:"tooltiptext"},W1={class:"tooltiptext"},G1={class:"tooltiptext"},q1={class:"tooltiptext"},Z1={class:"tooltiptext"},K1={class:"tooltiptext"};function Y1(t,e,n,o,r,s){return f(),v(ie,null,[i("div",V1,[i("button",{id:"wavemakerIconButton",onClick:e[0]||(e[0]=(...a)=>s.toggleNav&&s.toggleNav(...a))},e[14]||(e[14]=[Zn('<svg id="wavemaker_logo" version="1.1" viewBox="0 0 24 24" data-v-3a766c37><path d="M0 0h24v24H0V0z" fill="none" data-v-3a766c37></path><g transform="matrix(0.046875,0,0,0.04604639,-1.951887,-3.0598516)" data-v-3a766c37><g id="_921457168" data-v-3a766c37><path class="wavemaker_logo-top" d="M 464.632,212.901 337.566,83.292 c -22.014,-22.454 -57.758,-22.454 -79.771,0 l -126.63,129.386 c -7.411,7.559 -7.411,19.563 0,27.122 l 38.359,39.127 25.5,24.232 c 7.628,7.114 19.18,7.114 26.808,0 l 51.219,-48.242 c 14.167,-13.338 35.744,-13.338 49.693,0 l 51.219,48.242 c 7.629,7.114 19.18,7.114 26.809,0 l 25.501,-24.232 38.359,-38.904 c 7.193,-7.337 7.193,-19.563 0,-27.122 z" data-v-3a766c37></path><path class="wavemaker_logo-bottom" d="m 58.804,367.853 198.991,202.973 c 22.013,22.452 57.757,22.452 79.771,0 L 536.557,367.853 c 34.437,-35.125 10.244,-45.574 -15.039,-70.029 L 490.35,267.59 c -7.409,-7.336 -19.18,-7.113 -26.808,0 l -51.218,48.242 c -14.169,13.339 -35.744,13.339 -49.694,0 L 311.411,267.59 c -7.575,-7.113 -19.233,-7.113 -26.809,0 l -51.219,48.242 c -14.167,13.339 -35.744,13.339 -49.693,0 L 132.471,267.59 c -7.576,-7.113 -19.233,-7.113 -26.809,0 l -28.77,27.123 c -26.37,24.899 -54.05,36.236 -18.088,73.14 z" data-v-3a766c37></path></g></g></svg>',1)])),i("div",M1,[i("button",{onClick:e[1]||(e[1]=a=>t.$root.$data.popup.name="SettingsPopup"),class:"toolbarButton",title:this.$root.setlang.settings.title},[e[15]||(e[15]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"})],-1)),i("span",T1,k(this.$root.setlang.toolbar.settings),1)],8,S1),i("button",{onClick:e[2]||(e[2]=(...a)=>t.$root.file_downloadDB&&t.$root.file_downloadDB(...a)),class:"toolbarButton"},[e[16]||(e[16]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z"})],-1)),i("span",E1,k(this.$root.setlang.toolbar.save),1)]),i("button",{onClick:e[3]||(e[3]=a=>t.$root.popup.name="GoogleDrive"),class:"toolbarButton"},[e[17]||(e[17]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M7.71,3.5L1.15,15L4.58,21L11.13,9.5M9.73,15L6.3,21H19.42L22.85,15M22.28,14L15.42,2H8.58L8.57,2L15.43,14H22.28Z"})],-1)),i("span",B1,k(this.$root.setlang.toolbar.googledrive),1)]),t.$root.GoogleDriveApi.loggedin?(f(),v("span",I1,[t.$root.GoogleDriveApi.loading?A("",!0):(f(),v("button",{key:0,onClick:e[4]||(e[4]=a=>this.$root.GoogleDriveWriteFile()),class:"toolbarButton"},[e[18]||(e[18]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M13 19C13 19.34 13.04 19.67 13.09 20H6.5C5 20 3.69 19.5 2.61 18.43C1.54 17.38 1 16.09 1 14.58C1 13.28 1.39 12.12 2.17 11.1S4 9.43 5.25 9.15C5.67 7.62 6.5 6.38 7.75 5.43S10.42 4 12 4C13.95 4 15.6 4.68 16.96 6.04C18.32 7.4 19 9.05 19 11C20.15 11.13 21.1 11.63 21.86 12.5C22.37 13.07 22.7 13.71 22.86 14.42C21.82 13.54 20.5 13 19 13C15.69 13 13 15.69 13 19M16 18H18V22H20V18H22L19 15L16 18Z"})],-1)),i("span",_1,k(this.$root.setlang.toolbar.quick),1)])),t.$root.GoogleDriveApi.loading?(f(),v("button",D1,[e[19]||(e[19]=i("svg",{version:"1.1",viewBox:"0 0 100 100"},[i("path",{d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50"},[i("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})])],-1)),i("span",P1,k(this.$root.setlang.toolbar.googledrive),1)])):A("",!0)])):A("",!0),i("button",{onClick:e[5]||(e[5]=a=>t.$root.closeProject()),class:"toolbarButton"},[e[20]||(e[20]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"})],-1)),i("span",O1,k(this.$root.setlang.toolbar.close),1)])])]),Te(Kn,{name:"toolbar-slide-fade"},{default:yt(()=>[t.$root.navbar?(f(),v("div",N1,[i("button",{class:Ne(["toolbarButton vertical",t.$root.session.selectedTool?"":"active"]),onClick:e[6]||(e[6]=a=>s.setTool(null)),title:this.$root.setlang.toolbar.projecthome},[e[21]||(e[21]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z"})],-1)),i("span",j1,k(this.$root.setlang.toolbar.projecthome),1)],10,R1),i("button",{class:Ne(["toolbarButton vertical",t.$root.session.selectedTool==="writer"?"active":""]),onClick:e[7]||(e[7]=a=>s.setTool("writer")),title:this.$root.setlang.toolbar.writer},[e[22]||(e[22]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M19 2L14 6.5V17.5L19 13V2M6.5 5C4.55 5 2.45 5.4 1 6.5V21.16C1 21.41 1.25 21.66 1.5 21.66C1.6 21.66 1.65 21.59 1.75 21.59C3.1 20.94 5.05 20.5 6.5 20.5C8.45 20.5 10.55 20.9 12 22C13.35 21.15 15.8 20.5 17.5 20.5C19.15 20.5 20.85 20.81 22.25 21.56C22.35 21.61 22.4 21.59 22.5 21.59C22.75 21.59 23 21.34 23 21.09V6.5C22.4 6.05 21.75 5.75 21 5.5V19C19.9 18.65 18.7 18.5 17.5 18.5C15.8 18.5 13.35 19.15 12 20V6.5C10.55 5.4 8.45 5 6.5 5Z"})],-1)),i("span",U1,k(this.$root.setlang.toolbar.writer),1)],10,F1),i("button",{class:Ne(["toolbarButton vertical",t.$root.session.selectedTool==="planningboard"?"active":""]),onClick:e[8]||(e[8]=a=>s.setTool("planningboard"))},[e[23]||(e[23]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M22,9V7H20V5A2,2 0 0,0 18,3H4A2,2 0 0,0 2,5V19A2,2 0 0,0 4,21H18A2,2 0 0,0 20,19V17H22V15H20V13H22V11H20V9H22M18,19H4V5H18V19M6,13H11V17H6V13M12,7H16V10H12V7M6,7H11V12H6V7M12,11H16V17H12V11Z"})],-1)),i("span",z1,k(this.$root.setlang.toolbar.planningboard),1)],2),i("button",{class:Ne(["toolbarButton vertical",t.$root.session.selectedTool==="mindmap"?"active":""]),onClick:e[9]||(e[9]=a=>s.setTool("mindmap"))},[e[24]||(e[24]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M21 16V13C21 11.89 20.11 11 19 11H13V8H15V2H9V8H11V11H5C3.89 11 3 11.89 3 13V16H1V22H7V16H5V13H11V16H9V22H15V16H13V13H19V16H17V22H23V16H21M11 4H13V6H11V4M5 20H3V18H5V20M13 20H11V18H13V20M21 20H19V18H21V20Z"})],-1)),i("span",W1,k(this.$root.setlang.toolbar.mindmap),1)],2),i("button",{class:Ne(["toolbarButton vertical",t.$root.session.selectedTool==="snowflake"?"active":""]),onClick:e[10]||(e[10]=a=>s.setTool("snowflake"))},[e[25]||(e[25]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M14.25,12L16.27,11H23L22,9H18.03L20.42,5.83L19.43,3.83L15.37,9.2L13.35,10.21L13.75,8L17.83,2.62L15.64,2.22L12,7L8.4,2.2L6.2,2.6L10.26,8L10.66,10.21L8.82,9.29L8.66,9.21L4.6,3.8L3.6,5.8L6,9H2L1,11H7.77L9.75,12L7.73,13H1L2,15H5.97L3.58,18.17L4.57,20.17L8.63,14.8L10.65,13.79L10.25,16L6.17,21.38L8.36,21.79L12,17L15.6,21.8L17.8,21.4L13.74,16L13.34,13.79L15.34,14.79L19.4,20.2L20.4,18.2L18,15H22L23,13H16.23"})],-1)),i("span",G1,k(this.$root.setlang.toolbar.snowflake),1)],2),i("button",{class:Ne(["toolbarButton vertical",t.$root.session.selectedTool==="timeline"?"active":""]),onClick:e[11]||(e[11]=a=>s.setTool("timeline"))},[e[26]||(e[26]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M12,20A7,7 0 0,1 5,13A7,7 0 0,1 12,6A7,7 0 0,1 19,13A7,7 0 0,1 12,20M12,4A9,9 0 0,0 3,13A9,9 0 0,0 12,22A9,9 0 0,0 21,13A9,9 0 0,0 12,4M12.5,8H11V14L15.75,16.85L16.5,15.62L12.5,13.25V8M7.88,3.39L6.6,1.86L2,5.71L3.29,7.24L7.88,3.39M22,5.72L17.4,1.86L16.11,3.39L20.71,7.25L22,5.72Z"})],-1)),i("span",q1,k(this.$root.setlang.toolbar.timeline),1)],2),i("button",{class:Ne(["toolbarButton vertical",t.$root.session.selectedTool==="gridplanner"?"active":""]),onClick:e[12]||(e[12]=a=>s.setTool("gridplanner"))},[e[27]||(e[27]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M10,4V8H14V4H10M16,4V8H20V4H16M16,10V14H20V10H16M16,16V20H20V16H16M14,20V16H10V20H14M8,20V16H4V20H8M8,14V10H4V14H8M8,8V4H4V8H8M10,14H14V10H10V14M4,2H20A2,2 0 0,1 22,4V20A2,2 0 0,1 20,22H4C2.92,22 2,21.1 2,20V4A2,2 0 0,1 4,2Z"})],-1)),i("span",Z1,k(this.$root.setlang.toolbar.gridplanner),1)],2),i("button",{class:Ne(["toolbarButton vertical lastbtn",t.$root.session.selectedTool==="cardsdatabase"?"active":""]),onClick:e[13]||(e[13]=a=>s.setTool("cardsdatabase"))},[e[28]||(e[28]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M12,3C7.58,3 4,4.79 4,7C4,9.21 7.58,11 12,11C16.42,11 20,9.21 20,7C20,4.79 16.42,3 12,3M4,9V12C4,14.21 7.58,16 12,16C16.42,16 20,14.21 20,12V9C20,11.21 16.42,13 12,13C7.58,13 4,11.21 4,9M4,14V17C4,19.21 7.58,21 12,21C16.42,21 20,19.21 20,17V14C20,16.21 16.42,18 12,18C7.58,18 4,16.21 4,14Z"})],-1)),i("span",K1,k(this.$root.setlang.toolbar.cardsdatabase),1)],2)])):A("",!0)]),_:1})],64)}const J1=be(A1,[["render",Y1],["__scopeId","data-v-3a766c37"]]),X1={name:"ProjectInfo",methods:{update(){let t=this.$root.session.settings.uuid;this.$root.UpdateRecord("Settings",t,this.$root.session.settings)},setTool(t){t&&(this.$root.session.writer={},this.$root.session[t]={}),this.$root.session.selectedTool=t,this.navbar=!1},gettingStartedPopup(){this.$root.openInNew("https://wavemaker.co.uk/getstarted/")}}},Q1={class:"wavemaker_info_box"},ec={style:{width:"100%"}},tc={style:{width:"40px"}};function nc(t,e,n,o,r,s){return f(),v("div",Q1,[i("table",ec,[i("tbody",null,[i("tr",null,[e[10]||(e[10]=i("td",null,null,-1)),i("td",tc,[i("button",{onClick:e[0]||(e[0]=(...a)=>s.gettingStartedPopup&&s.gettingStartedPopup(...a)),class:"interfaceBtn helpBtn"},e[9]||(e[9]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z"})],-1)]))])])])]),i("label",null,k(this.$root.setlang.start.projectlabel),1),re(i("input",{class:"projectName","onUpdate:modelValue":e[1]||(e[1]=a=>this.$root.session.settings.ProjectName=a),onChange:e[2]||(e[2]=(...a)=>s.update&&s.update(...a))},null,544),[[He,this.$root.session.settings.ProjectName]]),i("button",{class:"interfaceBtn",onClick:e[3]||(e[3]=a=>s.setTool("writer"))},[e[11]||(e[11]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M19 2L14 6.5V17.5L19 13V2M6.5 5C4.55 5 2.45 5.4 1 6.5V21.16C1 21.41 1.25 21.66 1.5 21.66C1.6 21.66 1.65 21.59 1.75 21.59C3.1 20.94 5.05 20.5 6.5 20.5C8.45 20.5 10.55 20.9 12 22C13.35 21.15 15.8 20.5 17.5 20.5C19.15 20.5 20.85 20.81 22.25 21.56C22.35 21.61 22.4 21.59 22.5 21.59C22.75 21.59 23 21.34 23 21.09V6.5C22.4 6.05 21.75 5.75 21 5.5V19C19.9 18.65 18.7 18.5 17.5 18.5C15.8 18.5 13.35 19.15 12 20V6.5C10.55 5.4 8.45 5 6.5 5Z"})],-1)),he(" "+k(this.$root.setlang.tools.writer),1)]),i("button",{class:"interfaceBtn",onClick:e[4]||(e[4]=a=>s.setTool("mindmap"))},[e[12]||(e[12]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M21 16V13C21 11.89 20.11 11 19 11H13V8H15V2H9V8H11V11H5C3.89 11 3 11.89 3 13V16H1V22H7V16H5V13H11V16H9V22H15V16H13V13H19V16H17V22H23V16H21M11 4H13V6H11V4M5 20H3V18H5V20M13 20H11V18H13V20M21 20H19V18H21V20Z"})],-1)),he(" "+k(this.$root.setlang.tools.mindmap),1)]),i("button",{class:"interfaceBtn",onClick:e[5]||(e[5]=a=>s.setTool("snowflake"))},[e[13]||(e[13]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M14.25,12L16.27,11H23L22,9H18.03L20.42,5.83L19.43,3.83L15.37,9.2L13.35,10.21L13.75,8L17.83,2.62L15.64,2.22L12,7L8.4,2.2L6.2,2.6L10.26,8L10.66,10.21L8.82,9.29L8.66,9.21L4.6,3.8L3.6,5.8L6,9H2L1,11H7.77L9.75,12L7.73,13H1L2,15H5.97L3.58,18.17L4.57,20.17L8.63,14.8L10.65,13.79L10.25,16L6.17,21.38L8.36,21.79L12,17L15.6,21.8L17.8,21.4L13.74,16L13.34,13.79L15.34,14.79L19.4,20.2L20.4,18.2L18,15H22L23,13H16.23"})],-1)),he(" "+k(this.$root.setlang.tools.snowflake),1)]),i("button",{class:"interfaceBtn",onClick:e[6]||(e[6]=a=>s.setTool("timeline"))},[e[14]||(e[14]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M12,20A7,7 0 0,1 5,13A7,7 0 0,1 12,6A7,7 0 0,1 19,13A7,7 0 0,1 12,20M12,4A9,9 0 0,0 3,13A9,9 0 0,0 12,22A9,9 0 0,0 21,13A9,9 0 0,0 12,4M12.5,8H11V14L15.75,16.85L16.5,15.62L12.5,13.25V8M7.88,3.39L6.6,1.86L2,5.71L3.29,7.24L7.88,3.39M22,5.72L17.4,1.86L16.11,3.39L20.71,7.25L22,5.72Z"})],-1)),he(" "+k(this.$root.setlang.tools.timeline),1)]),i("button",{class:"interfaceBtn",onClick:e[7]||(e[7]=a=>s.setTool("gridplanner"))},[e[15]||(e[15]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M10,4V8H14V4H10M16,4V8H20V4H16M16,10V14H20V10H16M16,16V20H20V16H16M14,20V16H10V20H14M8,20V16H4V20H8M8,14V10H4V14H8M8,8V4H4V8H8M10,14H14V10H10V14M4,2H20A2,2 0 0,1 22,4V20A2,2 0 0,1 20,22H4C2.92,22 2,21.1 2,20V4A2,2 0 0,1 4,2Z"})],-1)),he(" "+k(this.$root.setlang.tools.gridplanner),1)]),i("button",{class:"interfaceBtn",onClick:e[8]||(e[8]=a=>s.setTool("cardsdatabase"))},[e[16]||(e[16]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M12,3C7.58,3 4,4.79 4,7C4,9.21 7.58,11 12,11C16.42,11 20,9.21 20,7C20,4.79 16.42,3 12,3M4,9V12C4,14.21 7.58,16 12,16C16.42,16 20,14.21 20,12V9C20,11.21 16.42,13 12,13C7.58,13 4,11.21 4,9M4,14V17C4,19.21 7.58,21 12,21C16.42,21 20,19.21 20,17V14C20,16.21 16.42,18 12,18C7.58,18 4,16.21 4,14Z"})],-1)),he(" "+k(this.$root.setlang.tools.cardsdatabase),1)])])}const oc=be(X1,[["render",nc],["__scopeId","data-v-68184fa2"]]);Pl.register(Ol,Nl,Rl,jl,Fl,Ul);const ic={name:"BarChart",components:{Bar:zl},props:{chartId:{type:String,default:"bar-chart"},datasetIdKey:{type:String,default:"label"},width:{type:Number,default:400},height:{type:Number,default:200},cssClasses:{default:"",type:String},styles:{type:Object,default:()=>{}},plugins:{type:Object,default:()=>{}}},computed:{logArray(){let t={};if(this.$root.session.writer.selected.log){t.labels=Object.keys(this.$root.session.writer.selected.log);let e=[],n=0;t.labels.forEach(o=>{this.$root.session.writer.selected.log[o]&&e.push(this.$root.session.writer.selected.log[o]-n),n=this.$root.session.writer.selected.log[o]}),t.datasets=[{label:"Words",backgroundColor:"#f87979",data:e}]}return t}},data(){return{chartData:{labels:["January","February","March"],datasets:[{data:[40,20,12]}]},chartOptions:{responsive:!0}}}},sc={key:0,class:"chartWrapper"},rc={class:"chartAreaWrapper"},ac={class:"chartAreaWrapper2"};function lc(t,e,n,o,r,s){const a=Y("Bar");return s.logArray.labels?(f(),v("div",sc,[i("div",rc,[i("div",ac,[Te(a,{"chart-data":s.logArray,"chart-options":{responsive:!0,maintainAspectRatio:!1}},null,8,["chart-data"])])])])):A("",!0)}const dc=be(ic,[["render",lc],["__scopeId","data-v-6f8aee50"]]);/*!
  * vue-draggable-next v2.2.0
  * (c) 2023 Anish George
  * @license MIT
  *//**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function cs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cs(Object(n),!0).forEach(function(o){uc(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cs(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function ho(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ho=function(e){return typeof e}:ho=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ho(t)}function uc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qt(){return qt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},qt.apply(this,arguments)}function cc(t,e){if(t==null)return{};var n={},o=Object.keys(t),r,s;for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function pc(t,e){if(t==null)return{};var n=cc(t,e),o,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)o=s[r],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}var hc="1.14.0";function Gt(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Zt=Gt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Xn=Gt(/Edge/i),ps=Gt(/firefox/i),Fn=Gt(/safari/i)&&!Gt(/chrome/i)&&!Gt(/android/i),Rs=Gt(/iP(ad|od|hone)/i),fc=Gt(/chrome/i)&&Gt(/android/i),js={capture:!1,passive:!1};function Pe(t,e,n){t.addEventListener(e,n,!Zt&&js)}function Ie(t,e,n){t.removeEventListener(e,n,!Zt&&js)}function Lo(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function gc(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function jt(t,e,n,o){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&Lo(t,e):Lo(t,e))||o&&t===n)return t;if(t===n)break}while(t=gc(t))}return null}var hs=/\s+/g;function xt(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var o=(" "+t.className+" ").replace(hs," ").replace(" "+e+" "," ");t.className=(o+(n?" "+e:"")).replace(hs," ")}}function ve(t,e,n){var o=t&&t.style;if(o){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in o)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),o[e]=n+(typeof n=="string"?"":"px")}}function Vn(t,e){var n="";if(typeof t=="string")n=t;else do{var o=ve(t,"transform");o&&o!=="none"&&(n=o+" "+n)}while(!e&&(t=t.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function Fs(t,e,n){if(t){var o=t.getElementsByTagName(e),r=0,s=o.length;if(n)for(;r<s;r++)n(o[r],r);return o}return[]}function Ft(){var t=document.scrollingElement;return t||document.documentElement}function ot(t,e,n,o,r){if(!(!t.getBoundingClientRect&&t!==window)){var s,a,u,c,p,C,b;if(t!==window&&t.parentNode&&t!==Ft()?(s=t.getBoundingClientRect(),a=s.top,u=s.left,c=s.bottom,p=s.right,C=s.height,b=s.width):(a=0,u=0,c=window.innerHeight,p=window.innerWidth,C=window.innerHeight,b=window.innerWidth),(e||n)&&t!==window&&(r=r||t.parentNode,!Zt))do if(r&&r.getBoundingClientRect&&(ve(r,"transform")!=="none"||n&&ve(r,"position")!=="static")){var M=r.getBoundingClientRect();a-=M.top+parseInt(ve(r,"border-top-width")),u-=M.left+parseInt(ve(r,"border-left-width")),c=a+s.height,p=u+s.width;break}while(r=r.parentNode);if(o&&t!==window){var x=Vn(r||t),B=x&&x.a,O=x&&x.d;x&&(a/=O,u/=B,b/=B,C/=O,c=a+C,p=u+b)}return{top:a,left:u,bottom:c,right:p,width:b,height:C}}}function fs(t,e,n){for(var o=en(t,!0),r=ot(t)[e];o;){var s=ot(o)[n],a=void 0;if(a=r>=s,!a)return o;if(o===Ft())break;o=en(o,!1)}return!1}function Sn(t,e,n,o){for(var r=0,s=0,a=t.children;s<a.length;){if(a[s].style.display!=="none"&&a[s]!==ye.ghost&&(o||a[s]!==ye.dragged)&&jt(a[s],n.draggable,t,!1)){if(r===e)return a[s];r++}s++}return null}function ki(t,e){for(var n=t.lastElementChild;n&&(n===ye.ghost||ve(n,"display")==="none"||e&&!Lo(n,e));)n=n.previousElementSibling;return n||null}function Tt(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==ye.clone&&(!e||Lo(t,e))&&n++;return n}function gs(t){var e=0,n=0,o=Ft();if(t)do{var r=Vn(t),s=r.a,a=r.d;e+=t.scrollLeft*s,n+=t.scrollTop*a}while(t!==o&&(t=t.parentNode));return[e,n]}function mc(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var o in e)if(e.hasOwnProperty(o)&&e[o]===t[n][o])return Number(n)}return-1}function en(t,e){if(!t||!t.getBoundingClientRect)return Ft();var n=t,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=ve(n);if(n.clientWidth<n.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Ft();if(o||e)return n;o=!0}}while(n=n.parentNode);return Ft()}function vc(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Zo(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Un;function Us(t,e){return function(){if(!Un){var n=arguments,o=this;n.length===1?t.call(o,n[0]):t.apply(o,n),Un=setTimeout(function(){Un=void 0},e)}}}function yc(){clearTimeout(Un),Un=void 0}function zs(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function Ws(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}var At="Sortable"+new Date().getTime();function wc(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(r){if(!(ve(r,"display")==="none"||r===ye.ghost)){t.push({target:r,rect:ot(r)});var s=Ut({},t[t.length-1].rect);if(r.thisAnimationDuration){var a=Vn(r,!0);a&&(s.top-=a.f,s.left-=a.e)}r.fromRect=s}})}},addAnimationState:function(o){t.push(o)},removeAnimationState:function(o){t.splice(mc(t,{target:o}),1)},animateAll:function(o){var r=this;if(!this.options.animation){clearTimeout(e),typeof o=="function"&&o();return}var s=!1,a=0;t.forEach(function(u){var c=0,p=u.target,C=p.fromRect,b=ot(p),M=p.prevFromRect,x=p.prevToRect,B=u.rect,O=Vn(p,!0);O&&(b.top-=O.f,b.left-=O.e),p.toRect=b,p.thisAnimationDuration&&Zo(M,b)&&!Zo(C,b)&&(B.top-b.top)/(B.left-b.left)===(C.top-b.top)/(C.left-b.left)&&(c=Cc(B,M,x,r.options)),Zo(b,C)||(p.prevFromRect=C,p.prevToRect=b,c||(c=r.options.animation),r.animate(p,B,b,c)),c&&(s=!0,a=Math.max(a,c),clearTimeout(p.animationResetTimer),p.animationResetTimer=setTimeout(function(){p.animationTime=0,p.prevFromRect=null,p.fromRect=null,p.prevToRect=null,p.thisAnimationDuration=null},c),p.thisAnimationDuration=c)}),clearTimeout(e),s?e=setTimeout(function(){typeof o=="function"&&o()},a):typeof o=="function"&&o(),t=[]},animate:function(o,r,s,a){if(a){ve(o,"transition",""),ve(o,"transform","");var u=Vn(this.el),c=u&&u.a,p=u&&u.d,C=(r.left-s.left)/(c||1),b=(r.top-s.top)/(p||1);o.animatingX=!!C,o.animatingY=!!b,ve(o,"transform","translate3d("+C+"px,"+b+"px,0)"),this.forRepaintDummy=bc(o),ve(o,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),ve(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){ve(o,"transition",""),ve(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},a)}}}}function bc(t){return t.offsetWidth}function Cc(t,e,n,o){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*o.animation}var Ln=[],Ko={initializeByDefault:!0},Qn={mount:function(e){for(var n in Ko)Ko.hasOwnProperty(n)&&!(n in e)&&(e[n]=Ko[n]);Ln.forEach(function(o){if(o.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Ln.push(e)},pluginEvent:function(e,n,o){var r=this;this.eventCanceled=!1,o.cancel=function(){r.eventCanceled=!0};var s=e+"Global";Ln.forEach(function(a){n[a.pluginName]&&(n[a.pluginName][s]&&n[a.pluginName][s](Ut({sortable:n},o)),n.options[a.pluginName]&&n[a.pluginName][e]&&n[a.pluginName][e](Ut({sortable:n},o)))})},initializePlugins:function(e,n,o,r){Ln.forEach(function(u){var c=u.pluginName;if(!(!e.options[c]&&!u.initializeByDefault)){var p=new u(e,n,e.options);p.sortable=e,p.options=e.options,e[c]=p,qt(o,p.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var a=this.modifyOption(e,s,e.options[s]);typeof a<"u"&&(e.options[s]=a)}},getEventProperties:function(e,n){var o={};return Ln.forEach(function(r){typeof r.eventProperties=="function"&&qt(o,r.eventProperties.call(n[r.pluginName],e))}),o},modifyOption:function(e,n,o){var r;return Ln.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[n]=="function"&&(r=s.optionListeners[n].call(e[s.pluginName],o))}),r}};function Lc(t){var e=t.sortable,n=t.rootEl,o=t.name,r=t.targetEl,s=t.cloneEl,a=t.toEl,u=t.fromEl,c=t.oldIndex,p=t.newIndex,C=t.oldDraggableIndex,b=t.newDraggableIndex,M=t.originalEvent,x=t.putSortable,B=t.extraEventProperties;if(e=e||n&&n[At],!!e){var O,le=e.options,E="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!Zt&&!Xn?O=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(O=document.createEvent("Event"),O.initEvent(o,!0,!0)),O.to=a||n,O.from=u||n,O.item=r||n,O.clone=s,O.oldIndex=c,O.newIndex=p,O.oldDraggableIndex=C,O.newDraggableIndex=b,O.originalEvent=M,O.pullMode=x?x.lastPutMode:void 0;var ee=Ut(Ut({},B),Qn.getEventProperties(o,e));for(var te in ee)O[te]=ee[te];n&&n.dispatchEvent(O),le[E]&&le[E].call(e,O)}}var $c=["evt"],bt=function(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=o.evt,s=pc(o,$c);Qn.pluginEvent.bind(ye)(e,n,Ut({dragEl:F,parentEl:Ke,ghostEl:Le,rootEl:Ge,nextEl:ln,lastDownEl:fo,cloneEl:Ye,cloneHidden:Xt,dragStarted:On,putSortable:ut,activeSortable:ye.active,originalEvent:r,oldIndex:Hn,oldDraggableIndex:zn,newIndex:Ht,newDraggableIndex:Yt,hideGhostForTarget:Ks,unhideGhostForTarget:Ys,cloneNowHidden:function(){Xt=!0},cloneNowShown:function(){Xt=!1},dispatchSortableEvent:function(u){vt({sortable:n,name:u,originalEvent:r})}},s))};function vt(t){Lc(Ut({putSortable:ut,cloneEl:Ye,targetEl:F,rootEl:Ge,oldIndex:Hn,oldDraggableIndex:zn,newIndex:Ht,newDraggableIndex:Yt},t))}var F,Ke,Le,Ge,ln,fo,Ye,Xt,Hn,Ht,zn,Yt,so,ut,kn=!1,$o=!1,ko=[],rn,Dt,Yo,Jo,ms,vs,On,$n,Wn,Gn=!1,ro=!1,go,ht,Xo=[],pi=!1,xo=[],So=typeof document<"u",ao=Rs,ys=Xn||Zt?"cssFloat":"float",kc=So&&!fc&&!Rs&&"draggable"in document.createElement("div"),Gs=function(){if(So){if(Zt)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),qs=function(e,n){var o=ve(e),r=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),s=Sn(e,0,n),a=Sn(e,1,n),u=s&&ve(s),c=a&&ve(a),p=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+ot(s).width,C=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+ot(a).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&u.float&&u.float!=="none"){var b=u.float==="left"?"left":"right";return a&&(c.clear==="both"||c.clear===b)?"vertical":"horizontal"}return s&&(u.display==="block"||u.display==="flex"||u.display==="table"||u.display==="grid"||p>=r&&o[ys]==="none"||a&&o[ys]==="none"&&p+C>r)?"vertical":"horizontal"},xc=function(e,n,o){var r=o?e.left:e.top,s=o?e.right:e.bottom,a=o?e.width:e.height,u=o?n.left:n.top,c=o?n.right:n.bottom,p=o?n.width:n.height;return r===u||s===c||r+a/2===u+p/2},Hc=function(e,n){var o;return ko.some(function(r){var s=r[At].options.emptyInsertThreshold;if(!(!s||ki(r))){var a=ot(r),u=e>=a.left-s&&e<=a.right+s,c=n>=a.top-s&&n<=a.bottom+s;if(u&&c)return o=r}}),o},Zs=function(e){function n(s,a){return function(u,c,p,C){var b=u.options.group.name&&c.options.group.name&&u.options.group.name===c.options.group.name;if(s==null&&(a||b))return!0;if(s==null||s===!1)return!1;if(a&&s==="clone")return s;if(typeof s=="function")return n(s(u,c,p,C),a)(u,c,p,C);var M=(a?u:c).options.group.name;return s===!0||typeof s=="string"&&s===M||s.join&&s.indexOf(M)>-1}}var o={},r=e.group;(!r||ho(r)!="object")&&(r={name:r}),o.name=r.name,o.checkPull=n(r.pull,!0),o.checkPut=n(r.put),o.revertClone=r.revertClone,e.group=o},Ks=function(){!Gs&&Le&&ve(Le,"display","none")},Ys=function(){!Gs&&Le&&ve(Le,"display","")};So&&document.addEventListener("click",function(t){if($o)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),$o=!1,!1},!0);var an=function(e){if(F){e=e.touches?e.touches[0]:e;var n=Hc(e.clientX,e.clientY);if(n){var o={};for(var r in e)e.hasOwnProperty(r)&&(o[r]=e[r]);o.target=o.rootEl=n,o.preventDefault=void 0,o.stopPropagation=void 0,n[At]._onDragOver(o)}}},Ac=function(e){F&&F.parentNode[At]._isOutsideThisEl(e.target)};function ye(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=qt({},e),t[At]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return qs(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,u){a.setData("Text",u.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ye.supportPointer!==!1&&"PointerEvent"in window&&!Fn,emptyInsertThreshold:5};Qn.initializePlugins(this,t,n);for(var o in n)!(o in e)&&(e[o]=n[o]);Zs(e);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=e.forceFallback?!1:kc,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Pe(t,"pointerdown",this._onTapStart):(Pe(t,"mousedown",this._onTapStart),Pe(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Pe(t,"dragover",this),Pe(t,"dragenter",this)),ko.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),qt(this,wc())}ye.prototype={constructor:ye,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&($n=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,F):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,o=this.el,r=this.options,s=r.preventOnFilter,a=e.type,u=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,c=(u||e).target,p=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,C=r.filter;if(_c(o),!F&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||r.disabled)&&!p.isContentEditable&&!(!this.nativeDraggable&&Fn&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=jt(c,r.draggable,o,!1),!(c&&c.animated)&&fo!==c)){if(Hn=Tt(c),zn=Tt(c,r.draggable),typeof C=="function"){if(C.call(this,e,c,this)){vt({sortable:n,rootEl:p,name:"filter",targetEl:c,toEl:o,fromEl:o}),bt("filter",n,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(C&&(C=C.split(",").some(function(b){if(b=jt(p,b.trim(),o,!1),b)return vt({sortable:n,rootEl:b,name:"filter",targetEl:c,fromEl:o,toEl:o}),bt("filter",n,{evt:e}),!0}),C)){s&&e.cancelable&&e.preventDefault();return}r.handle&&!jt(p,r.handle,o,!1)||this._prepareDragStart(e,u,c)}}},_prepareDragStart:function(e,n,o){var r=this,s=r.el,a=r.options,u=s.ownerDocument,c;if(o&&!F&&o.parentNode===s){var p=ot(o);if(Ge=s,F=o,Ke=F.parentNode,ln=F.nextSibling,fo=o,so=a.group,ye.dragged=F,rn={target:F,clientX:(n||e).clientX,clientY:(n||e).clientY},ms=rn.clientX-p.left,vs=rn.clientY-p.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,F.style["will-change"]="all",c=function(){if(bt("delayEnded",r,{evt:e}),ye.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!ps&&r.nativeDraggable&&(F.draggable=!0),r._triggerDragStart(e,n),vt({sortable:r,name:"choose",originalEvent:e}),xt(F,a.chosenClass,!0)},a.ignore.split(",").forEach(function(C){Fs(F,C.trim(),Qo)}),Pe(u,"dragover",an),Pe(u,"mousemove",an),Pe(u,"touchmove",an),Pe(u,"mouseup",r._onDrop),Pe(u,"touchend",r._onDrop),Pe(u,"touchcancel",r._onDrop),ps&&this.nativeDraggable&&(this.options.touchStartThreshold=4,F.draggable=!0),bt("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Xn||Zt))){if(ye.eventCanceled){this._onDrop();return}Pe(u,"mouseup",r._disableDelayedDrag),Pe(u,"touchend",r._disableDelayedDrag),Pe(u,"touchcancel",r._disableDelayedDrag),Pe(u,"mousemove",r._delayedDragTouchMoveHandler),Pe(u,"touchmove",r._delayedDragTouchMoveHandler),a.supportPointer&&Pe(u,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(c,a.delay)}else c()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){F&&Qo(F),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Ie(e,"mouseup",this._disableDelayedDrag),Ie(e,"touchend",this._disableDelayedDrag),Ie(e,"touchcancel",this._disableDelayedDrag),Ie(e,"mousemove",this._delayedDragTouchMoveHandler),Ie(e,"touchmove",this._delayedDragTouchMoveHandler),Ie(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?Pe(document,"pointermove",this._onTouchMove):n?Pe(document,"touchmove",this._onTouchMove):Pe(document,"mousemove",this._onTouchMove):(Pe(F,"dragend",this),Pe(Ge,"dragstart",this._onDragStart));try{document.selection?mo(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(kn=!1,Ge&&F){bt("dragStarted",this,{evt:n}),this.nativeDraggable&&Pe(document,"dragover",Ac);var o=this.options;!e&&xt(F,o.dragClass,!1),xt(F,o.ghostClass,!0),ye.active=this,e&&this._appendGhost(),vt({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Dt){this._lastX=Dt.clientX,this._lastY=Dt.clientY,Ks();for(var e=document.elementFromPoint(Dt.clientX,Dt.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Dt.clientX,Dt.clientY),e!==n);)n=e;if(F.parentNode[At]._isOutsideThisEl(e),n)do{if(n[At]){var o=void 0;if(o=n[At]._onDragOver({clientX:Dt.clientX,clientY:Dt.clientY,target:e,rootEl:n}),o&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);Ys()}},_onTouchMove:function(e){if(rn){var n=this.options,o=n.fallbackTolerance,r=n.fallbackOffset,s=e.touches?e.touches[0]:e,a=Le&&Vn(Le,!0),u=Le&&a&&a.a,c=Le&&a&&a.d,p=ao&&ht&&gs(ht),C=(s.clientX-rn.clientX+r.x)/(u||1)+(p?p[0]-Xo[0]:0)/(u||1),b=(s.clientY-rn.clientY+r.y)/(c||1)+(p?p[1]-Xo[1]:0)/(c||1);if(!ye.active&&!kn){if(o&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<o)return;this._onDragStart(e,!0)}if(Le){a?(a.e+=C-(Yo||0),a.f+=b-(Jo||0)):a={a:1,b:0,c:0,d:1,e:C,f:b};var M="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");ve(Le,"webkitTransform",M),ve(Le,"mozTransform",M),ve(Le,"msTransform",M),ve(Le,"transform",M),Yo=C,Jo=b,Dt=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Le){var e=this.options.fallbackOnBody?document.body:Ge,n=ot(F,!0,ao,!0,e),o=this.options;if(ao){for(ht=e;ve(ht,"position")==="static"&&ve(ht,"transform")==="none"&&ht!==document;)ht=ht.parentNode;ht!==document.body&&ht!==document.documentElement?(ht===document&&(ht=Ft()),n.top+=ht.scrollTop,n.left+=ht.scrollLeft):ht=Ft(),Xo=gs(ht)}Le=F.cloneNode(!0),xt(Le,o.ghostClass,!1),xt(Le,o.fallbackClass,!0),xt(Le,o.dragClass,!0),ve(Le,"transition",""),ve(Le,"transform",""),ve(Le,"box-sizing","border-box"),ve(Le,"margin",0),ve(Le,"top",n.top),ve(Le,"left",n.left),ve(Le,"width",n.width),ve(Le,"height",n.height),ve(Le,"opacity","0.8"),ve(Le,"position",ao?"absolute":"fixed"),ve(Le,"zIndex","100000"),ve(Le,"pointerEvents","none"),ye.ghost=Le,e.appendChild(Le),ve(Le,"transform-origin",ms/parseInt(Le.style.width)*100+"% "+vs/parseInt(Le.style.height)*100+"%")}},_onDragStart:function(e,n){var o=this,r=e.dataTransfer,s=o.options;if(bt("dragStart",this,{evt:e}),ye.eventCanceled){this._onDrop();return}bt("setupClone",this),ye.eventCanceled||(Ye=Ws(F),Ye.draggable=!1,Ye.style["will-change"]="",this._hideClone(),xt(Ye,this.options.chosenClass,!1),ye.clone=Ye),o.cloneId=mo(function(){bt("clone",o),!ye.eventCanceled&&(o.options.removeCloneOnHide||Ge.insertBefore(Ye,F),o._hideClone(),vt({sortable:o,name:"clone"}))}),!n&&xt(F,s.dragClass,!0),n?($o=!0,o._loopId=setInterval(o._emulateDragOver,50)):(Ie(document,"mouseup",o._onDrop),Ie(document,"touchend",o._onDrop),Ie(document,"touchcancel",o._onDrop),r&&(r.effectAllowed="move",s.setData&&s.setData.call(o,r,F)),Pe(document,"drop",o),ve(F,"transform","translateZ(0)")),kn=!0,o._dragStartId=mo(o._dragStarted.bind(o,n,e)),Pe(document,"selectstart",o),On=!0,Fn&&ve(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,o=e.target,r,s,a,u=this.options,c=u.group,p=ye.active,C=so===c,b=u.sort,M=ut||p,x,B=this,O=!1;if(pi)return;function le(j,X){bt(j,B,Ut({evt:e,isOwner:C,axis:x?"vertical":"horizontal",revert:a,dragRect:r,targetRect:s,canSort:b,fromSortable:M,target:o,completed:ee,onMove:function(Me,ue){return lo(Ge,n,F,r,Me,ot(Me),e,ue)},changed:te},X))}function E(){le("dragOverAnimationCapture"),B.captureAnimationState(),B!==M&&M.captureAnimationState()}function ee(j){return le("dragOverCompleted",{insertion:j}),j&&(C?p._hideClone():p._showClone(B),B!==M&&(xt(F,ut?ut.options.ghostClass:p.options.ghostClass,!1),xt(F,u.ghostClass,!0)),ut!==B&&B!==ye.active?ut=B:B===ye.active&&ut&&(ut=null),M===B&&(B._ignoreWhileAnimating=o),B.animateAll(function(){le("dragOverAnimationComplete"),B._ignoreWhileAnimating=null}),B!==M&&(M.animateAll(),M._ignoreWhileAnimating=null)),(o===F&&!F.animated||o===n&&!o.animated)&&($n=null),!u.dragoverBubble&&!e.rootEl&&o!==document&&(F.parentNode[At]._isOutsideThisEl(e.target),!j&&an(e)),!u.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),O=!0}function te(){Ht=Tt(F),Yt=Tt(F,u.draggable),vt({sortable:B,name:"change",toEl:n,newIndex:Ht,newDraggableIndex:Yt,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),o=jt(o,u.draggable,n,!0),le("dragOver"),ye.eventCanceled)return O;if(F.contains(e.target)||o.animated&&o.animatingX&&o.animatingY||B._ignoreWhileAnimating===o)return ee(!1);if($o=!1,p&&!u.disabled&&(C?b||(a=Ke!==Ge):ut===this||(this.lastPutMode=so.checkPull(this,p,F,e))&&c.checkPut(this,p,F,e))){if(x=this._getDirection(e,o)==="vertical",r=ot(F),le("dragOverValid"),ye.eventCanceled)return O;if(a)return Ke=Ge,E(),this._hideClone(),le("revert"),ye.eventCanceled||(ln?Ge.insertBefore(F,ln):Ge.appendChild(F)),ee(!0);var fe=ki(n,u.draggable);if(!fe||Tc(e,x,this)&&!fe.animated){if(fe===F)return ee(!1);if(fe&&n===e.target&&(o=fe),o&&(s=ot(o)),lo(Ge,n,F,r,o,s,e,!!o)!==!1)return E(),n.appendChild(F),Ke=n,te(),ee(!0)}else if(fe&&Sc(e,x,this)){var J=Sn(n,0,u,!0);if(J===F)return ee(!1);if(o=J,s=ot(o),lo(Ge,n,F,r,o,s,e,!1)!==!1)return E(),n.insertBefore(F,J),Ke=n,te(),ee(!0)}else if(o.parentNode===n){s=ot(o);var me=0,P,V=F.parentNode!==n,L=!xc(F.animated&&F.toRect||r,o.animated&&o.toRect||s,x),g=x?"top":"left",S=fs(o,"top","top")||fs(F,"top","top"),y=S?S.scrollTop:void 0;$n!==o&&(P=s[g],Gn=!1,ro=!L&&u.invertSwap||V),me=Ec(e,o,s,x,L?1:u.swapThreshold,u.invertedSwapThreshold==null?u.swapThreshold:u.invertedSwapThreshold,ro,$n===o);var de;if(me!==0){var Q=Tt(F);do Q-=me,de=Ke.children[Q];while(de&&(ve(de,"display")==="none"||de===Le))}if(me===0||de===o)return ee(!1);$n=o,Wn=me;var Ee=o.nextElementSibling,ce=!1;ce=me===1;var _=lo(Ge,n,F,r,o,s,e,ce);if(_!==!1)return(_===1||_===-1)&&(ce=_===1),pi=!0,setTimeout(Mc,30),E(),ce&&!Ee?n.appendChild(F):o.parentNode.insertBefore(F,ce?Ee:o),S&&zs(S,0,y-S.scrollTop),Ke=F.parentNode,P!==void 0&&!ro&&(go=Math.abs(P-ot(o)[g])),te(),ee(!0)}if(n.contains(F))return ee(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Ie(document,"mousemove",this._onTouchMove),Ie(document,"touchmove",this._onTouchMove),Ie(document,"pointermove",this._onTouchMove),Ie(document,"dragover",an),Ie(document,"mousemove",an),Ie(document,"touchmove",an)},_offUpEvents:function(){var e=this.el.ownerDocument;Ie(e,"mouseup",this._onDrop),Ie(e,"touchend",this._onDrop),Ie(e,"pointerup",this._onDrop),Ie(e,"touchcancel",this._onDrop),Ie(document,"selectstart",this)},_onDrop:function(e){var n=this.el,o=this.options;if(Ht=Tt(F),Yt=Tt(F,o.draggable),bt("drop",this,{evt:e}),Ke=F&&F.parentNode,Ht=Tt(F),Yt=Tt(F,o.draggable),ye.eventCanceled){this._nulling();return}kn=!1,ro=!1,Gn=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),hi(this.cloneId),hi(this._dragStartId),this.nativeDraggable&&(Ie(document,"drop",this),Ie(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Fn&&ve(document.body,"user-select",""),ve(F,"transform",""),e&&(On&&(e.cancelable&&e.preventDefault(),!o.dropBubble&&e.stopPropagation()),Le&&Le.parentNode&&Le.parentNode.removeChild(Le),(Ge===Ke||ut&&ut.lastPutMode!=="clone")&&Ye&&Ye.parentNode&&Ye.parentNode.removeChild(Ye),F&&(this.nativeDraggable&&Ie(F,"dragend",this),Qo(F),F.style["will-change"]="",On&&!kn&&xt(F,ut?ut.options.ghostClass:this.options.ghostClass,!1),xt(F,this.options.chosenClass,!1),vt({sortable:this,name:"unchoose",toEl:Ke,newIndex:null,newDraggableIndex:null,originalEvent:e}),Ge!==Ke?(Ht>=0&&(vt({rootEl:Ke,name:"add",toEl:Ke,fromEl:Ge,originalEvent:e}),vt({sortable:this,name:"remove",toEl:Ke,originalEvent:e}),vt({rootEl:Ke,name:"sort",toEl:Ke,fromEl:Ge,originalEvent:e}),vt({sortable:this,name:"sort",toEl:Ke,originalEvent:e})),ut&&ut.save()):Ht!==Hn&&Ht>=0&&(vt({sortable:this,name:"update",toEl:Ke,originalEvent:e}),vt({sortable:this,name:"sort",toEl:Ke,originalEvent:e})),ye.active&&((Ht==null||Ht===-1)&&(Ht=Hn,Yt=zn),vt({sortable:this,name:"end",toEl:Ke,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){bt("nulling",this),Ge=F=Ke=Le=ln=Ye=fo=Xt=rn=Dt=On=Ht=Yt=Hn=zn=$n=Wn=ut=so=ye.dragged=ye.ghost=ye.clone=ye.active=null,xo.forEach(function(e){e.checked=!0}),xo.length=Yo=Jo=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":F&&(this._onDragOver(e),Vc(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,o=this.el.children,r=0,s=o.length,a=this.options;r<s;r++)n=o[r],jt(n,a.draggable,this.el,!1)&&e.push(n.getAttribute(a.dataIdAttr)||Ic(n));return e},sort:function(e,n){var o={},r=this.el;this.toArray().forEach(function(s,a){var u=r.children[a];jt(u,this.options.draggable,r,!1)&&(o[s]=u)},this),n&&this.captureAnimationState(),e.forEach(function(s){o[s]&&(r.removeChild(o[s]),r.appendChild(o[s]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return jt(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var o=this.options;if(n===void 0)return o[e];var r=Qn.modifyOption(this,e,n);typeof r<"u"?o[e]=r:o[e]=n,e==="group"&&Zs(o)},destroy:function(){bt("destroy",this);var e=this.el;e[At]=null,Ie(e,"mousedown",this._onTapStart),Ie(e,"touchstart",this._onTapStart),Ie(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Ie(e,"dragover",this),Ie(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ko.splice(ko.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Xt){if(bt("hideClone",this),ye.eventCanceled)return;ve(Ye,"display","none"),this.options.removeCloneOnHide&&Ye.parentNode&&Ye.parentNode.removeChild(Ye),Xt=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Xt){if(bt("showClone",this),ye.eventCanceled)return;F.parentNode==Ge&&!this.options.group.revertClone?Ge.insertBefore(Ye,F):ln?Ge.insertBefore(Ye,ln):Ge.appendChild(Ye),this.options.group.revertClone&&this.animate(F,Ye),ve(Ye,"display",""),Xt=!1}}};function Vc(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function lo(t,e,n,o,r,s,a,u){var c,p=t[At],C=p.options.onMove,b;return window.CustomEvent&&!Zt&&!Xn?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=t,c.dragged=n,c.draggedRect=o,c.related=r||e,c.relatedRect=s||ot(e),c.willInsertAfter=u,c.originalEvent=a,t.dispatchEvent(c),C&&(b=C.call(p,c,a)),b}function Qo(t){t.draggable=!1}function Mc(){pi=!1}function Sc(t,e,n){var o=ot(Sn(n.el,0,n.options,!0)),r=10;return e?t.clientX<o.left-r||t.clientY<o.top&&t.clientX<o.right:t.clientY<o.top-r||t.clientY<o.bottom&&t.clientX<o.left}function Tc(t,e,n){var o=ot(ki(n.el,n.options.draggable)),r=10;return e?t.clientX>o.right+r||t.clientX<=o.right&&t.clientY>o.bottom&&t.clientX>=o.left:t.clientX>o.right&&t.clientY>o.top||t.clientX<=o.right&&t.clientY>o.bottom+r}function Ec(t,e,n,o,r,s,a,u){var c=o?t.clientY:t.clientX,p=o?n.height:n.width,C=o?n.top:n.left,b=o?n.bottom:n.right,M=!1;if(!a){if(u&&go<p*r){if(!Gn&&(Wn===1?c>C+p*s/2:c<b-p*s/2)&&(Gn=!0),Gn)M=!0;else if(Wn===1?c<C+go:c>b-go)return-Wn}else if(c>C+p*(1-r)/2&&c<b-p*(1-r)/2)return Bc(e)}return M=M||a,M&&(c<C+p*s/2||c>b-p*s/2)?c>C+p/2?1:-1:0}function Bc(t){return Tt(F)<Tt(t)?1:-1}function Ic(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;n--;)o+=e.charCodeAt(n);return o.toString(36)}function _c(t){xo.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var o=e[n];o.checked&&xo.push(o)}}function mo(t){return setTimeout(t,0)}function hi(t){return clearTimeout(t)}So&&Pe(document,"touchmove",function(t){(ye.active||kn)&&t.cancelable&&t.preventDefault()});ye.utils={on:Pe,off:Ie,css:ve,find:Fs,is:function(e,n){return!!jt(e,n,e,!1)},extend:vc,throttle:Us,closest:jt,toggleClass:xt,clone:Ws,index:Tt,nextTick:mo,cancelNextTick:hi,detectDirection:qs,getChild:Sn};ye.get=function(t){return t[At]};ye.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(ye.utils=Ut(Ut({},ye.utils),o.utils)),Qn.mount(o)})};ye.create=function(t,e){return new ye(t,e)};ye.version=hc;var tt=[],Nn,fi,gi=!1,ei,ti,Ho,Rn;function Dc(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var o=n.originalEvent;this.sortable.nativeDraggable?Pe(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Pe(document,"pointermove",this._handleFallbackAutoScroll):o.touches?Pe(document,"touchmove",this._handleFallbackAutoScroll):Pe(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var o=n.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?Ie(document,"dragover",this._handleAutoScroll):(Ie(document,"pointermove",this._handleFallbackAutoScroll),Ie(document,"touchmove",this._handleFallbackAutoScroll),Ie(document,"mousemove",this._handleFallbackAutoScroll)),ws(),vo(),yc()},nulling:function(){Ho=fi=Nn=gi=Rn=ei=ti=null,tt.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,o){var r=this,s=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,u=document.elementFromPoint(s,a);if(Ho=n,o||this.options.forceAutoScrollFallback||Xn||Zt||Fn){ni(n,this.options,u,o);var c=en(u,!0);gi&&(!Rn||s!==ei||a!==ti)&&(Rn&&ws(),Rn=setInterval(function(){var p=en(document.elementFromPoint(s,a),!0);p!==c&&(c=p,vo()),ni(n,r.options,p,o)},10),ei=s,ti=a)}else{if(!this.options.bubbleScroll||en(u,!0)===Ft()){vo();return}ni(n,this.options,en(u,!1),!1)}}},qt(t,{pluginName:"scroll",initializeByDefault:!0})}function vo(){tt.forEach(function(t){clearInterval(t.pid)}),tt=[]}function ws(){clearInterval(Rn)}var ni=Us(function(t,e,n,o){if(e.scroll){var r=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,u=e.scrollSpeed,c=Ft(),p=!1,C;fi!==n&&(fi=n,vo(),Nn=e.scroll,C=e.scrollFn,Nn===!0&&(Nn=en(n,!0)));var b=0,M=Nn;do{var x=M,B=ot(x),O=B.top,le=B.bottom,E=B.left,ee=B.right,te=B.width,fe=B.height,J=void 0,me=void 0,P=x.scrollWidth,V=x.scrollHeight,L=ve(x),g=x.scrollLeft,S=x.scrollTop;x===c?(J=te<P&&(L.overflowX==="auto"||L.overflowX==="scroll"||L.overflowX==="visible"),me=fe<V&&(L.overflowY==="auto"||L.overflowY==="scroll"||L.overflowY==="visible")):(J=te<P&&(L.overflowX==="auto"||L.overflowX==="scroll"),me=fe<V&&(L.overflowY==="auto"||L.overflowY==="scroll"));var y=J&&(Math.abs(ee-r)<=a&&g+te<P)-(Math.abs(E-r)<=a&&!!g),de=me&&(Math.abs(le-s)<=a&&S+fe<V)-(Math.abs(O-s)<=a&&!!S);if(!tt[b])for(var Q=0;Q<=b;Q++)tt[Q]||(tt[Q]={});(tt[b].vx!=y||tt[b].vy!=de||tt[b].el!==x)&&(tt[b].el=x,tt[b].vx=y,tt[b].vy=de,clearInterval(tt[b].pid),(y!=0||de!=0)&&(p=!0,tt[b].pid=setInterval((function(){o&&this.layer===0&&ye.active._onTouchMove(Ho);var Ee=tt[this.layer].vy?tt[this.layer].vy*u:0,ce=tt[this.layer].vx?tt[this.layer].vx*u:0;typeof C=="function"&&C.call(ye.dragged.parentNode[At],ce,Ee,t,Ho,tt[this.layer].el)!=="continue"||zs(tt[this.layer].el,ce,Ee)}).bind({layer:b}),24))),b++}while(e.bubbleScroll&&M!==c&&(M=en(M,!1)));gi=p}},30),Js=function(e){var n=e.originalEvent,o=e.putSortable,r=e.dragEl,s=e.activeSortable,a=e.dispatchSortableEvent,u=e.hideGhostForTarget,c=e.unhideGhostForTarget;if(n){var p=o||s;u();var C=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,b=document.elementFromPoint(C.clientX,C.clientY);c(),p&&!p.el.contains(b)&&(a("spill"),this.onSpill({dragEl:r,putSortable:o}))}};function xi(){}xi.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,o=e.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var r=Sn(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(n,r):this.sortable.el.appendChild(n),this.sortable.animateAll(),o&&o.animateAll()},drop:Js};qt(xi,{pluginName:"revertOnSpill"});function Hi(){}Hi.prototype={onSpill:function(e){var n=e.dragEl,o=e.putSortable,r=o||this.sortable;r.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),r.animateAll()},drop:Js};qt(Hi,{pluginName:"removeOnSpill"});ye.mount(new Dc);ye.mount(Hi,xi);function Pc(){return typeof window<"u"?window.console:global.console}const Oc=Pc();function Nc(t){const e=Object.create(null);return function(o){return e[o]||(e[o]=t(o))}}const Rc=/-(\w)/g,bs=Nc(t=>t.replace(Rc,(e,n)=>n?n.toUpperCase():""));function oi(t){t.parentElement!==null&&t.parentElement.removeChild(t)}function Cs(t,e,n){const o=n===0?t.children[0]:t.children[n-1].nextSibling;t.insertBefore(e,o)}function jc(t,e){return Object.values(t).indexOf(e)}function Fc(t,e,n,o){if(!t)return[];const r=Object.values(t),s=e.length-o;return[...e].map((u,c)=>c>=s?r.length:r.indexOf(u))}function Xs(t,e){this.$nextTick(()=>this.$emit(t.toLowerCase(),e))}function Uc(t){return e=>{this.realList!==null&&this["onDrag"+t](e),Xs.call(this,t,e)}}function zc(t){return["transition-group","TransitionGroup"].includes(t)}function Wc(t){if(!t||t.length!==1)return!1;const[{type:e}]=t;return e?zc(e.name):!1}function Gc(t,e){return e?{...e.props,...e.attrs}:t}const mi=["Start","Add","Remove","Update","End"],vi=["Choose","Unchoose","Sort","Filter","Clone"],qc=["Move",...mi,...vi].map(t=>"on"+t);let ii=null;const Zc={options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:t=>t},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},Tn=Ms({name:"VueDraggableNext",inheritAttrs:!1,emits:["update:modelValue","move","change",...mi.map(t=>t.toLowerCase()),...vi.map(t=>t.toLowerCase())],props:Zc,data(){return{transitionMode:!1,noneFunctionalComponentMode:!1,headerOffset:0,footerOffset:0,_sortable:{},visibleIndexes:[],context:{}}},render(){const t=this.$slots.default?this.$slots.default():null,e=Gc(this.$attrs,this.componentData);return t?(this.transitionMode=Wc(t),ss(this.getTag(),e,t)):ss(this.getTag(),e,[])},created(){this.list!==null&&this.modelValue!==null&&Oc.error("list props are mutually exclusive! Please set one.")},mounted(){const t={};mi.forEach(r=>{t["on"+r]=Uc.call(this,r)}),vi.forEach(r=>{t["on"+r]=Xs.bind(this,r)});const e=Object.keys(this.$attrs).reduce((r,s)=>(r[bs(s)]=this.$attrs[s],r),{}),n=Object.assign({},e,t,{onMove:(r,s)=>this.onDragMove(r,s)});!("draggable"in n)&&(n.draggable=">*");const o=this.$el.nodeType===1?this.$el:this.$el.parentElement;this._sortable=new ye(o,n),o.__draggable_component__=this,this.computeIndexes()},beforeUnmount(){try{this._sortable!==void 0&&this._sortable.destroy()}catch{}},computed:{realList(){return this.list?this.list:this.modelValue}},watch:{$attrs:{handler(t){this.updateOptions(t)},deep:!0},realList(){this.computeIndexes()}},methods:{getTag(){return this.component?Y(this.component):this.tag},updateOptions(t){for(var e in t){const n=bs(e);qc.indexOf(n)===-1&&this._sortable.option(n,t[e])}},getChildrenNodes(){return this.$el.children},computeIndexes(){this.$nextTick(()=>{this.visibleIndexes=Fc(this.getChildrenNodes(),this.$el.children,this.transitionMode,this.footerOffset)})},getUnderlyingVm(t){const e=jc(this.getChildrenNodes()||[],t);if(e===-1)return null;const n=this.realList[e];return{index:e,element:n}},emitChanges(t){this.$nextTick(()=>{this.$emit("change",t)})},alterList(t){if(this.list){t(this.list);return}const e=[...this.modelValue];t(e),this.$emit("update:modelValue",e)},spliceList(){const t=e=>e.splice(...arguments);this.alterList(t)},updatePosition(t,e){const n=o=>o.splice(e,0,o.splice(t,1)[0]);this.alterList(n)},getVmIndex(t){const e=this.visibleIndexes,n=e.length;return t>n-1?n:e[t]},getComponent(){return this.$slots.default?this.$slots.default()[0].componentInstance:null},resetTransitionData(t){if(!this.noTransitionOnDrag||!this.transitionMode)return;var e=this.getChildrenNodes();e[t].data=null;const n=this.getComponent();n.children=[],n.kept=void 0},onDragStart(t){this.computeIndexes(),this.context=this.getUnderlyingVm(t.item),this.context&&(t.item._underlying_vm_=this.clone(this.context.element),ii=t.item)},onDragAdd(t){const e=t.item._underlying_vm_;if(e===void 0)return;oi(t.item);const n=this.getVmIndex(t.newIndex);this.spliceList(n,0,e),this.computeIndexes();const o={element:e,newIndex:n};this.emitChanges({added:o})},onDragRemove(t){if(Cs(this.$el,t.item,t.oldIndex),t.pullMode==="clone"){oi(t.clone);return}if(!this.context)return;const e=this.context.index;this.spliceList(e,1);const n={element:this.context.element,oldIndex:e};this.resetTransitionData(e),this.emitChanges({removed:n})},onDragUpdate(t){oi(t.item),Cs(t.from,t.item,t.oldIndex);const e=this.context.index,n=this.getVmIndex(t.newIndex);this.updatePosition(e,n);const o={element:this.context.element,oldIndex:e,newIndex:n};this.emitChanges({moved:o})},updateProperty(t,e){t.hasOwnProperty(e)&&(t[e]+=this.headerOffset)},onDragMove(t,e){const n=this.move;if(!n||!this.realList)return!0;const o=this.getRelatedContextFromMoveEvent(t),r=this.context,s=this.computeFutureIndex(o,t);Object.assign(r,{futureIndex:s});const a=Object.assign({},t,{relatedContext:o,draggedContext:r});return n(a,e)},onDragEnd(){this.computeIndexes(),ii=null},getTrargetedComponent(t){return t.__draggable_component__},getRelatedContextFromMoveEvent({to:t,related:e}){const n=this.getTrargetedComponent(t);if(!n)return{component:n};const o=n.realList,r={list:o,component:n};if(t!==e&&o&&n.getUnderlyingVm){const s=n.getUnderlyingVm(e);if(s)return Object.assign(s,r)}return r},computeFutureIndex(t,e){const n=[...e.to.children].filter(a=>a.style.display!=="none");if(n.length===0)return 0;const o=n.indexOf(e.related),r=t.component.getVmIndex(o);return n.indexOf(ii)!==-1||!e.willInsertAfter?r:r+1}}}),Kc={name:"NodeTemplate",props:{nodeElement:Object},data(){return{item:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Files.get(this.nodeElement.uuid)))}}};function Yc(t,e,n,o,r,s){return r.item?(f(),v(ie,{key:0},[he(k(r.item.title),1)],64)):A("",!0)}const Jc=be(Kc,[["render",Yc]]),Xc={name:"WriterNode",components:{VueDraggableNext:Tn,NodeTemplate:Jc},emits:["updateDatabase"],props:{list:Array},data(){return{drag:!1}},computed:{dragOptions(){return{animation:200,group:"filestystem",disabled:!1,ghostClass:"ghost"}}},methods:{toggleOpen(t){t.open=!t.open,this.updateDatabase()},deleteFile(t,e){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(n=>{n.isConfirmed&&(this.$root.session.writer.file&&this.$root.session.writer.file.uuid===e.uuid&&(this.$root.session.writer.file=null),e.type==="folder"&&e.children.length&&this.recursiveDelete(e.children),this.list.splice(t,1),this.updateDatabase(),this.$root.DeleteRecord("Files",e.uuid),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})},recursiveDelete(t){t.forEach(e=>{this.$root.session.writer.file&&this.$root.session.writer.file.uuid===e.uuid&&(this.$root.session.writer.file=null),e.type==="folder"?e.children.length&&this.recursiveDelete(e.children):this.$root.DeleteRecord("Files",e.uuid)})},updateDatabase(){this.$emit("updateDatabase")},selectNode(t){this.$root.session.writer.file=t},isSelected(t){return!!(this.$root.session.writer.file&&this.$root.session.writer.file.uuid===t)}}},Qc={class:"list-group-item",tabindex:"0"},ep={key:0,class:"itemBox"},tp=["onClick"],np={class:"handle"},op={key:0,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},ip={key:1,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},sp={class:"title"},rp=["onClick"],ap={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},lp={key:1,class:"itemBox"},dp=["onClick"],up=["onClick"],cp={key:0},pp={key:0,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},hp={key:1,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},fp={key:1},gp={key:0,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},mp={key:1,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},vp={class:"title"},yp=["onClick"],wp={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"};function bp(t,e,n,o,r,s){const a=Y("NodeTemplate"),u=Y("WriterNode",!0),c=Y("VueDraggableNext");return f(),xe(c,cn({list:n.list,tag:"transition-group",handle:".handle","component-data":{tag:"div",type:"transition-group",name:r.drag?null:"flip-list"}},s.dragOptions,{onStart:e[0]||(e[0]=p=>r.drag=!0),onEnd:e[1]||(e[1]=p=>r.drag=!1),"item-key":"order",onChange:s.updateDatabase,emptyInsertThreshold:30}),{default:yt(()=>[(f(!0),v(ie,null,De(n.list,(p,C)=>(f(),v("div",{key:C,class:"childbox"},[i("div",Qc,[p.type==="file"?(f(),v("div",ep,[i("div",{class:Ne(["itemTitle",s.isSelected(p.uuid)?"chosen":""]),onClick:b=>s.selectNode(p)},[i("span",np,[s.isSelected(p.uuid)?(f(),v("svg",op,e[2]||(e[2]=[i("path",{d:"M13,9H18.5L13,3.5V9M6,2H14L20,8V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V4C4,2.89 4.89,2 6,2M15,18V16H6V18H15M18,14V12H6V14H18Z"},null,-1)]))):A("",!0),s.isSelected(p.uuid)?A("",!0):(f(),v("svg",ip,e[3]||(e[3]=[i("path",{d:"M6,2A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6M6,4H13V9H18V20H6V4M8,12V14H16V12H8M8,16V18H13V16H8Z"},null,-1)])))]),i("div",sp,[(f(),xe(a,{nodeElement:p,key:p.title},null,8,["nodeElement"]))])],10,tp),i("button",{class:"deleteIconButton",onClick:b=>s.deleteFile(C,p),tabindex:"0"},[(f(),v("svg",ap,e[4]||(e[4]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])))],8,rp)])):A("",!0),p.type==="folder"?(f(),v("div",lp,[i("div",{class:Ne(["itemTitle",s.isSelected(p.uuid)?"chosen":""]),onClick:b=>s.selectNode(p)},[i("span",{class:"handle",onClick:b=>s.toggleOpen(p)},[s.isSelected(p.uuid)?(f(),v("span",cp,[p.open?A("",!0):(f(),v("svg",pp,e[5]||(e[5]=[i("path",{d:"M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z"},null,-1)]))),p.open?(f(),v("svg",hp,e[6]||(e[6]=[i("path",{d:"M19,20H4C2.89,20 2,19.1 2,18V6C2,4.89 2.89,4 4,4H10L12,6H19A2,2 0 0,1 21,8H21L4,8V18L6.14,10H23.21L20.93,18.5C20.7,19.37 19.92,20 19,20Z"},null,-1)]))):A("",!0)])):A("",!0),s.isSelected(p.uuid)?A("",!0):(f(),v("span",fp,[p.open?A("",!0):(f(),v("svg",gp,e[7]||(e[7]=[i("path",{d:"M20,18H4V8H20M20,6H12L10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6Z"},null,-1)]))),p.open?(f(),v("svg",mp,e[8]||(e[8]=[i("path",{d:"M6.1,10L4,18V8H21A2,2 0 0,0 19,6H12L10,4H4A2,2 0 0,0 2,6V18A2,2 0 0,0 4,20H19C19.9,20 20.7,19.4 20.9,18.5L23.2,10H6.1M19,18H6L7.6,12H20.6L19,18Z"},null,-1)]))):A("",!0)]))],8,up),i("div",vp,k(p.title),1)],10,dp),i("button",{class:"deleteIconButton",onClick:b=>s.deleteFile(C,p),tabindex:"0"},[(f(),v("svg",wp,e[9]||(e[9]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])))],8,yp)])):A("",!0),p.open?(f(),xe(u,{key:2,list:p.children,onUpdateDatabase:s.updateDatabase,onSelectNode:b=>s.selectNode(p)},null,8,["list","onUpdateDatabase","onSelectNode"])):A("",!0)])]))),128))]),_:1},16,["list","component-data","onChange"])}const Cp=be(Xc,[["render",bp],["__scopeId","data-v-7dd9fc14"]]),Lp={name:"WriterLeftSide",components:{WriterNode:Cp},data(){return{drag:!1,pinme:!1,defaultFileStructure:{type:"file"},defaultFolderStructure:{type:"folder",open:!0,title:this.$root.setlang.writer.newfolder,children:[]}}},methods:{previewText(t){if(t){t=t.replace(/(<([^>]+)>)/gi," ");let e="...";return t.length<100&&(e=""),t.substring(0,75)+e}},searchForFileandParent(t,e){let n={index:null,parent:null};for(let o=0;o<e.length;o++){if(e[o].uuid===t.uuid)return n.index=o,n.parent=e,n;if(e[o].children&&e[o].children.length)return this.searchForFileandParent(t,e[o].children)}},searchForFolder(t,e){for(let n=0;n<e.length;n++){if(e[n].uuid===t)return e[n];if(e[n].children){console.log("childs",e[n].children);let o=this.searchForFolder(t,e[n].children);if(o)return o}}},async addNode(t){let e=null;if(t==="file"){e=JSON.parse(JSON.stringify(this.defaultFileStructure)),e.uuid=this.$root.uuid();let o={};o.title=this.$root.setlang.writer.newfile,o.writerid=this.$root.session.writer.selected.uuid,o.uuid=e.uuid,o.content="",o.notes=[],await this.$root.AddRecord("Files",o)}t==="folder"&&(e=JSON.parse(JSON.stringify(this.defaultFolderStructure)),e.uuid=this.$root.uuid());let n=JSON.parse(JSON.stringify(this.$root.session.writer.selected));if(console.log("WriterNewObj",n),!this.$root.session.writer.file)n.files.push(e);else if(this.$root.session.writer.file.type==="folder"){let o=this.searchForFolder(this.$root.session.writer.file.uuid,n.files);console.log("folder",o),o&&o.children.push(e)}else{let o=this.searchForFileandParent(this.$root.session.writer.file,n.files);o&&o.parent.splice(o.index+1,0,e)}this.$root.UpdateRecord("Writer",n.uuid,n)},async updateDatabase(){console.log("updating writer database",this.$root.session.writer.selected),await this.$root.UpdateRecord("Writer",this.$root.session.writer.selected.uuid,this.$root.session.writer.selected)}},computed:{dragOptions(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}}}},$p={key:0,style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},kp={key:1,style:{width:"18px",height:"px"},viewBox:"0 0 24 24"},xp={class:"scrollpanel"},Hp={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Ap={key:0},Vp={key:1},Mp={class:"addbar"},Sp={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Tp={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function Ep(t,e,n,o,r,s){const a=Y("WriterNode");return this.$root.session.writer.selected?(f(),v("div",{key:0,class:Ne(["menu",t.$root.lhspin?"lhspinned":""])},[i("button",{class:"pinBtn",onClick:e[0]||(e[0]=u=>t.$root.lhspin=!t.$root.lhspin)},[t.$root.lhspin?(f(),v("svg",$p,e[4]||(e[4]=[i("path",{d:"M16,12V4H17V2H7V4H8V12L6,14V16H11.2V22H12.8V16H18V14L16,12Z"},null,-1)]))):A("",!0),t.$root.lhspin?A("",!0):(f(),v("svg",kp,e[5]||(e[5]=[i("path",{d:"M2,5.27L3.28,4L20,20.72L18.73,22L12.8,16.07V22H11.2V16H6V14L8,12V11.27L2,5.27M16,12L18,14V16H17.82L8,6.18V4H7V2H17V4H16V12Z"},null,-1)])))]),i("div",xp,[i("button",{class:"settingsBtn",style:{border:"0",outline:"none"},onClick:e[1]||(e[1]=u=>this.$root.session.writer.file=null)},[(f(),v("svg",Hp,e[6]||(e[6]=[i("path",{d:"M17.5 14.33C18.29 14.33 19.13 14.41 20 14.57V16.07C19.38 15.91 18.54 15.83 17.5 15.83C15.6 15.83 14.11 16.16 13 16.82V15.13C14.17 14.6 15.67 14.33 17.5 14.33M13 12.46C14.29 11.93 15.79 11.67 17.5 11.67C18.29 11.67 19.13 11.74 20 11.9V13.4C19.38 13.24 18.54 13.16 17.5 13.16C15.6 13.16 14.11 13.5 13 14.15M17.5 10.5C15.6 10.5 14.11 10.82 13 11.5V9.84C14.23 9.28 15.73 9 17.5 9C18.29 9 19.13 9.08 20 9.23V10.78C19.26 10.59 18.41 10.5 17.5 10.5M21 18.5V7C19.96 6.67 18.79 6.5 17.5 6.5C15.45 6.5 13.62 7 12 8V19.5C13.62 18.5 15.45 18 17.5 18C18.69 18 19.86 18.16 21 18.5M17.5 4.5C19.85 4.5 21.69 5 23 6V20.56C23 20.68 22.95 20.8 22.84 20.91C22.73 21 22.61 21.08 22.5 21.08C22.39 21.08 22.31 21.06 22.25 21.03C20.97 20.34 19.38 20 17.5 20C15.45 20 13.62 20.5 12 21.5C10.66 20.5 8.83 20 6.5 20C4.84 20 3.25 20.36 1.75 21.07C1.72 21.08 1.68 21.08 1.63 21.1C1.59 21.11 1.55 21.12 1.5 21.12C1.39 21.12 1.27 21.08 1.16 21C1.05 20.89 1 20.78 1 20.65V6C2.34 5 4.18 4.5 6.5 4.5C8.83 4.5 10.66 5 12 6C13.34 5 15.17 4.5 17.5 4.5Z"},null,-1)]))),i("div",null,[this.$root.session.writer.selected.title?A("",!0):(f(),v("span",Ap,[i("i",null,k(this.$root.setlang.writer.settings),1)])),this.$root.session.writer.selected.title?(f(),v("span",Vp,k(this.$root.session.writer.selected.title),1)):A("",!0)])]),(f(),xe(a,{list:t.$root.session.writer.selected.files,onUpdateDatabase:s.updateDatabase,key:this.$root.session.writer.selected.lastupdated},null,8,["list","onUpdateDatabase"]))]),i("div",Mp,[i("button",{onClick:e[2]||(e[2]=u=>s.addNode("folder"))},[(f(),v("svg",Sp,e[7]||(e[7]=[i("path",{d:"M13 19C13 19.34 13.04 19.67 13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.89 4 4 4H10L12 6H20C21.1 6 22 6.89 22 8V13.81C21.12 13.3 20.1 13 19 13C15.69 13 13 15.69 13 19M20 18V15H18V18H15V20H18V23H20V20H23V18H20Z"},null,-1)])))]),i("button",{onClick:e[3]||(e[3]=u=>s.addNode("file")),style:{left:"50px"}},[(f(),v("svg",Tp,e[8]||(e[8]=[i("path",{d:"M14 2H6C4.89 2 4 2.89 4 4V20C4 21.11 4.89 22 6 22H13.81C13.28 21.09 13 20.05 13 19C13 18.67 13.03 18.33 13.08 18H6V16H13.81C14.27 15.2 14.91 14.5 15.68 14H6V12H18V13.08C18.33 13.03 18.67 13 19 13S19.67 13.03 20 13.08V8L14 2M13 9V3.5L18.5 9H13M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"},null,-1)])))])])],2)):A("",!0)}const Bp=be(Lp,[["render",Ep],["__scopeId","data-v-a5799975"]]),Ip={name:"MiniImage",props:["uuid"],data(){return{base64Url:null}},async mounted(){let t=await Nt.ImageLibrary.get(this.uuid);this.base64Url=t.base64}},_p=["src"];function Dp(t,e,n,o,r,s){return r.base64Url?(f(),v("img",{key:0,src:"data:image/png;base64,"+r.base64Url},null,8,_p)):A("",!0)}const Ai=be(Ip,[["render",Dp]]),Pp={name:"CardViewer",emits:["linkcard"],components:{MiniImage:Ai},props:{cardid:{type:String,required:!0},allowlink:{type:Boolean,default:!1}},computed:{currentProjectCards(){let t=[];return Object.keys(this.linkcards).forEach(e=>{this.linkcards[e].title!=""&&t.push(this.linkcards[e])}),t},chooser(){let t=!1;return!this.cardInfo&&this.allowlink?!0:t}},data(){return{cardInfo:gn(fn(async()=>await Nt.Cards.get(this.cardid))),linkcards:gn(fn(async()=>await Nt.Cards.where("title").notEqual("").toArray())),advancedEdit:!1,tag:null,cardChange:null,showimage:null,showLinkBox:!1}},methods:{sendlink(t){this.$emit("linkcard",t,this.cardid)}},async mounted(){}},Op={key:0},Np={key:0},Rp={class:"cardTitle"},jp={key:0},Fp={key:1},Up={key:1,class:"cardDescription"},zp=["innerHTML"],Wp={key:1,class:"card"},Gp={key:0},qp={key:0,class:"LinkBox"},Zp={key:0},Kp=["value","onClick"],Yp={key:1};function Jp(t,e,n,o,r,s){const a=Y("MiniImage");return f(),v(ie,null,[r.cardInfo?(f(),v("div",Op,[i("div",{class:"card",onDblclick:e[1]||(e[1]=u=>t.$root.$data.session.EditCard=n.cardid),style:Bt("background-color: var("+r.cardInfo.color+"); color : var("+r.cardInfo.color+"-f); fill : var("+r.cardInfo.color+"-f)")},[r.cardInfo.showimage?(f(),v("div",Np,[(f(),xe(a,{uuid:r.cardInfo.showimage,key:r.cardInfo.showimage},null,8,["uuid"]))])):A("",!0),i("div",Rp,[r.cardInfo.title?(f(),v("span",jp,k(r.cardInfo.title),1)):(f(),v("span",Fp,k(this.$root.setlang.cards.cardtitle),1))]),r.cardInfo.showdesc?(f(),v("div",Up,[i("span",{innerHTML:r.cardInfo.description},null,8,zp)])):A("",!0),i("button",{class:"clearInterfaceIconButton editButton",onClick:e[0]||(e[0]=u=>t.$root.$data.session.EditCard=n.cardid)},e[4]||(e[4]=[i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M14.06,9L15,9.94L5.92,19H5V18.08L14.06,9M17.66,3C17.41,3 17.15,3.1 16.96,3.29L15.13,5.12L18.88,8.87L20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18.17,3.09 17.92,3 17.66,3M14.06,6.19L3,17.25V21H6.75L17.81,9.94L14.06,6.19Z"})],-1)]))],36)])):A("",!0),r.cardInfo?A("",!0):(f(),v("div",Wp,[s.chooser?(f(),v("div",Gp,[i("button",{onClick:e[2]||(e[2]=u=>this.$root.makeNewCard(this.cardid)),class:"interfaceBtn",style:{width:"100%","text-align":"left"}},[e[5]||(e[5]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.9 4 4 4H20C21.11 4 22 4.89 22 6V13.81C21.12 13.3 20.09 13 19 13C15.69 13 13 15.69 13 19C13 19.34 13.04 19.67 13.09 20M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"})],-1)),he(" "+k(this.$root.setlang.cards.createnewbtn),1)]),e[8]||(e[8]=i("div",{style:{"text-align":"center",padding:"5px"}}," or ",-1)),i("button",{onClick:e[3]||(e[3]=u=>r.showLinkBox=!r.showLinkBox),class:"interfaceBtn"},[e[6]||(e[6]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M11,16H10C8.39,16 6,14.94 6,12C6,9.07 8.39,8 10,8H11V10H10C9.54,10 8,10.17 8,12C8,13.9 9.67,14 10,14H11V16M15,11V13H9V11H15M14,16H13V14H14C14.46,14 16,13.83 16,12C16,10.1 14.33,10 14,10H13V8H14C15.61,8 18,9.07 18,12C18,14.94 15.61,16 14,16Z"})],-1)),he(" "+k(this.$root.setlang.cards.linkexisting),1)]),r.showLinkBox?(f(),v("div",qp,[r.linkcards.length==0?(f(),v("div",Zp," No cards ")):A("",!0),(f(!0),v(ie,null,De(r.linkcards,(u,c)=>(f(),v("button",{class:"interfaceBtn",key:c,value:u.uuid,onClick:p=>s.sendlink(u.uuid)},[e[7]||(e[7]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M19,19H5V5H19V19M11,16H10C8.39,16 6,14.94 6,12C6,9.07 8.39,8 10,8H11V10H10C9.54,10 8,10.17 8,12C8,13.9 9.67,14 10,14H11V16M14,16H13V14H14C14.46,14 16,13.83 16,12C16,10.1 14.33,10 14,10H13V8H14C15.61,8 18,9.07 18,12C18,14.94 15.61,16 14,16M15,13H9V11H15V13Z"})],-1)),he(" "+k(u.title),1)],8,Kp))),128))])):A("",!0)])):(f(),v("div",Yp,"loading"))]))],64)}const To=be(Pp,[["render",Jp],["__scopeId","data-v-a4d9b1a0"]]),Xp={name:"WriterRightSide",display:"Transitions",order:7,components:{VueDraggableNext:Tn,CardViewer:To},data(){return{drag:!1,item:gn(fn(async()=>await Nt.Files.get(this.$root.session.writer.file.uuid)))}},methods:{linkCard(t,e){var n=this.item.notes.find(o=>o.uuid===e);n.uuid=t,this.updateDatabase()},deleteNote(t){this.$swal({title:"Are you sure?",text:"You won't be able to undo this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(e=>{e.isConfirmed&&(this.item.notes.splice(t,1),this.updateDatabase(),this.$swal("Deleted!","Your file has been deleted.","success"))})},addCard(){let t={};t.uuid=this.$root.uuid(),this.item.notes.push(t),this.updateDatabase()},updateDatabase(){this.$root.UpdateRecord("Files",this.item.uuid,this.item)}},computed:{dragOptions(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}}}},Qp={key:0,style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},eh={key:1,style:{width:"18px",height:"px"},viewBox:"0 0 24 24"},th={class:"scrollpanel scroll-lhs"},nh={class:"scroll-inside"},oh={key:0},ih={style:{"padding-left":"0px"}},sh=["onClick"],rh={style:{width:"16px",height:"16px"},viewBox:"0 0 24 24"},ah=["onClick"],lh={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},dh={key:0,class:"addbar"},uh={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},ch={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function ph(t,e,n,o,r,s){const a=Y("CardViewer"),u=Y("VueDraggableNext");return f(),v("div",{class:Ne(["menu",t.$root.rhspin?"rhspinned":""])},[i("button",{class:"pinBtn",onClick:e[0]||(e[0]=c=>t.$root.rhspin=!t.$root.rhspin)},[t.$root.rhspin?(f(),v("svg",Qp,e[5]||(e[5]=[i("path",{d:"M16,12V4H17V2H7V4H8V12L6,14V16H11.2V22H12.8V16H18V14L16,12Z"},null,-1)]))):A("",!0),t.$root.rhspin?A("",!0):(f(),v("svg",eh,e[6]||(e[6]=[i("path",{d:"M2,5.27L3.28,4L20,20.72L18.73,22L12.8,16.07V22H11.2V16H6V14L8,12V11.27L2,5.27M16,12L18,14V16H17.82L8,6.18V4H7V2H17V4H16V12Z"},null,-1)])))]),i("div",th,[i("div",nh,[r.item?(f(),v("div",oh,[Te(u,cn({list:r.item.notes,tag:"transition-group",handle:".handle","component-data":{tag:"div",type:"transition-group",name:r.drag?null:"flip-list"}},s.dragOptions,{onStart:e[1]||(e[1]=c=>r.drag=!0),onEnd:e[2]||(e[2]=c=>r.drag=!1),"item-key":"order",onChange:s.updateDatabase}),{default:yt(()=>[(f(!0),v(ie,null,De(r.item.notes,(c,p)=>(f(),v("div",{key:p,class:"list-group-item",tabindex:"0"},[i("div",ih,[i("div",{class:Ne(c.completed?"completedcard":"")},[(f(),xe(a,{cardid:c.uuid,allowlink:!0,onLinkcard:s.linkCard,key:c.uuid},null,8,["cardid","onLinkcard"])),i("button",{class:"togglecomplete",onClick:C=>{c.completed=!c.completed,s.updateDatabase()}},[(f(),v("svg",rh,e[7]||(e[7]=[i("path",{d:"M19,19H5V5H15V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V11H19M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"},null,-1)])))],8,sh)],2),e[9]||(e[9]=i("div",{class:"handle"},[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M1.88,0.46L0.46,1.88L5.59,7H2V9H9V2H7V5.59M11,7V9H21V15H23V9A2,2 0 0,0 21,7M7,11V21A2,2 0 0,0 9,23H15V21H9V11M15.88,14.46L14.46,15.88L19.6,21H17V23H23V17H21V19.59"})])],-1)),i("button",{class:"deleteIconButton",onClick:C=>s.deleteNote(p,c),tabindex:"0"},[(f(),v("svg",lh,e[8]||(e[8]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])))],8,ah)])]))),128))]),_:1},16,["list","component-data","onChange"])])):A("",!0)])]),r.item?(f(),v("div",dh,[i("button",{onClick:e[3]||(e[3]=c=>t.$root.openInNew("planningboard")),class:"popBtn"},[(f(),v("svg",uh,e[10]||(e[10]=[i("path",{d:"M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z"},null,-1)])))]),i("button",{onClick:e[4]||(e[4]=(...c)=>s.addCard&&s.addCard(...c)),class:"addBtn"},[(f(),v("svg",ch,e[11]||(e[11]=[i("path",{d:"M13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.9 4 4 4H20C21.11 4 22 4.89 22 6V13.81C21.12 13.3 20.09 13 19 13C15.69 13 13 15.69 13 19C13 19.34 13.04 19.67 13.09 20M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"},null,-1)])))])])):A("",!0)],2)}const hh=be(Xp,[["render",ph],["__scopeId","data-v-7fd8bcc8"]]),fh=/^\s*>\s$/,gh=Ct.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",lt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Mn({find:fh,type:this.type})]}}),mh=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,vh=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,yh=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,wh=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,bh=Yn.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",lt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[hn({find:mh,type:this.type}),hn({find:yh,type:this.type})]},addPasteRules(){return[pn({find:vh,type:this.type}),pn({find:wh,type:this.type})]}}),Ch="listItem",Ls="textStyle",$s=/^\s*([-+*])\s$/,Lh=Ct.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",lt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Ch,this.editor.getAttributes(Ls)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Mn({find:$s,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Mn({find:$s,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Ls),editor:this.editor})),[t]}}),$h=/(^|[^`])`([^`]+)`(?!`)/,kh=/(^|[^`])`([^`]+)`(?!`)/g,xh=Yn.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",lt(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[hn({find:$h,type:this.type})]},addPasteRules(){return[pn({find:kh,type:this.type})]}}),Hh=/^```([a-z]+)?[\s\n]$/,Ah=/^~~~([a-z]+)?[\s\n]$/,Vh=Ct.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",lt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:o,empty:r}=n;if(!r||o.parent.type!==this.type)return!1;const s=o.parentOffset===o.parent.nodeSize-2,a=o.parent.textContent.endsWith(`

`);return!s||!a?!1:t.chain().command(({tr:u})=>(u.delete(o.pos-2,o.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:o}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type||!(r.parentOffset===r.parent.nodeSize-2))return!1;const u=r.after();return u===void 0?!1:o.nodeAt(u)?t.commands.command(({tr:p})=>(p.setSelection(qn.near(o.resolve(u))),!0)):t.commands.exitCode()}}},addInputRules(){return[li({find:Hh,type:this.type,getAttributes:t=>({language:t[1]})}),li({find:Ah,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Vo({key:new yi("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),o=e.clipboardData.getData("vscode-editor-data"),r=o?JSON.parse(o):void 0,s=r==null?void 0:r.mode;if(!n||!s)return!1;const{tr:a,schema:u}=t.state,c=u.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:s},c)),a.selection.$from.parent.type!==this.type&&a.setSelection(An.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),Mh=Ct.create({name:"doc",topNode:!0,content:"block+"});function Sh(t={}){return new Vo({view(e){return new Th(e,t)}})}class Th{constructor(e,n){var o;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(o=n.width)!==null&&o!==void 0?o:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let s=a=>{this[r](a)};return e.dom.addEventListener(r,s),{name:r,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,o,r=this.editorView.dom,s=r.getBoundingClientRect(),a=s.width/r.offsetWidth,u=s.height/r.offsetHeight;if(n){let b=e.nodeBefore,M=e.nodeAfter;if(b||M){let x=this.editorView.nodeDOM(this.cursorPos-(b?b.nodeSize:0));if(x){let B=x.getBoundingClientRect(),O=b?B.bottom:B.top;b&&M&&(O=(O+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let le=this.width/2*u;o={left:B.left,right:B.right,top:O-le,bottom:O+le}}}}if(!o){let b=this.editorView.coordsAtPos(this.cursorPos),M=this.width/2*a;o={left:b.left-M,right:b.left+M,top:b.top,bottom:b.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let p,C;if(!c||c==document.body&&getComputedStyle(c).position=="static")p=-pageXOffset,C=-pageYOffset;else{let b=c.getBoundingClientRect(),M=b.width/c.offsetWidth,x=b.height/c.offsetHeight;p=b.left-c.scrollLeft*M,C=b.top-c.scrollTop*x}this.element.style.left=(o.left-p)/a+"px",this.element.style.top=(o.top-C)/u+"px",this.element.style.width=(o.right-o.left)/a+"px",this.element.style.height=(o.bottom-o.top)/u+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),o=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),r=o&&o.type.spec.disableDropCursor,s=typeof r=="function"?r(this.editorView,n,e):r;if(n&&!s){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=Ll(this.editorView.state.doc,a,this.editorView.dragging.slice);u!=null&&(a=u)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const Eh=Jn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Sh(this.options)]}});class Je extends qn{constructor(e){super(e,e)}map(e,n){let o=e.resolve(n.map(this.head));return Je.valid(o)?new Je(o):qn.near(o)}content(){return Ss.empty}eq(e){return e instanceof Je&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Je(e.resolve(n.pos))}getBookmark(){return new Vi(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!Bh(e)||!Ih(e))return!1;let o=n.type.spec.allowGapCursor;if(o!=null)return o;let r=n.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,n,o=!1){e:for(;;){if(!o&&Je.valid(e))return e;let r=e.pos,s=null;for(let a=e.depth;;a--){let u=e.node(a);if(n>0?e.indexAfter(a)<u.childCount:e.index(a)>0){s=u.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;r+=n;let c=e.doc.resolve(r);if(Je.valid(c))return c}for(;;){let a=n>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!wi.isSelectable(s)){e=e.doc.resolve(r+s.nodeSize*n),o=!1;continue e}break}s=a,r+=n;let u=e.doc.resolve(r);if(Je.valid(u))return u}return null}}}Je.prototype.visible=!1;Je.findFrom=Je.findGapCursorFrom;qn.jsonID("gapcursor",Je);class Vi{constructor(e){this.pos=e}map(e){return new Vi(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Je.valid(n)?new Je(n):qn.near(n)}}function Bh(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),o=t.node(e);if(n==0){if(o.type.spec.isolating)return!0;continue}for(let r=o.child(n-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function Ih(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),o=t.node(e);if(n==o.childCount){if(o.type.spec.isolating)return!0;continue}for(let r=o.child(n);;r=r.firstChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function _h(){return new Vo({props:{decorations:Nh,createSelectionBetween(t,e,n){return e.pos==n.pos&&Je.valid(n)?new Je(n):null},handleClick:Ph,handleKeyDown:Dh,handleDOMEvents:{beforeinput:Oh}}})}const Dh=$l({ArrowLeft:uo("horiz",-1),ArrowRight:uo("horiz",1),ArrowUp:uo("vert",-1),ArrowDown:uo("vert",1)});function uo(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(o,r,s){let a=o.selection,u=e>0?a.$to:a.$from,c=a.empty;if(a instanceof An){if(!s.endOfTextblock(n)||u.depth==0)return!1;c=!1,u=o.doc.resolve(e>0?u.after():u.before())}let p=Je.findGapCursorFrom(u,e,c);return p?(r&&r(o.tr.setSelection(new Je(p))),!0):!1}}function Ph(t,e,n){if(!t||!t.editable)return!1;let o=t.state.doc.resolve(e);if(!Je.valid(o))return!1;let r=t.posAtCoords({left:n.clientX,top:n.clientY});return r&&r.inside>-1&&wi.isSelectable(t.state.doc.nodeAt(r.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Je(o))),!0)}function Oh(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Je))return!1;let{$from:n}=t.state.selection,o=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!o)return!1;let r=rs.empty;for(let a=o.length-1;a>=0;a--)r=rs.from(o[a].createAndFill(null,r));let s=t.state.tr.replace(n.pos,n.pos,new Ss(r,0,0));return s.setSelection(An.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function Nh(t){if(!(t.selection instanceof Je))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",kl.create(t.doc,[xl.widget(t.selection.head,e,{key:"gapcursor"})])}const Rh=Jn.create({name:"gapCursor",addProseMirrorPlugins(){return[_h()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Hl(Al(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),jh=Ct.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",lt(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:o})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:r,storedMarks:s}=n;if(r.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:u}=o.extensionManager,c=s||r.$to.parentOffset&&r.$from.marks();return e().insertContent({type:this.name}).command(({tr:p,dispatch:C})=>{if(C&&c&&a){const b=c.filter(M=>u.includes(M.type.name));p.ensureMarks(b)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Fh=Ct.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,lt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>li({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Ao=200,at=function(){};at.prototype.append=function(e){return e.length?(e=at.from(e),!this.length&&e||e.length<Ao&&this.leafAppend(e)||this.length<Ao&&e.leafPrepend(this)||this.appendInner(e)):this};at.prototype.prepend=function(e){return e.length?at.from(e).append(this):this};at.prototype.appendInner=function(e){return new Uh(this,e)};at.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?at.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};at.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};at.prototype.forEach=function(e,n,o){n===void 0&&(n=0),o===void 0&&(o=this.length),n<=o?this.forEachInner(e,n,o,0):this.forEachInvertedInner(e,n,o,0)};at.prototype.map=function(e,n,o){n===void 0&&(n=0),o===void 0&&(o=this.length);var r=[];return this.forEach(function(s,a){return r.push(e(s,a))},n,o),r};at.from=function(e){return e instanceof at?e:e&&e.length?new Qs(e):at.empty};var Qs=function(t){function e(o){t.call(this),this.values=o}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(r,s){return r==0&&s==this.length?this:new e(this.values.slice(r,s))},e.prototype.getInner=function(r){return this.values[r]},e.prototype.forEachInner=function(r,s,a,u){for(var c=s;c<a;c++)if(r(this.values[c],u+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,a,u){for(var c=s-1;c>=a;c--)if(r(this.values[c],u+c)===!1)return!1},e.prototype.leafAppend=function(r){if(this.length+r.length<=Ao)return new e(this.values.concat(r.flatten()))},e.prototype.leafPrepend=function(r){if(this.length+r.length<=Ao)return new e(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(at);at.empty=new Qs([]);var Uh=function(t){function e(n,o){t.call(this),this.left=n,this.right=o,this.length=n.length+o.length,this.depth=Math.max(n.depth,o.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(o){return o<this.left.length?this.left.get(o):this.right.get(o-this.left.length)},e.prototype.forEachInner=function(o,r,s,a){var u=this.left.length;if(r<u&&this.left.forEachInner(o,r,Math.min(s,u),a)===!1||s>u&&this.right.forEachInner(o,Math.max(r-u,0),Math.min(this.length,s)-u,a+u)===!1)return!1},e.prototype.forEachInvertedInner=function(o,r,s,a){var u=this.left.length;if(r>u&&this.right.forEachInvertedInner(o,r-u,Math.max(s,u)-u,a+u)===!1||s<u&&this.left.forEachInvertedInner(o,Math.min(r,u),s,a)===!1)return!1},e.prototype.sliceInner=function(o,r){if(o==0&&r==this.length)return this;var s=this.left.length;return r<=s?this.left.slice(o,r):o>=s?this.right.slice(o-s,r-s):this.left.slice(o,s).append(this.right.slice(0,r-s))},e.prototype.leafAppend=function(o){var r=this.right.leafAppend(o);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(o){var r=this.left.leafPrepend(o);if(r)return new e(r,this.right)},e.prototype.appendInner=function(o){return this.left.depth>=Math.max(this.right.depth,o.depth)+1?new e(this.left,new e(this.right,o)):new e(this,o)},e}(at);const zh=500;class Pt{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let o=this.items.length;for(;;o--)if(this.items.get(o-1).selection){--o;break}let r,s;n&&(r=this.remapping(o,this.items.length),s=r.maps.length);let a=e.tr,u,c,p=[],C=[];return this.items.forEach((b,M)=>{if(!b.step){r||(r=this.remapping(o,M+1),s=r.maps.length),s--,C.push(b);return}if(r){C.push(new Rt(b.map));let x=b.step.map(r.slice(s)),B;x&&a.maybeStep(x).doc&&(B=a.mapping.maps[a.mapping.maps.length-1],p.push(new Rt(B,void 0,void 0,p.length+C.length))),s--,B&&r.appendMap(B,s)}else a.maybeStep(b.step);if(b.selection)return u=r?b.selection.map(r.slice(s)):b.selection,c=new Pt(this.items.slice(0,o).append(C.reverse().concat(p)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:a,selection:u}}addTransform(e,n,o,r){let s=[],a=this.eventCount,u=this.items,c=!r&&u.length?u.get(u.length-1):null;for(let C=0;C<e.steps.length;C++){let b=e.steps[C].invert(e.docs[C]),M=new Rt(e.mapping.maps[C],b,n),x;(x=c&&c.merge(M))&&(M=x,C?s.pop():u=u.slice(0,u.length-1)),s.push(M),n&&(a++,n=void 0),r||(c=M)}let p=a-o.depth;return p>Gh&&(u=Wh(u,p),a-=p),new Pt(u.append(s),a)}remapping(e,n){let o=new Vl;return this.items.forEach((r,s)=>{let a=r.mirrorOffset!=null&&s-r.mirrorOffset>=e?o.maps.length-r.mirrorOffset:void 0;o.appendMap(r.map,a)},e,n),o}addMaps(e){return this.eventCount==0?this:new Pt(this.items.append(e.map(n=>new Rt(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let o=[],r=Math.max(0,this.items.length-n),s=e.mapping,a=e.steps.length,u=this.eventCount;this.items.forEach(M=>{M.selection&&u--},r);let c=n;this.items.forEach(M=>{let x=s.getMirror(--c);if(x==null)return;a=Math.min(a,x);let B=s.maps[x];if(M.step){let O=e.steps[x].invert(e.docs[x]),le=M.selection&&M.selection.map(s.slice(c+1,x));le&&u++,o.push(new Rt(B,O,le))}else o.push(new Rt(B))},r);let p=[];for(let M=n;M<a;M++)p.push(new Rt(s.maps[M]));let C=this.items.slice(0,r).append(p).append(o),b=new Pt(C,u);return b.emptyItemCount()>zh&&(b=b.compress(this.items.length-o.length)),b}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),o=n.maps.length,r=[],s=0;return this.items.forEach((a,u)=>{if(u>=e)r.push(a),a.selection&&s++;else if(a.step){let c=a.step.map(n.slice(o)),p=c&&c.getMap();if(o--,p&&n.appendMap(p,o),c){let C=a.selection&&a.selection.map(n.slice(o));C&&s++;let b=new Rt(p.invert(),c,C),M,x=r.length-1;(M=r.length&&r[x].merge(b))?r[x]=M:r.push(b)}}else a.map&&o--},this.items.length,0),new Pt(at.from(r.reverse()),s)}}Pt.empty=new Pt(at.empty,0);function Wh(t,e){let n;return t.forEach((o,r)=>{if(o.selection&&e--==0)return n=r,!1}),t.slice(n)}class Rt{constructor(e,n,o,r){this.map=e,this.step=n,this.selection=o,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Rt(n.getMap().invert(),n,this.selection)}}}class Jt{constructor(e,n,o,r,s){this.done=e,this.undone=n,this.prevRanges=o,this.prevTime=r,this.prevComposition=s}}const Gh=20;function qh(t,e,n,o){let r=n.getMeta(un),s;if(r)return r.historyState;n.getMeta(Yh)&&(t=new Jt(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(un))return a.getMeta(un).redo?new Jt(t.done.addTransform(n,void 0,o,yo(e)),t.undone,ks(n.mapping.maps),t.prevTime,t.prevComposition):new Jt(t.done,t.undone.addTransform(n,void 0,o,yo(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let u=n.getMeta("composition"),c=t.prevTime==0||!a&&t.prevComposition!=u&&(t.prevTime<(n.time||0)-o.newGroupDelay||!Zh(n,t.prevRanges)),p=a?si(t.prevRanges,n.mapping):ks(n.mapping.maps);return new Jt(t.done.addTransform(n,c?e.selection.getBookmark():void 0,o,yo(e)),Pt.empty,p,n.time,u??t.prevComposition)}else return(s=n.getMeta("rebased"))?new Jt(t.done.rebased(n,s),t.undone.rebased(n,s),si(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Jt(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),si(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function Zh(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((o,r)=>{for(let s=0;s<e.length;s+=2)o<=e[s+1]&&r>=e[s]&&(n=!0)}),n}function ks(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((o,r,s,a)=>e.push(s,a));return e}function si(t,e){if(!t)return null;let n=[];for(let o=0;o<t.length;o+=2){let r=e.map(t[o],1),s=e.map(t[o+1],-1);r<=s&&n.push(r,s)}return n}function Kh(t,e,n){let o=yo(e),r=un.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,o);if(!s)return null;let a=s.selection.resolve(s.transform.doc),u=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),r,o),c=new Jt(n?u:s.remaining,n?s.remaining:u,null,0,-1);return s.transform.setSelection(a).setMeta(un,{redo:n,historyState:c})}let ri=!1,xs=null;function yo(t){let e=t.plugins;if(xs!=e){ri=!1,xs=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){ri=!0;break}}return ri}const un=new yi("history"),Yh=new yi("closeHistory");function Jh(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Vo({key:un,state:{init(){return new Jt(Pt.empty,Pt.empty,null,0,-1)},apply(e,n,o){return qh(n,o,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let o=n.inputType,r=o=="historyUndo"?tr:o=="historyRedo"?nr:null;return r?(n.preventDefault(),r(e.state,e.dispatch)):!1}}}})}function er(t,e){return(n,o)=>{let r=un.getState(n);if(!r||(t?r.undone:r.done).eventCount==0)return!1;if(o){let s=Kh(r,n,t);s&&o(e?s.scrollIntoView():s)}return!0}}const tr=er(!1,!0),nr=er(!0,!0),Xh=Jn.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>tr(t,e),redo:()=>({state:t,dispatch:e})=>nr(t,e)}},addProseMirrorPlugins(){return[Jh(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Qh=Ct.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",lt(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!Ml(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$from:o,$to:r}=n,s=t();return o.parentOffset===0?s.insertContentAt({from:Math.max(o.pos-1,0),to:r.pos},{type:this.name}):Sl(n)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:a,dispatch:u})=>{var c;if(u){const{$to:p}=a.selection,C=p.end();if(p.nodeAfter)p.nodeAfter.isTextblock?a.setSelection(An.create(a.doc,p.pos+1)):p.nodeAfter.isBlock?a.setSelection(wi.create(a.doc,p.pos)):a.setSelection(An.create(a.doc,p.pos));else{const b=(c=p.parent.type.contentMatch.defaultType)===null||c===void 0?void 0:c.create();b&&(a.insert(C,b),a.setSelection(An.create(a.doc,C+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Ts({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),ef=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,tf=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,nf=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,of=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,sf=Yn.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",lt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[hn({find:ef,type:this.type}),hn({find:nf,type:this.type})]},addPasteRules(){return[pn({find:tf,type:this.type}),pn({find:of,type:this.type})]}}),rf=Ct.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",lt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),af="listItem",Hs="textStyle",As=/^(\d+)\.\s$/,lf=Ct.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",lt(this.options.HTMLAttributes,n),0]:["ol",lt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(af,this.editor.getAttributes(Hs)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Mn({find:As,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Mn({find:As,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Hs)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),df=Ct.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",lt(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),uf=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,cf=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,pf=Yn.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",lt(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[hn({find:uf,type:this.type})]},addPasteRules(){return[pn({find:cf,type:this.type})]}}),hf=Ct.create({name:"text",group:"inline"}),Mi=Jn.create({name:"starterKit",addExtensions(){const t=[];return this.options.bold!==!1&&t.push(bh.configure(this.options.bold)),this.options.blockquote!==!1&&t.push(gh.configure(this.options.blockquote)),this.options.bulletList!==!1&&t.push(Lh.configure(this.options.bulletList)),this.options.code!==!1&&t.push(xh.configure(this.options.code)),this.options.codeBlock!==!1&&t.push(Vh.configure(this.options.codeBlock)),this.options.document!==!1&&t.push(Mh.configure(this.options.document)),this.options.dropcursor!==!1&&t.push(Eh.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&t.push(Rh.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&t.push(jh.configure(this.options.hardBreak)),this.options.heading!==!1&&t.push(Fh.configure(this.options.heading)),this.options.history!==!1&&t.push(Xh.configure(this.options.history)),this.options.horizontalRule!==!1&&t.push(Qh.configure(this.options.horizontalRule)),this.options.italic!==!1&&t.push(sf.configure(this.options.italic)),this.options.listItem!==!1&&t.push(rf.configure(this.options.listItem)),this.options.orderedList!==!1&&t.push(lf.configure(this.options.orderedList)),this.options.paragraph!==!1&&t.push(df.configure(this.options.paragraph)),this.options.strike!==!1&&t.push(pf.configure(this.options.strike)),this.options.text!==!1&&t.push(hf.configure(this.options.text)),t}}),ff=t=>Xe({find:/--$/,replace:t??""}),gf=t=>Xe({find:/\.\.\.$/,replace:t??""}),mf=t=>Xe({find:/(?:^|[\s{[(<'"\u2018\u201C])(")$/,replace:t??""}),vf=t=>Xe({find:/"$/,replace:t??""}),yf=t=>Xe({find:/(?:^|[\s{[(<'"\u2018\u201C])(')$/,replace:t??""}),wf=t=>Xe({find:/'$/,replace:t??""}),bf=t=>Xe({find:/<-$/,replace:t??""}),Cf=t=>Xe({find:/->$/,replace:t??""}),Lf=t=>Xe({find:/\(c\)$/,replace:t??""}),$f=t=>Xe({find:/\(tm\)$/,replace:t??""}),kf=t=>Xe({find:/\(sm\)$/,replace:t??""}),xf=t=>Xe({find:/\(r\)$/,replace:t??""}),Hf=t=>Xe({find:/(?:^|\s)(1\/2)\s$/,replace:t??""}),Af=t=>Xe({find:/\+\/-$/,replace:t??""}),Vf=t=>Xe({find:/!=$/,replace:t??""}),Mf=t=>Xe({find:/<<$/,replace:t??""}),Sf=t=>Xe({find:/>>$/,replace:t??""}),Tf=t=>Xe({find:/\d+\s?([*x])\s?\d+$/,replace:t??""}),Ef=t=>Xe({find:/\^2$/,replace:t??""}),Bf=t=>Xe({find:/\^3$/,replace:t??""}),If=t=>Xe({find:/(?:^|\s)(1\/4)\s$/,replace:t??""}),_f=t=>Xe({find:/(?:^|\s)(3\/4)\s$/,replace:t??""}),or=Jn.create({name:"typography",addOptions(){return{closeDoubleQuote:"",closeSingleQuote:"",copyright:"",ellipsis:"",emDash:"",laquo:"",leftArrow:"",multiplication:"",notEqual:"",oneHalf:"",oneQuarter:"",openDoubleQuote:"",openSingleQuote:"",plusMinus:"",raquo:"",registeredTrademark:"",rightArrow:"",servicemark:"",superscriptThree:"",superscriptTwo:"",threeQuarters:"",trademark:""}},addInputRules(){const t=[];return this.options.emDash!==!1&&t.push(ff(this.options.emDash)),this.options.ellipsis!==!1&&t.push(gf(this.options.ellipsis)),this.options.openDoubleQuote!==!1&&t.push(mf(this.options.openDoubleQuote)),this.options.closeDoubleQuote!==!1&&t.push(vf(this.options.closeDoubleQuote)),this.options.openSingleQuote!==!1&&t.push(yf(this.options.openSingleQuote)),this.options.closeSingleQuote!==!1&&t.push(wf(this.options.closeSingleQuote)),this.options.leftArrow!==!1&&t.push(bf(this.options.leftArrow)),this.options.rightArrow!==!1&&t.push(Cf(this.options.rightArrow)),this.options.copyright!==!1&&t.push(Lf(this.options.copyright)),this.options.trademark!==!1&&t.push($f(this.options.trademark)),this.options.servicemark!==!1&&t.push(kf(this.options.servicemark)),this.options.registeredTrademark!==!1&&t.push(xf(this.options.registeredTrademark)),this.options.oneHalf!==!1&&t.push(Hf(this.options.oneHalf)),this.options.plusMinus!==!1&&t.push(Af(this.options.plusMinus)),this.options.notEqual!==!1&&t.push(Vf(this.options.notEqual)),this.options.laquo!==!1&&t.push(Mf(this.options.laquo)),this.options.raquo!==!1&&t.push(Sf(this.options.raquo)),this.options.multiplication!==!1&&t.push(Tf(this.options.multiplication)),this.options.superscriptTwo!==!1&&t.push(Ef(this.options.superscriptTwo)),this.options.superscriptThree!==!1&&t.push(Bf(this.options.superscriptThree)),this.options.oneQuarter!==!1&&t.push(If(this.options.oneQuarter)),this.options.threeQuarters!==!1&&t.push(_f(this.options.threeQuarters)),t}}),Df=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,ir=Ct.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",lt(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[Ts({find:Df,type:this.type,getAttributes:t=>{const[,,e,n,o]=t;return{src:n,alt:e,title:o}}})]}}),Pf=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,Of=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,Nf=Yn.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",lt(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[hn({find:Pf,type:this.type})]},addPasteRules(){return[pn({find:Of,type:this.type})]}}),Rf={name:"NewPage",props:{pageuuid:String},components:{EditorContent:bi},data(){return{item:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Files.get(this.pageuuid))),editor:null,updateUUID:null,mypos:0,hilighter:!1}},methods:{wordcountToggle(){this.item.excludefromwordcount=!this.item.excludefromwordcount,this.changed(),this.$root.calcFullWordCount()},repositionEditor(){if(console.log("repos",this.$root.session.settings.documentprefs.caretfocus),this.editor&&this.item&&this.$root.session.settings.documentprefs.caretfocus&&(this.mypos=this.getCaretPosition(),this.mypos!=0&&this.$refs.scrolltarget)){let t=parseInt(this.mypos)+this.$refs.scrolltarget.scrollTop-window.innerHeight/2;this.$refs.scrolltarget.scrollTo({top:t,behavior:"smooth"})}},getCaretPosition(){var t=0,e,n;if(e=window.getSelection(),e.anchorNode)return n=e.getRangeAt(0),t=n.getBoundingClientRect(),t.y},changed(){this.$root.UpdateRecord("Files",this.item.uuid,this.item)},addImage(){let t=window.prompt("Provide a URL to your image");if(t){if(t.includes("drive.google.com")){let e=t.split("/");t=e[0]+"//"+e[2]+"/uc?export=view&id="+e[5]}this.editor.chain().focus().setImage({src:t}).run()}}},mounted(){this.updateUUID=this.$root.uuid(),this.$watch("item",(t,e)=>{if(!e)return this.editor.commands.setContent(this.item.content),this.item.wordcount=this.$root.wordCounter(this.editor.getHTML()),this.$root.calcFullWordCount(),!1;t.updateUUID!=this.updateUUID&&(this.editor.commands.setContent(t.content),this.item.wordcount=this.$root.wordCounter(this.editor.getHTML()),this.$root.calcFullWordCount())}),this.editor=new Ci({extensions:[Mi,or,ir,Nf.configure({multicolor:!0})],content:"",onTransaction:()=>{this.repositionEditor()},onUpdate:()=>{this.item.wordcount=this.$root.wordCounter(this.editor.getHTML()),this.text=this.editor.getHTML(),this.item.content=this.text,this.item.updateUUID=this.updateUUID,this.$emit("update:modelValue",this.editor.getJSON()),this.$root.calcFullWordCount(),this.changed()}})},beforeUnmount(){this.editor&&this.editor.destroy()}},jf={key:0},Ff={class:"PageEditorScroll",ref:"scrolltarget"},Uf={key:0,class:"titleBar"},zf=["placeholder"],Wf=["title"],Gf=["title"],qf=["title"],Zf=["title"],Kf=["title"],Yf=["title"],Jf=["title"],Xf=["title"],Qf=["title"],eg=["title"],tg=["title"],ng={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},og=["title"],ig={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},sg={key:0,class:"hilighter"},rg=["title"],ag={key:0,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},lg={key:1,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},dg={key:2,class:"wordcountdisplay"};function ug(t,e,n,o,r,s){const a=Y("EditorContent");return r.item?(f(),v("div",jf,[i("div",Ff,[r.editor?(f(),xe(a,{key:0,editor:r.editor},null,8,["editor"])):A("",!0)],512),r.item?(f(),v("div",Uf,[re(i("input",{type:"text",placeholder:this.$root.setlang.writer.newfile,"onUpdate:modelValue":e[0]||(e[0]=u=>r.item.title=u),onChange:e[1]||(e[1]=(...u)=>s.changed&&s.changed(...u))},null,40,zf),[[He,r.item.title]])])):A("",!0),r.editor?(f(),v("div",{key:1,class:"toolbar",style:Bt([t.$root.$data.session.writer.lhs?"left:40px;":"",t.$root.$data.session.writer.rhs?"right:-40px;":""])},[i("button",{onClick:e[2]||(e[2]=u=>r.editor.chain().focus().toggleBold().run()),class:Ne({"is-active":r.editor.isActive("bold")}),title:this.$root.setlang.editor.bold},e[22]||(e[22]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[i("path",{d:"M13.5,15.5H10V12.5H13.5A1.5,1.5 0 0,1 15,14A1.5,1.5 0 0,1 13.5,15.5M10,6.5H13A1.5,1.5 0 0,1 14.5,8A1.5,1.5 0 0,1 13,9.5H10M15.6,10.79C16.57,10.11 17.25,9 17.25,8C17.25,5.74 15.5,4 13.25,4H7V18H14.04C16.14,18 17.75,16.3 17.75,14.21C17.75,12.69 16.89,11.39 15.6,10.79Z"})],-1)]),10,Wf),i("button",{onClick:e[3]||(e[3]=u=>r.editor.chain().focus().toggleItalic().run()),class:Ne({"is-active":r.editor.isActive("italic")}),title:this.$root.setlang.editor.italic},e[23]||(e[23]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[i("path",{d:"M10,4V7H12.21L8.79,15H6V18H14V15H11.79L15.21,7H18V4H10Z"})],-1)]),10,Gf),i("button",{onClick:e[4]||(e[4]=u=>r.editor.chain().focus().toggleStrike().run()),class:Ne({"is-active":r.editor.isActive("strike")}),title:this.$root.setlang.editor.strikethrough},e[24]||(e[24]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24",class:"strikefix"},[i("path",{d:"M23,12V14H18.61C19.61,16.14 19.56,22 12.38,22C4.05,22.05 4.37,15.5 4.37,15.5L8.34,15.55C8.37,18.92 11.5,18.92 12.12,18.88C12.76,18.83 15.15,18.84 15.34,16.5C15.42,15.41 14.32,14.58 13.12,14H1V12H23M19.41,7.89L15.43,7.86C15.43,7.86 15.6,5.09 12.15,5.08C8.7,5.06 9,7.28 9,7.56C9.04,7.84 9.34,9.22 12,9.88H5.71C5.71,9.88 2.22,3.15 10.74,2C19.45,0.8 19.43,7.91 19.41,7.89Z"})],-1)]),10,qf),i("button",{onClick:e[5]||(e[5]=u=>r.editor.chain().focus().setParagraph().run()),class:Ne({"is-active":r.editor.isActive("paragraph")}),title:this.$root.setlang.editor.paragraph},e[25]||(e[25]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[i("path",{d:"M13,4A4,4 0 0,1 17,8A4,4 0 0,1 13,12H11V18H9V4H13M13,10A2,2 0 0,0 15,8A2,2 0 0,0 13,6H11V10H13Z"})],-1)]),10,Zf),i("button",{onClick:e[6]||(e[6]=u=>r.editor.chain().focus().toggleHeading({level:1}).run()),class:Ne({"is-active":r.editor.isActive("heading",{level:1})}),title:this.$root.setlang.editor.h1},e[26]||(e[26]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[i("path",{d:"M3,4H5V10H9V4H11V18H9V12H5V18H3V4M14,18V16H16V6.31L13.5,7.75V5.44L16,4H18V16H20V18H14Z"})],-1)]),10,Kf),i("button",{onClick:e[7]||(e[7]=u=>r.editor.chain().focus().toggleHeading({level:2}).run()),class:Ne({"is-active":r.editor.isActive("heading",{level:2})}),title:this.$root.setlang.editor.h2},e[27]||(e[27]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[i("path",{d:"M3,4H5V10H9V4H11V18H9V12H5V18H3V4M21,18H15A2,2 0 0,1 13,16C13,15.47 13.2,15 13.54,14.64L18.41,9.41C18.78,9.05 19,8.55 19,8A2,2 0 0,0 17,6A2,2 0 0,0 15,8H13A4,4 0 0,1 17,4A4,4 0 0,1 21,8C21,9.1 20.55,10.1 19.83,10.83L15,16H21V18Z"})],-1)]),10,Yf),i("button",{onClick:e[8]||(e[8]=(...u)=>s.addImage&&s.addImage(...u)),title:this.$root.setlang.editor.pic},e[28]||(e[28]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[i("path",{d:"M13 19C13 19.7 13.13 20.37 13.35 21H5C3.9 21 3 20.11 3 19V5C3 3.9 3.9 3 5 3H19C20.11 3 21 3.9 21 5V13.35C20.37 13.13 19.7 13 19 13V5H5V19H13M13.96 12.29L11.21 15.83L9.25 13.47L6.5 17H13.35C13.75 15.88 14.47 14.91 15.4 14.21L13.96 12.29M20 18V15H18V18H15V20H18V23H20V20H23V18H20Z"})],-1)]),8,Jf),i("button",{onClick:e[9]||(e[9]=u=>r.editor.chain().focus().toggleBulletList().run()),class:Ne({"is-active":r.editor.isActive("bulletList")}),title:this.$root.setlang.editor.blist},e[29]||(e[29]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[i("path",{d:"M3,4H7V8H3V4M9,5V7H21V5H9M3,10H7V14H3V10M9,11V13H21V11H9M3,16H7V20H3V16M9,17V19H21V17H9"})],-1)]),10,Xf),i("button",{onClick:e[10]||(e[10]=u=>r.editor.chain().focus().toggleOrderedList().run()),class:Ne({"is-active":r.editor.isActive("orderedList")}),title:this.$root.setlang.editor.nlist},e[30]||(e[30]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[i("path",{d:"M7,13V11H21V13H7M7,19V17H21V19H7M7,7V5H21V7H7M3,8V5H2V4H4V8H3M2,17V16H5V20H2V19H4V18.5H3V17.5H4V17H2M4.25,10A0.75,0.75 0 0,1 5,10.75C5,10.95 4.92,11.14 4.79,11.27L3.12,13H5V14H2V13.08L4,11H2V10H4.25Z"})],-1)]),10,Qf),i("button",{onClick:e[11]||(e[11]=u=>this.$root.session.selectedTool="planningboard"),title:this.$root.setlang.editor.planningboard},e[31]||(e[31]=[i("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},[i("path",{d:"M22,9V7H20V5A2,2 0 0,0 18,3H4A2,2 0 0,0 2,5V19A2,2 0 0,0 4,21H18A2,2 0 0,0 20,19V17H22V15H20V13H22V11H20V9H22M18,19H4V5H18V19M6,13H11V17H6V13M12,7H16V10H12V7M6,7H11V12H6V7M12,11H16V17H12V11Z"})],-1)]),8,eg),i("button",{onClick:e[12]||(e[12]=u=>this.$root.session.selectedTool="distractionfree"),title:this.$root.setlang.editor.typewriter},[(f(),v("svg",ng,e[32]||(e[32]=[i("path",{d:"M20 13H16C16 14.1 15.1 15 14 15H10C8.9 15 8 14.1 8 13H4L2 18V20C2 21.1 2.9 22 4 22H20C21.1 22 22 21.1 22 20V18M6 20C5.11 20 4.66 18.92 5.29 18.29C5.92 17.66 7 18.11 7 19C7 19.55 6.55 20 6 20M10 20C9.11 20 8.66 18.92 9.29 18.29C9.92 17.66 11 18.11 11 19C11 19.55 10.55 20 10 20M14 20C13.11 20 12.66 18.92 13.29 18.29C13.92 17.66 15 18.11 15 19C15 19.55 14.55 20 14 20M18 20C17.11 20 16.66 18.92 17.29 18.29C17.92 17.66 19 18.11 19 19C19 19.55 18.55 20 18 20M18 10V3H6V10H3V12H21V10M8 5H16V6H8M8 7H14V8H8"},null,-1)])))],8,tg),i("button",{onClick:e[13]||(e[13]=u=>r.hilighter=!r.hilighter),title:this.$root.setlang.editor.hilight},[(f(),v("svg",ig,e[33]||(e[33]=[i("path",{d:"M7 16C7.55 16 8 16.45 8 17C8 18.1 7.1 19 6 19C5.83 19 5.67 19 5.5 18.95C5.81 18.4 6 17.74 6 17C6 16.45 6.45 16 7 16M18.67 3C18.41 3 18.16 3.1 17.96 3.29L9 12.25L11.75 15L20.71 6.04C21.1 5.65 21.1 5 20.71 4.63L19.37 3.29C19.17 3.09 18.92 3 18.67 3M7 14C5.34 14 4 15.34 4 17C4 18.31 2.84 19 2 19C2.92 20.22 4.5 21 6 21C8.21 21 10 19.21 10 17C10 15.34 8.66 14 7 14Z"},null,-1)])))],8,og),r.hilighter?(f(),v("div",sg,[i("button",{style:{"background-color":"yellow"},onClick:e[14]||(e[14]=u=>r.editor.chain().focus().toggleHighlight({color:"yellow"}).run())}),i("button",{style:{"background-color":"#ffc078"},onClick:e[15]||(e[15]=u=>r.editor.chain().focus().toggleHighlight({color:"#ffc078"}).run())}),i("button",{style:{"background-color":"#8ce99a"},onClick:e[16]||(e[16]=u=>r.editor.chain().focus().toggleHighlight({color:"#8ce99a"}).run())}),i("button",{style:{"background-color":"#74c0fc"},onClick:e[17]||(e[17]=u=>r.editor.chain().focus().toggleHighlight({color:"#74c0fc"}).run())}),i("button",{style:{"background-color":"#b197fc"},onClick:e[18]||(e[18]=u=>r.editor.chain().focus().toggleHighlight({color:"#b197fc"}).run())}),i("button",{style:{"background-color":"#ffa8a8"},onClick:e[19]||(e[19]=u=>r.editor.chain().focus().toggleHighlight({color:"#ffa8a8"}).run())}),i("button",{style:{"background-color":"#ff0000"},onClick:e[20]||(e[20]=u=>r.editor.chain().focus().toggleHighlight({color:"#ff0000"}).run())})])):A("",!0),i("button",{onClick:e[21]||(e[21]=u=>s.wordcountToggle()),title:this.$root.setlang.editor.wordcount},[r.item.excludefromwordcount?A("",!0):(f(),v("svg",ag,e[34]||(e[34]=[i("path",{d:"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"},null,-1)]))),r.item.excludefromwordcount?(f(),v("svg",lg,e[35]||(e[35]=[i("path",{d:"M2,5.27L3.28,4L20,20.72L18.73,22L15.65,18.92C14.5,19.3 13.28,19.5 12,19.5C7,19.5 2.73,16.39 1,12C1.69,10.24 2.79,8.69 4.19,7.46L2,5.27M12,9A3,3 0 0,1 15,12C15,12.35 14.94,12.69 14.83,13L11,9.17C11.31,9.06 11.65,9 12,9M12,4.5C17,4.5 21.27,7.61 23,12C22.18,14.08 20.79,15.88 19,17.19L17.58,15.76C18.94,14.82 20.06,13.54 20.82,12C19.17,8.64 15.76,6.5 12,6.5C10.91,6.5 9.84,6.68 8.84,7L7.3,5.47C8.74,4.85 10.33,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C12.69,17.5 13.37,17.43 14,17.29L11.72,15C10.29,14.85 9.15,13.71 9,12.28L5.6,8.87C4.61,9.72 3.78,10.78 3.18,12Z"},null,-1)]))):A("",!0)],8,rg)],4)):A("",!0),r.item?(f(),v("div",dg,k(r.item.wordcount)+" / "+k(this.$root.fullWordCount),1)):A("",!0)])):A("",!0)}const cg=be(Rf,[["render",ug],["__scopeId","data-v-64faf032"]]),pg={name:"PageBlock",props:{section:Object},data(){return{item:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Files.get(this.section.uuid)))}},methods:{selectnode(t){this.$root.session.writer.file=t}}},hg={class:"section"},fg=["innerHTML"];function gg(t,e,n,o,r,s){return r.item?(f(),v("div",{key:0,class:"hitTarget",onClick:e[0]||(e[0]=a=>s.selectnode(n.section))},[i("h3",null,k(r.item.title),1),i("div",hg,[i("div",{innerHTML:r.item.content},null,8,fg)])])):A("",!0)}const mg=be(pg,[["render",gg],["__scopeId","data-v-cea9b9d7"]]),vg={name:"WriterTool",components:{WriterLeftSide:Bp,WriterRightSide:hh,PageEditor:cg,PageBlock:mg,BarChart:dc},data(){return{exportHTML:null,exportObject:{}}},methods:{async getPage(t){return this.$root.db.Files.get(t)},async exportDoc(t){t||(t=this.$root.session.writer.selected.files),this.exportObject={},(await this.$root.db.Files.where({writerid:this.$root.session.writer.selected.uuid}).toArray()).forEach(n=>{this.exportObject[n.uuid]=n}),this.exportHTML="",this.getfileexport(t),window.Export2Word(this.exportHTML),this.exportHTML="",this.exportObject={}},getfileexport(t){t.forEach(e=>{let n=this.exportObject[e.uuid];e.type==="file"?this.exportHTML=this.exportHTML+"<h1>"+n.title+"</h1>"+n.content:this.exportHTML=this.exportHTML+"<h1>"+e.title+"</h1>",e.children&&e.children.length&&this.getfileexport(e.children)})},updateDatabase(){this.$root.UpdateRecord("Writer",this.$root.session.writer.selected.uuid,JSON.parse(JSON.stringify(this.$root.session.writer.selected)))}},mounted(){this.$root.calcFullWordCount()}},yg={key:0},wg={key:0,class:"wavemaker_info_box"},bg={style:{width:"100%"}},Cg=["placeholder"],Lg=["placeholder"],$g={key:1},kg={key:0},xg={class:"titleBar"},Hg=["placeholder"],Ag={class:"wavemaker_info_box"};function Vg(t,e,n,o,r,s){const a=Y("BarChart"),u=Y("PageEditor"),c=Y("PageBlock"),p=Y("WriterRightSide"),C=Y("WriterLeftSide");return f(),v(ie,null,[i("div",{class:Ne(["writer",[t.$root.lhspin?"lhspin":"",t.$root.rhspin?"rhspin":""]])},[t.$root.session.writer.file?A("",!0):(f(),v("div",yg,[this.$root.session.writer.selected?(f(),v("div",wg,[e[13]||(e[13]=Zn('<div style="text-align:center;" data-v-18230337><svg id="wavemaker_logo" version="1.1" viewBox="0 0 24 24" height="50" width="50" data-v-18230337><path d="M0 0h24v24H0V0z" fill="none" data-v-18230337></path><g transform="matrix(0.046875,0,0,0.04604639,-1.951887,-3.0598516)" data-v-18230337><g id="_921457168" data-v-18230337><path class="wavemaker_logo-top" d="M 464.632,212.901 337.566,83.292 c -22.014,-22.454 -57.758,-22.454 -79.771,0 l -126.63,129.386 c -7.411,7.559 -7.411,19.563 0,27.122 l 38.359,39.127 25.5,24.232 c 7.628,7.114 19.18,7.114 26.808,0 l 51.219,-48.242 c 14.167,-13.338 35.744,-13.338 49.693,0 l 51.219,48.242 c 7.629,7.114 19.18,7.114 26.809,0 l 25.501,-24.232 38.359,-38.904 c 7.193,-7.337 7.193,-19.563 0,-27.122 z" data-v-18230337></path><path class="wavemaker_logo-bottom" d="m 58.804,367.853 198.991,202.973 c 22.013,22.452 57.757,22.452 79.771,0 L 536.557,367.853 c 34.437,-35.125 10.244,-45.574 -15.039,-70.029 L 490.35,267.59 c -7.409,-7.336 -19.18,-7.113 -26.808,0 l -51.218,48.242 c -14.169,13.339 -35.744,13.339 -49.694,0 L 311.411,267.59 c -7.575,-7.113 -19.233,-7.113 -26.809,0 l -51.219,48.242 c -14.167,13.339 -35.744,13.339 -49.693,0 L 132.471,267.59 c -7.576,-7.113 -19.233,-7.113 -26.809,0 l -28.77,27.123 c -26.37,24.899 -54.05,36.236 -18.088,73.14 z" data-v-18230337></path></g></g></svg></div>',1)),i("table",bg,[i("tbody",null,[i("tr",null,[i("td",null,[i("label",null,k(this.$root.setlang.tools.name),1),re(i("input",{type:"text",class:"formInput mantitle","onUpdate:modelValue":e[0]||(e[0]=b=>this.$root.session.writer.selected.title=b),onChange:e[1]||(e[1]=(...b)=>s.updateDatabase&&s.updateDatabase(...b)),placeholder:this.$root.setlang.tools.name},null,40,Cg),[[He,this.$root.session.writer.selected.title]]),e[10]||(e[10]=i("hr",null,null,-1)),i("label",null,k(this.$root.setlang.tools.description),1),re(i("input",{type:"text",class:"formInput mandesc","onUpdate:modelValue":e[2]||(e[2]=b=>this.$root.session.writer.selected.description=b),onChange:e[3]||(e[3]=(...b)=>s.updateDatabase&&s.updateDatabase(...b)),placeholder:this.$root.setlang.tools.description},null,40,Lg),[[He,this.$root.session.writer.selected.description]]),e[11]||(e[11]=i("hr",null,null,-1)),he(" "+k(this.$root.fullWordCount)+" "+k(this.$root.setlang.writer.words),1)])])])]),e[14]||(e[14]=i("div",null,null,-1)),i("p",null,k(this.$root.setlang.writer.intro),1),i("button",{onClick:e[4]||(e[4]=b=>s.exportDoc(this.$root.session.writer.selected.files)),class:"interfaceBtn"},[e[12]||(e[12]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M15.2,20H13.8L12,13.2L10.2,20H8.8L6.6,11H8.1L9.5,17.8L11.3,11H12.6L14.4,17.8L15.8,11H17.3L15.2,20M13,9V3.5L18.5,9H13Z"})],-1)),he(" "+k(this.$root.setlang.writer.docdownload),1)]),Te(a)])):A("",!0)])),t.$root.session.writer.file?(f(),v("div",$g,[t.$root.session.writer.file.type==="file"?(f(),v("div",kg,[Te(Kn,{name:"fade"},{default:yt(()=>[(f(),v("div",{class:"pageHolder",key:t.$root.session.writer.file.uuid},[Te(u,{pageuuid:t.$root.session.writer.file.uuid,onBlur:e[5]||(e[5]=b=>t.$root.calcFullWordCount())},null,8,["pageuuid"])]))]),_:1})])):A("",!0),t.$root.session.writer.file.type==="folder"?(f(),v("div",{key:1,onChange:e[9]||(e[9]=(...b)=>s.updateDatabase&&s.updateDatabase(...b))},[i("div",xg,[re(i("input",{type:"text",placeholder:this.$root.setlang.writer.newfile,"onUpdate:modelValue":e[6]||(e[6]=b=>t.$root.session.writer.file.title=b),onChange:e[7]||(e[7]=(...b)=>s.updateDatabase&&s.updateDatabase(...b))},null,40,Hg),[[He,t.$root.session.writer.file.title]])]),i("div",Ag,[i("button",{onClick:e[8]||(e[8]=b=>s.exportDoc(t.$root.session.writer.file.children)),class:"interfaceBtn"},e[15]||(e[15]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M15.2,20H13.8L12,13.2L10.2,20H8.8L6.6,11H8.1L9.5,17.8L11.3,11H12.6L14.4,17.8L15.8,11H17.3L15.2,20M13,9V3.5L18.5,9H13Z"})],-1),he(" Export this folder to word")])),(f(!0),v(ie,null,De(t.$root.session.writer.file.children,b=>(f(),v("div",null,[Te(c,{section:b},null,8,["section"])]))),256))])],32)):A("",!0)])):A("",!0)],2),this.$root.session.writer.file?(f(),xe(p,{key:this.$root.session.writer.file.uuid})):A("",!0),Te(C)],64)}const Mg=be(vg,[["render",Vg],["__scopeId","data-v-18230337"]]),Sg={name:"SortWidget",props:{modelValue:{type:String,required:!0}},data(){return{open:!1}},methods:{togglebox(){console.log("toggle?"),this.open=!this.open},changeMe(t){this.$emit("update:modelValue",t),this.togglebox()}}},Tg=["open"],Eg={class:"label"},Bg={key:0},Ig={key:1},_g={key:2},Dg={key:3},Pg={class:"floater",role:"radiogroup","aria-label":"Sort type"},Og={class:"label"},Ng=["checked"],Rg={class:"label"},jg=["checked"],Fg={class:"label"},Ug=["checked"],zg={class:"label"},Wg=["checked"];function Gg(t,e,n,o,r,s){return f(),v("details",{open:r.open},[i("summary",{class:"sort-summary",onClick:e[0]||(e[0]=dn((...a)=>s.togglebox&&s.togglebox(...a),["prevent"]))},[i("span",Eg,[n.modelValue==="name-desc"?(f(),v("span",Bg,e[5]||(e[5]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20"},[i("title",null,"sort-alphabetical-descending-variant"),i("path",{d:"M15.75 19L12.5 22.25L9.25 19H15.75M8.89 14.3H6L5.28 17H2.91L6 7H9L12.13 17H9.67L8.89 14.3M6.33 12.68H8.56L7.93 10.56L7.67 9.59L7.42 8.63H7.39L7.17 9.6L6.93 10.58L6.33 12.68M13.05 17V15.74L17.8 8.97V8.91H13.5V7H20.73V8.34L16.09 15V15.08H20.8V17H13.05Z"})],-1)]))):n.modelValue==="name-asc"?(f(),v("span",Ig,e[6]||(e[6]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20"},[i("title",null,"sort-alphabetical-ascending-variant"),i("path",{d:"M9.25 5L12.5 1.75L15.75 5H9.25M8.89 14.3H6L5.28 17H2.91L6 7H9L12.13 17H9.67L8.89 14.3M6.33 12.68H8.56L7.93 10.56L7.67 9.59L7.42 8.63H7.39L7.17 9.6L6.93 10.58L6.33 12.68M13.05 17V15.74L17.8 8.97V8.91H13.5V7H20.73V8.34L16.09 15V15.08H20.8V17H13.05Z"})],-1)]))):n.modelValue==="lastupdated-desc"?(f(),v("span",_g,e[7]||(e[7]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20"},[i("title",null,"sort-clock-ascending-outline"),i("path",{d:"M20 17H23L19 21L15 17H18V3H20V17M8 5C4.14 5 1 8.13 1 12C1 15.87 4.13 19 8 19C11.86 19 15 15.87 15 12C15 8.13 11.87 5 8 5M8 7.15C10.67 7.15 12.85 9.32 12.85 12C12.85 14.68 10.68 16.85 8 16.85C5.32 16.85 3.15 14.68 3.15 12C3.15 9.32 5.32 7.15 8 7.15M7 9V12.69L10.19 14.53L10.94 13.23L8.5 11.82V9"})],-1)]))):n.modelValue==="lastupdated-asc"?(f(),v("span",Dg,e[8]||(e[8]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20"},[i("title",null,"sort-clock-descending-outline"),i("path",{d:"M18 7H15L19 3L23 7H20V21H18V7M8 5C4.14 5 1 8.13 1 12C1 15.87 4.13 19 8 19C11.86 19 15 15.87 15 12C15 8.13 11.87 5 8 5M8 7.15C10.67 7.15 12.85 9.32 12.85 12C12.85 14.68 10.68 16.85 8 16.85C5.32 16.85 3.15 14.68 3.15 12C3.15 9.32 5.32 7.15 8 7.15M7 9V12.69L10.19 14.53L10.94 13.23L8.5 11.82V9"})],-1)]))):A("",!0)])]),i("div",Pg,[i("label",Og,[i("input",{type:"radio",class:"myradio",value:"name-desc",checked:n.modelValue==="name-desc",onChange:e[1]||(e[1]=a=>s.changeMe("name-desc"))},null,40,Ng),e[9]||(e[9]=i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20"},[i("title",null,"sort-alphabetical-descending-variant"),i("path",{d:"M15.75 19L12.5 22.25L9.25 19H15.75M8.89 14.3H6L5.28 17H2.91L6 7H9L12.13 17H9.67L8.89 14.3M6.33 12.68H8.56L7.93 10.56L7.67 9.59L7.42 8.63H7.39L7.17 9.6L6.93 10.58L6.33 12.68M13.05 17V15.74L17.8 8.97V8.91H13.5V7H20.73V8.34L16.09 15V15.08H20.8V17H13.05Z"})],-1))]),i("label",Rg,[i("input",{type:"radio",class:"myradio",value:"name-asc",checked:n.modelValue==="name-asc",onChange:e[2]||(e[2]=a=>s.changeMe("name-asc"))},null,40,jg),e[10]||(e[10]=i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20"},[i("title",null,"sort-alphabetical-ascending-variant"),i("path",{d:"M9.25 5L12.5 1.75L15.75 5H9.25M8.89 14.3H6L5.28 17H2.91L6 7H9L12.13 17H9.67L8.89 14.3M6.33 12.68H8.56L7.93 10.56L7.67 9.59L7.42 8.63H7.39L7.17 9.6L6.93 10.58L6.33 12.68M13.05 17V15.74L17.8 8.97V8.91H13.5V7H20.73V8.34L16.09 15V15.08H20.8V17H13.05Z"})],-1))]),i("label",Fg,[i("input",{type:"radio",class:"myradio",value:"lastupdated-desc",checked:n.modelValue==="lastupdated-desc",onChange:e[3]||(e[3]=a=>s.changeMe("lastupdated-desc"))},null,40,Ug),e[11]||(e[11]=i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20"},[i("title",null,"sort-clock-ascending-outline"),i("path",{d:"M20 17H23L19 21L15 17H18V3H20V17M8 5C4.14 5 1 8.13 1 12C1 15.87 4.13 19 8 19C11.86 19 15 15.87 15 12C15 8.13 11.87 5 8 5M8 7.15C10.67 7.15 12.85 9.32 12.85 12C12.85 14.68 10.68 16.85 8 16.85C5.32 16.85 3.15 14.68 3.15 12C3.15 9.32 5.32 7.15 8 7.15M7 9V12.69L10.19 14.53L10.94 13.23L8.5 11.82V9"})],-1))]),i("label",zg,[i("input",{type:"radio",class:"myradio",value:"lastupdated-asc",checked:n.modelValue==="lastupdated-asc",onChange:e[4]||(e[4]=a=>s.changeMe("lastupdated-asc"))},null,40,Wg),e[12]||(e[12]=i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20"},[i("title",null,"sort-clock-descending-outline"),i("path",{d:"M18 7H15L19 3L23 7H20V21H18V7M8 5C4.14 5 1 8.13 1 12C1 15.87 4.13 19 8 19C11.86 19 15 15.87 15 12C15 8.13 11.87 5 8 5M8 7.15C10.67 7.15 12.85 9.32 12.85 12C12.85 14.68 10.68 16.85 8 16.85C5.32 16.85 3.15 14.68 3.15 12C3.15 9.32 5.32 7.15 8 7.15M7 9V12.69L10.19 14.53L10.94 13.23L8.5 11.82V9"})],-1))])])],8,Tg)}const qg=be(Sg,[["render",Gg],["__scopeId","data-v-2d541abb"]]),Zg={name:"WriterHome",components:{Writer:Mg,SortWidget:qg},computed:{listSort(){let t=this.toollist?[...this.toollist]:[];return this.sorttype==="name-asc"?t.sort((e,n)=>e.title.localeCompare(n.title)):this.sorttype==="name-desc"?t.sort((e,n)=>n.title.localeCompare(e.title)):this.sorttype==="lastupdated-asc"?t.sort((e,n)=>e.lastupdated-n.lastupdated):this.sorttype==="lastupdated-desc"?t.sort((e,n)=>n.lastupdated-e.lastupdated):t}},data(){return{toollist:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Writer.toArray())),sorttype:"lastupdated-desc"}},methods:{async addItem(){let t={};t.title="",t.description="",t.files=[],t.uuid=this.$root.uuid(),await this.$root.AddRecord("Writer",t),this.setLiveQuery(t)},setLiveQuery(t){this.$root.session.writer.selected=this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Writer.get(t.uuid)))},deleteItem(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.recursiveDelete(t.files),this.$root.DeleteRecord("Writer",t.uuid),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})},recursiveDelete(t){t.forEach(e=>{e.children&&this.recursiveDelete(e.children),this.$root.DeleteRecord("Files",e.uuid)})}},created(){this.$root.session.writer||(this.$root.session.writer={})}},Kg={key:0,id:"ToolHome"},Yg={class:"wavemaker_info_box"},Jg={style:{width:"100%"}},Xg={style:{width:"50px"}},Qg={style:{display:"flex","flex-direction":"column","align-items":"flex-end","padding-right":"12px"}},em={style:{width:"100%"}},tm={class:"title"},nm={class:"author"},om={style:{width:"50px"}},im=["onClick"],sm={style:{width:"50px"}},rm=["onClick"],am={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function lm(t,e,n,o,r,s){const a=Y("SortWidget"),u=Y("Writer");return f(),v(ie,null,[t.$root.session.writer.selected?A("",!0):(f(),v("div",Kg,[i("div",Yg,[i("table",Jg,[i("tbody",null,[i("tr",null,[i("td",null,[i("h1",null,k(this.$root.setlang.tools.writer),1)]),i("td",Xg,[i("button",{onClick:e[0]||(e[0]=(...c)=>s.addItem&&s.addItem(...c)),class:"interfaceBtn"},e[2]||(e[2]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M13 19C13 20.1 13.3 21.12 13.81 22H6C4.89 22 4 21.11 4 20V4C4 2.9 4.89 2 6 2H7V9L9.5 7.5L12 9V2H18C19.1 2 20 2.89 20 4V13.09C19.67 13.04 19.34 13 19 13C15.69 13 13 15.69 13 19M20 18V15H18V18H15V20H18V23H20V20H23V18H20Z"})],-1)]))])])])]),i("div",Qg,[Te(a,{modelValue:r.sorttype,"onUpdate:modelValue":e[1]||(e[1]=c=>r.sorttype=c)},null,8,["modelValue"])]),e[6]||(e[6]=i("hr",null,null,-1)),i("table",em,[i("tbody",null,[(f(!0),v(ie,null,De(s.listSort,(c,p)=>(f(),v("tr",{key:p,class:"listRow"},[i("td",null,[i("div",tm,k(c.title),1),i("div",nm,k(c.description),1),i("i",null,[e[3]||(e[3]=i("br",null,null,-1)),he(" "+k(t.$root.niceDate(c.lastupdated)),1)])]),i("td",om,[i("button",{onClick:C=>s.setLiveQuery(c),class:"interfaceBtn"},e[4]||(e[4]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M19.39 10.74L11 19.13V22H6C4.89 22 4 21.11 4 20V4C4 2.9 4.89 2 6 2H7V9L9.5 7.5L12 9V2H18C19.1 2 20 2.89 20 4V10.3C19.78 10.42 19.57 10.56 19.39 10.74M13 19.96V22H15.04L21.17 15.88L19.13 13.83L13 19.96M22.85 13.47L21.53 12.15C21.33 11.95 21 11.95 20.81 12.15L19.83 13.13L21.87 15.17L22.85 14.19C23.05 14 23.05 13.67 22.85 13.47Z"})],-1)]),8,im)]),i("td",sm,[i("button",{onClick:C=>s.deleteItem(c),class:"interfaceBtn deleteBtn"},[(f(),v("svg",am,e[5]||(e[5]=[i("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"},null,-1)])))],8,rm)])]))),128))])])])])),t.$root.session.writer.selected?(f(),xe(u,{key:1})):A("",!0)],64)}const dm=be(Zg,[["render",lm],["__scopeId","data-v-06a36521"]]),um=["data-index"],cm=Ms({__name:"masonry-wall",props:{columnWidth:{default:400},items:{},gap:{default:0},rtl:{type:Boolean,default:!1},ssrColumns:{default:0},scrollContainer:{default:null},minColumns:{},maxColumns:{},keyMapper:{type:Function,default:(t,e,n,o)=>o}},emits:["redraw","redrawSkip"],setup(t,{emit:e}){const n=t,{columnWidth:o,items:r,gap:s,rtl:a,ssrColumns:u,scrollContainer:c,minColumns:p,maxColumns:C,keyMapper:b}=Tl(n),M=Qt([]),x=Qt();function B(P,V,L,g){const S=O(L);return g+V+S<=P?B(P,V,L+1,g+V+S):L}function O(P){const V=Array.isArray(o.value)?o.value:[o.value];return V[P%V.length]}function le(){const P=B(x.value.getBoundingClientRect().width,s.value,0,-s.value),V=ee(E(P));return V>0?V:1}function E(P){const V=C==null?void 0:C.value;return V&&P>V?V:P}function ee(P){const V=p==null?void 0:p.value;return V&&P<V?V:P}function te(P){return[...new Array(P)].map(()=>[])}if(u.value>0){const P=te(u.value);r.value.forEach((V,L)=>P[L%u.value].push(L)),M.value=P}async function fe(P){if(P>=r.value.length)return;await Bl();const V=[...x.value.children];a.value&&V.reverse();const L=V.reduce((g,S)=>S.getBoundingClientRect().height<g.getBoundingClientRect().height?S:g);M.value[+L.dataset.index].push(P),await fe(P+1)}async function J(P=!1){if(M.value.length===le()&&!P){e("redrawSkip");return}M.value=te(le());const V=c==null?void 0:c.value,L=V?V.scrollTop:window.scrollY;await fe(0),V?V.scrollBy({top:L-V.scrollTop}):window.scrollTo({top:L}),e("redraw")}const me=typeof ResizeObserver>"u"?void 0:new ResizeObserver(()=>J());return Vs(()=>{J(),me==null||me.observe(x.value)}),El(()=>me==null?void 0:me.unobserve(x.value)),jn([r,a],()=>J(!0)),jn([o,s,p,C],()=>J()),(P,V)=>(f(),v("div",{ref_key:"wall",ref:x,class:"masonry-wall",style:Bt({display:"flex",gap:`${ct(s)}px`})},[(f(!0),v(ie,null,De(M.value,(L,g)=>(f(),v("div",{key:g,class:"masonry-column","data-index":g,style:Bt({display:"flex","flex-basis":`${O(g)}px`,"flex-direction":"column","flex-grow":1,gap:`${ct(s)}px`,height:["-webkit-max-content","-moz-max-content","max-content"],"min-width":0})},[(f(!0),v(ie,null,De(L,(S,y)=>(f(),v("div",{key:ct(b)(ct(r)[S],g,y,S),class:"masonry-item"},[wo(P.$slots,"default",{item:ct(r)[S],column:g,row:y,index:S},()=>[he(k(ct(r)[S]),1)])]))),128))],12,um))),128))],4))}}),sr=(()=>{const t=cm;return t.install=e=>{e.component("MasonryWall",t)},t})(),pm={name:"CardsDatabaseHome",data(){return{SearchTerm:null,currentTag:null,cardList:gn(fn(async()=>await Nt.Cards.toArray()))}},components:{CardViewer:To,MasonryWall:sr},computed:{CardsArray(){if(this.$root.session.EditCard)return[];{let t=[];return this.cardList&&this.cardList.forEach(e=>{let n=!1;this.SearchTerm?(e.title.toLowerCase().includes(this.SearchTerm.toLowerCase())||e.description.toLowerCase().includes(this.SearchTerm.toLowerCase()))&&(n=!0):n=!0;let o=!1;this.currentTag?e.labels.includes(this.currentTag)&&(o=!0):o=!0,n&&o&&t.push(e)}),t}},taglist(){let t=[];return this.CardsArray.forEach(e=>{e.labels.forEach(n=>{t.includes(n)||t.push(n)})}),t}},methods:{deleteCard(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.$root.DeleteRecord("Cards",t),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})}},mounted(){}},hm={class:"toolbar"},fm={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},gm=["placeholder"],mm={id:"scrollWindow"},vm={style:{padding:"15px","padding-right":"135px"}},ym={class:"cardFrame"},wm=["onClick"],bm={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},Cm={class:"taglist"},Lm=["onClick"];function $m(t,e,n,o,r,s){const a=Y("CardViewer"),u=Y("masonry-wall");return f(),v(ie,null,[i("div",hm,[(f(),v("svg",fm,e[3]||(e[3]=[i("path",{d:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"},null,-1)]))),re(i("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>r.SearchTerm=c),placeholder:this.$root.setlang.db.search},null,8,gm),[[He,r.SearchTerm]]),i("button",{onClick:e[1]||(e[1]=c=>this.$root.makeNewCard()),class:"interfaceBtn"},e[4]||(e[4]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.9 4 4 4H20C21.11 4 22 4.89 22 6V13.81C21.12 13.3 20.09 13 19 13C15.69 13 13 15.69 13 19C13 19.34 13.04 19.67 13.09 20M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"})],-1)]))]),i("div",mm,[i("div",vm,[Te(u,{items:s.CardsArray,"ssr-columns":1,"column-width":300,gap:16},{default:yt(({item:c})=>[i("div",ym,[(f(),xe(a,{cardid:c.uuid,key:c.lastupdated},null,8,["cardid"])),i("button",{class:"deleteIconButton",onClick:p=>s.deleteCard(c.uuid)},[(f(),v("svg",bm,e[5]||(e[5]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])))],8,wm)])]),_:1},8,["items"])]),i("div",Cm,[i("div",null,[i("button",{onClick:e[2]||(e[2]=c=>r.currentTag=t.tag),style:{"background-color":"var(--primary)",color:"var(--primary-f)"}}," [ "+k(this.$root.setlang.db.clear)+" ] ",1),(f(!0),v(ie,null,De(s.taglist.sort(),(c,p)=>(f(),v("button",{onClick:C=>r.currentTag=c,key:p},k(c),9,Lm))),128))])])])],64)}const km=be(pm,[["render",$m],["__scopeId","data-v-d0d803cb"]]),xm={name:"PlanningBoardCols",components:{VueDraggableNext:Tn,CardViewer:To},props:{fileId:{type:String,required:!0},FileNode:{type:Object}},computed:{dragOptions(){return{animation:200,group:"Cards",disabled:!1,ghostClass:"ghost"}}},data(){return{drag:!1,MyFile:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Files.get(this.fileId)))}},methods:{selectCol(){this.$root.session.writer.file=this.FileNode,console.log("Col Selected",this.$root.session.writer.file)},linkCard(t,e){var n=this.MyFile.notes.find(o=>o.uuid===e);n.uuid=t,this.updateDatabase()},deleteNote(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.MyFile.notes.splice(t,1),this.updateDatabase(),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})},addCard(){let t={};t.uuid=this.$root.uuid(),this.MyFile.notes.push(t),this.updateDatabase()},updateDatabase(){this.$root.UpdateRecord("Files",this.MyFile.uuid,this.MyFile)}}},Hm={key:0,style:{width:"320px"},width:"320px"},Am=["placeholder"],Vm={class:"hscroll"},Mm=["onClick"],Sm={style:{width:"16px",height:"16px"},viewBox:"0 0 24 24"},Tm={class:"clearInterfaceIconButton cardHandle"},Em={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},Bm=["onClick"],Im={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},_m={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function Dm(t,e,n,o,r,s){const a=Y("CardViewer"),u=Y("VueDraggableNext"),c=Y("PlanningBoardCards",!0);return f(),v(ie,null,[n.FileNode.type==="file"?(f(),v("td",Hm,[r.MyFile?(f(),v(ie,{key:0},[i("div",{class:"titleBar",onClick:e[2]||(e[2]=(...p)=>s.selectCol&&s.selectCol(...p))},[re(i("input",{type:"text",class:"titleBarInput","onUpdate:modelValue":e[0]||(e[0]=p=>r.MyFile.title=p),placeholder:this.$root.setlang.writer.newfile,onChange:e[1]||(e[1]=(...p)=>s.updateDatabase&&s.updateDatabase(...p))},null,40,Am),[[He,r.MyFile.title]])]),i("div",Vm,[Te(u,cn({list:r.MyFile.notes,tag:"transition-group",group:"board",class:"list-group-card","component-data":{tag:"div",type:"transition-group",name:r.drag?null:"flip-list"},handle:".cardHandle"},s.dragOptions,{onStart:e[3]||(e[3]=p=>r.drag=!0),onEnd:e[4]||(e[4]=p=>r.drag=!1),emptyInsertThreshold:90,onChange:s.updateDatabase}),{default:yt(()=>[(f(!0),v(ie,null,De(this.MyFile.notes,(p,C)=>(f(),v("div",{key:C,class:"list-group-card-item",tabindex:"0"},[i("div",{class:Ne(p.completed?"completedcard":"")},[(f(),xe(a,{cardid:p.uuid,allowlink:!0,onLinkcard:s.linkCard,key:t.$root.uuid()},null,8,["cardid","onLinkcard"])),i("button",{class:"togglecomplete",onClick:b=>{p.completed=!p.completed,s.updateDatabase()}},[(f(),v("svg",Sm,e[6]||(e[6]=[i("path",{d:"M19,19H5V5H15V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V11H19M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"},null,-1)])))],8,Mm)],2),i("div",Tm,[(f(),v("svg",Em,e[7]||(e[7]=[i("path",{d:"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"},null,-1)])))]),i("button",{class:"deleteIconButton",onClick:b=>s.deleteNote(C,p),tabindex:"0"},[(f(),v("svg",Im,e[8]||(e[8]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])))],8,Bm)]))),128))]),_:1},16,["list","component-data","onChange"]),i("button",{class:"add-card",onClick:e[5]||(e[5]=p=>s.addCard())},[(f(),v("svg",_m,e[9]||(e[9]=[i("path",{d:"M13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.9 4 4 4H20C21.11 4 22 4.89 22 6V13.81C21.12 13.3 20.09 13 19 13C15.69 13 13 15.69 13 19C13 19.34 13.04 19.67 13.09 20M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"},null,-1)])))])])],64)):A("",!0)])):A("",!0),n.FileNode.type==="folder"?(f(!0),v(ie,{key:1},De(n.FileNode.children,(p,C)=>(f(),xe(c,{fileId:p.uuid,key:C,FileNode:p},null,8,["fileId","FileNode"]))),128)):A("",!0)],64)}const Pm=be(xm,[["render",Dm],["__scopeId","data-v-42bc3d37"]]),Om={name:"PlanningBoard",components:{PlanningBoardCards:Pm},data(){return{WriterLQ:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Writer.get(this.$root.session.writer.selected.uuid))),ColumnArray:[],TempArray:[]}},methods:{deleteFile(t,e){this.$swal({title:"Are you sure?",text:"You won't be able to undo this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(n=>{n.isConfirmed&&(this.$root.$data.session.writer.file===e&&(this.$root.$data.session.writer.file=null),this.WriterLQ.files.splice(t,1),this.updateDatabase(),this.$swal("Deleted!","Your file has been deleted.","success"))})},addFile(){console.log("Add needed");let t=JSON.parse(JSON.stringify({type:"file"}));t.uuid=this.$root.uuid();let e={};e.title=this.$root.setlang.writer.newfile,e.writerid=this.$root.session.writer.selected.uuid,e.uuid=t.uuid,e.content="",e.notes=[],this.$root.AddRecord("Files",e),this.WriterLQ.files.push(t),this.updateDatabase()},updateDatabase(){console.log("list changed"),this.$root.UpdateRecord("Writer",this.WriterLQ.uuid,this.WriterLQ)}}},Nm={key:0,class:"planningBoardHolder"},Rm={class:"boardTable",cellspacing:"0",cellpadding:"0"},jm={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function Fm(t,e,n,o,r,s){const a=Y("PlanningBoardCards");return f(),v(ie,null,[r.WriterLQ?(f(),v("div",Nm,[i("div",{id:"toolbox",onClick:e[3]||(e[3]=u=>this.$root.session.writer.file=this.WriterLQ)},[re(i("input",{"onUpdate:modelValue":e[0]||(e[0]=u=>this.WriterLQ.title=u),class:"titleinput",onChange:e[1]||(e[1]=(...u)=>s.updateDatabase&&s.updateDatabase(...u))},null,544),[[He,this.WriterLQ.title]]),i("button",{onClick:e[2]||(e[2]=u=>this.$root.session.selectedTool="writer"),class:"toolbutton"},e[5]||(e[5]=[i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M19 2L14 6.5V17.5L19 13V2M6.5 5C4.55 5 2.45 5.4 1 6.5V21.16C1 21.41 1.25 21.66 1.5 21.66C1.6 21.66 1.65 21.59 1.75 21.59C3.1 20.94 5.05 20.5 6.5 20.5C8.45 20.5 10.55 20.9 12 22C13.35 21.15 15.8 20.5 17.5 20.5C19.15 20.5 20.85 20.81 22.25 21.56C22.35 21.61 22.4 21.59 22.5 21.59C22.75 21.59 23 21.34 23 21.09V6.5C22.4 6.05 21.75 5.75 21 5.5V19C19.9 18.65 18.7 18.5 17.5 18.5C15.8 18.5 13.35 19.15 12 20V6.5C10.55 5.4 8.45 5 6.5 5Z"})],-1)]))]),i("table",Rm,[i("tbody",null,[i("tr",null,[(f(!0),v(ie,null,De(r.WriterLQ.files,(u,c)=>(f(),xe(a,{key:c,fileId:u.uuid,FileNode:u},null,8,["fileId","FileNode"]))),128))])])])])):A("",!0),i("button",{class:"add-col-btn",onClick:e[4]||(e[4]=(...u)=>s.addFile&&s.addFile(...u))},[(f(),v("svg",jm,e[6]||(e[6]=[i("path",{d:"M11,2A2,2 0 0,1 13,4V20A2,2 0 0,1 11,22H2V2H11M4,10V14H11V10H4M4,16V20H11V16H4M4,4V8H11V4H4M15,11H18V8H20V11H23V13H20V16H18V13H15V11Z"},null,-1)])))])],64)}const Um=be(Om,[["render",Fm],["__scopeId","data-v-84e8806b"]]),zm={name:"PlanningBoardHome",components:{PlanningBoard:Um},data(){return{toollist:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Writer.toArray()))}},methods:{addItem(){let t={};t.title="",t.description="",t.files=[],t.uuid=this.$root.uuid(),this.$root.AddRecord("Writer",t),this.$root.session.writer.selected=t},setLiveQuery(t){this.$root.session.writer.selected=this.$root.useObservable(this.$root.liveQuery(()=>this.$root.db.Writer.get(t.uuid)))}},created(){this.$root.session.writer||(this.$root.session.writer={})}},Wm={key:0,id:"ToolHome"},Gm={class:"wavemaker_info_box"},qm={style:{width:"100%"}},Zm={style:{width:"50px"}},Km={style:{width:"100%"}},Ym={class:"title"},Jm={class:"author"},Xm={style:{width:"50px"}},Qm=["onClick"];function e2(t,e,n,o,r,s){const a=Y("PlanningBoard");return f(),v(ie,null,[t.$root.session.writer.selected?A("",!0):(f(),v("div",Wm,[i("div",Gm,[i("table",qm,[i("tbody",null,[i("tr",null,[i("td",null,[i("h1",null,k(this.$root.setlang.tools.planningboard),1)]),i("td",Zm,[i("button",{onClick:e[0]||(e[0]=(...u)=>s.addItem&&s.addItem(...u)),class:"interfaceBtn"},e[1]||(e[1]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[i("path",{d:"M22,9V7H20V5A2,2 0 0,0 18,3H4A2,2 0 0,0 2,5V19A2,2 0 0,0 4,21H18A2,2 0 0,0 20,19V17H22V15H20V13H22V11H20V9H22M18,19H4V5H18V19M6,13H11V17H6V13M12,7H16V10H12V7M6,7H11V12H6V7M12,11H16V17H12V11Z"})],-1)]))])])])]),e[4]||(e[4]=i("hr",null,null,-1)),i("table",Km,[i("tbody",null,[(f(!0),v(ie,null,De(r.toollist,(u,c)=>(f(),v("tr",{key:c},[i("td",null,[i("div",Ym,k(u.title),1),i("div",Jm,k(u.description),1),i("i",null,[e[2]||(e[2]=i("br",null,null,-1)),he(" "+k(t.$root.niceDate(u.lastupdated)),1)])]),i("td",Xm,[i("button",{onClick:p=>s.setLiveQuery(u),class:"interfaceBtn"},e[3]||(e[3]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M19.39 10.74L11 19.13V22H6C4.89 22 4 21.11 4 20V4C4 2.9 4.89 2 6 2H7V9L9.5 7.5L12 9V2H18C19.1 2 20 2.89 20 4V10.3C19.78 10.42 19.57 10.56 19.39 10.74M13 19.96V22H15.04L21.17 15.88L19.13 13.83L13 19.96M22.85 13.47L21.53 12.15C21.33 11.95 21 11.95 20.81 12.15L19.83 13.13L21.87 15.17L22.85 14.19C23.05 14 23.05 13.67 22.85 13.47Z"})],-1)]),8,Qm)])]))),128))])])])])),t.$root.session.writer.selected?(f(),xe(a,{key:t.$root.session.writer.selected.lastupdated})):A("",!0)],64)}const t2=be(zm,[["render",e2],["__scopeId","data-v-8ddaef24"]]),n2=Ct.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",lt(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),o2=/^\s*(\[([( |x])?\])\s$/,i2=Ct.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList"}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",lt(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:o})=>{const r=document.createElement("li"),s=document.createElement("label"),a=document.createElement("span"),u=document.createElement("input"),c=document.createElement("div");return s.contentEditable="false",u.type="checkbox",u.addEventListener("mousedown",p=>p.preventDefault()),u.addEventListener("change",p=>{if(!o.isEditable&&!this.options.onReadOnlyChecked){u.checked=!u.checked;return}const{checked:C}=p.target;o.isEditable&&typeof n=="function"&&o.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:b})=>{const M=n();if(typeof M!="number")return!1;const x=b.doc.nodeAt(M);return b.setNodeMarkup(M,void 0,{...x==null?void 0:x.attrs,checked:C}),!0}).run(),!o.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,C)||(u.checked=!u.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([p,C])=>{r.setAttribute(p,C)}),r.dataset.checked=t.attrs.checked,u.checked=t.attrs.checked,s.append(u,a),r.append(s,c),Object.entries(e).forEach(([p,C])=>{r.setAttribute(p,C)}),{dom:r,contentDOM:c,update:p=>p.type!==this.type?!1:(r.dataset.checked=p.attrs.checked,u.checked=p.attrs.checked,!0)}}},addInputRules(){return[Mn({find:o2,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),s2=i2.extend({content:"inline*"}),r2={name:"DescriptionEditor",components:{EditorContent:bi},props:{modelValue:{type:String,default:""}},data(){return{editor:null}},methods:{doupdate(){this.$emit("updated")}},watch:{modelValue(t){this.editor.getHTML()!==t&&this.editor.commands.setContent(t,!1)}},mounted(){this.editor=new Ci({extensions:[Mi,n2,s2],content:this.modelValue,onUpdate:()=>{this.$emit("update:modelValue",this.editor.getHTML())}})},beforeUnmount(){this.editor.destroy()}};function a2(t,e,n,o,r,s){const a=Y("EditorContent");return f(),xe(a,{editor:r.editor,class:"descriptionEditor",onFocusout:e[0]||(e[0]=u=>s.doupdate())},null,8,["editor"])}const Si=be(r2,[["render",a2]]),l2={name:"SnowFlakeTool",components:{MiniEditor:Si},data(){return{}},methods:{exportToManuscript(){this.$swal({title:this.$root.setlang.confirmmodal.confirmexport,text:this.$root.setlang.confirmmodal.exportmsg,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.exportconfirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(t=>{if(t.isConfirmed){let e={};e.uuid=this.$root.uuid(),e.title=this.$root.session.snowflake.selected.title,e.descripton=this.$root.session.snowflake.selected.description,e.files=[],this.$root.session.snowflake.selected.content.forEach(n=>{console.log("SNOW >>>",n);let o=this.$root.uuid(),r={};r.writerid=e.uuid,r.title=n.title,r.content=n.content,r.notes=[],r.uuid=o,r.wordcount=this.$root.wordCounter(n.content),this.$root.AddRecord("Files",r);let s={};s.uuid=o,s.open=!1,s.type="file",s.children=[],e.files.push(s)}),this.$root.AddRecord("Writer",e),this.$swal(this.$root.setlang.confirmmodal.exportsuccess,this.$root.setlang.confirmmodal.exportsuccessfeedback,"success")}})},openflake(t){if(!t.children.length){let e={};e.level=t.level+1,e.content="",e.open=!1,e.children=[],e.title="",t.children.push({...e}),t.children.push({...e}),t.children.push({...e})}t.open=!t.open,this.updateDatabase()},deleteFlake(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.$root.session.snowflake.selected.content.splice(t,1),this.startFlake(),this.updateDatabase(),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})},replace(t,e){this.$swal({title:this.$root.setlang.confirmmodal.snowconfirm,text:this.$root.setlang.confirmmodal.snowconfirmtext,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.snowconfirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(n=>{if(n.isConfirmed){let o={...t.children[0]},r={...t.children[1]},s={...t.children[2]};this.$root.session.snowflake.selected.content.splice(e+1,0,s),this.$root.session.snowflake.selected.content.splice(e+1,0,r),this.$root.session.snowflake.selected.content.splice(e+1,0,o),this.$root.session.snowflake.selected.content.splice(e,1),this.updateDatabase(),this.$swal(this.$root.setlang.confirmmodal.snowconfirmsuccess,this.$root.setlang.confirmmodal.snowconfirmmsg,"success")}})},updateDatabase(){console.log("list changed"),this.$root.UpdateRecord("Snowflake",this.$root.session.snowflake.selected.uuid,this.$root.session.snowflake.selected)},startFlake(){if(!this.$root.session.snowflake.selected.content.length){let t={};t.title="",t.level=0,t.content="",t.open=!1,t.children=[],this.$root.session.snowflake.selected.content.push(t)}}},mounted(){this.startFlake()}},d2={class:"scroller"},u2={id:"toolbox"},c2={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},p2={class:"row"},h2={class:"card"},f2=["onClick"],g2={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},m2=["onUpdate:modelValue","placeholder"],v2=["onClick"],y2={key:0,class:"column"},w2={class:"card"},b2=["onUpdate:modelValue","placeholder"],C2={class:"card"},L2=["onUpdate:modelValue","placeholder"],$2={class:"card"},k2=["onUpdate:modelValue","placeholder"],x2=["onClick"],H2={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function A2(t,e,n,o,r,s){const a=Y("MiniEditor");return f(),v("div",d2,[(f(!0),v(ie,null,De(this.$root.session.snowflake.selected.content,(u,c)=>(f(),v(ie,{key:c},[i("div",u2,[re(i("input",{"onUpdate:modelValue":e[0]||(e[0]=p=>t.$root.session.snowflake.selected.title=p),class:"titleinput",onChange:e[1]||(e[1]=(...p)=>s.updateDatabase&&s.updateDatabase(...p))},null,544),[[He,t.$root.session.snowflake.selected.title]]),i("button",{onClick:e[2]||(e[2]=(...p)=>s.exportToManuscript&&s.exportToManuscript(...p)),class:"toolbutton"},[(f(),v("svg",c2,e[7]||(e[7]=[i("path",{d:"M9 12H18.8L16.3 9.5L17.7 8.1L22.6 13L17.7 17.9L16.3 16.5L18.8 14H9V12M21 17.4V20H3V6H21V8.6L23 10.6V4C23 2.9 22.1 2 21 2H3C1.9 2 1 2.9 1 4V20C1 21.1 1.9 22 3 22H21C22.1 22 23 21.1 23 20V15.4L21 17.4Z"},null,-1)])))])]),i("div",p2,[i("div",{class:"column",style:Bt(u.open?"":"display:block")},[i("div",h2,[i("button",{class:"open-flake-button",onClick:p=>s.openflake(u)},[(f(),v("svg",g2,e[8]||(e[8]=[i("path",{d:"M8,2H16A2,2 0 0,1 18,4V20A2,2 0 0,1 16,22H8A2,2 0 0,1 6,20V4A2,2 0 0,1 8,2M8,10V14H16V10H8M8,16V20H16V16H8M8,4V8H16V4H8Z"},null,-1)])))],8,f2),re(i("input",{class:"title","onUpdate:modelValue":p=>u.title=p,placeholder:this.$root.setlang.snowflake.title,onChange:e[3]||(e[3]=(...p)=>s.updateDatabase&&s.updateDatabase(...p))},null,40,m2),[[He,u.title]]),Te(a,{snowFlake:u,modelValue:u.content,"onUpdate:modelValue":p=>u.content=p,onUpdated:s.updateDatabase},null,8,["snowFlake","modelValue","onUpdate:modelValue","onUpdated"]),i("button",{class:"delete-flake-button",onClick:p=>s.deleteFlake(c)},e[9]||(e[9]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"})],-1)]),8,v2)])],4),Te(Kn,{name:"h-slide-fade"},{default:yt(()=>[u.open?(f(),v("div",y2,[i("div",w2,[re(i("input",{class:"title","onUpdate:modelValue":p=>u.children[0].title=p,placeholder:this.$root.setlang.snowflake.title,onChange:e[4]||(e[4]=(...p)=>s.updateDatabase&&s.updateDatabase(...p))},null,40,b2),[[He,u.children[0].title]]),Te(a,{snowFlake:u.children[0],modelValue:u.children[0].content,"onUpdate:modelValue":p=>u.children[0].content=p,onUpdated:s.updateDatabase},null,8,["snowFlake","modelValue","onUpdate:modelValue","onUpdated"])]),i("div",C2,[re(i("input",{class:"title","onUpdate:modelValue":p=>u.children[1].title=p,placeholder:this.$root.setlang.snowflake.title,onChange:e[5]||(e[5]=(...p)=>s.updateDatabase&&s.updateDatabase(...p))},null,40,L2),[[He,u.children[1].title]]),Te(a,{snowFlake:u.children[1],modelValue:u.children[1].content,"onUpdate:modelValue":p=>u.children[1].content=p,onUpdated:s.updateDatabase},null,8,["snowFlake","modelValue","onUpdate:modelValue","onUpdated"])]),i("div",$2,[re(i("input",{class:"title","onUpdate:modelValue":p=>u.children[2].title=p,placeholder:this.$root.setlang.snowflake.title,onChange:e[6]||(e[6]=(...p)=>s.updateDatabase&&s.updateDatabase(...p))},null,40,k2),[[He,u.children[2].title]]),Te(a,{snowFlake:u.children[2],modelValue:u.children[2].content,"onUpdate:modelValue":p=>u.children[2].content=p,onUpdated:s.updateDatabase},null,8,["snowFlake","modelValue","onUpdate:modelValue","onUpdated"])]),i("button",{class:"replaceButton",onClick:p=>s.replace(u,c)},[(f(),v("svg",H2,e[10]||(e[10]=[i("path",{d:"M14.58,16.59L19.17,12L14.58,7.41L16,6L22,12L16,18L14.58,16.59M8.58,16.59L13.17,12L8.58,7.41L10,6L16,12L10,18L8.58,16.59M2.58,16.59L7.17,12L2.58,7.41L4,6L10,12L4,18L2.58,16.59Z"},null,-1)])))],8,x2)])):A("",!0)]),_:2},1024)])],64))),128))])}const V2=be(l2,[["render",A2],["__scopeId","data-v-986e38a0"]]),M2={name:"PlanningBoardHome",components:{SnowFlakeTool:V2},data(){return{title:null,description:null,showaddform:!1,Snowflakes:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Snowflake.toArray()))}},methods:{deleteItem(t){this.$swal({title:"Are you sure?",text:"You won't be able to undo this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(e=>{e.isConfirmed&&(this.$root.DeleteRecord("Snowflake",t.uuid),this.$swal("Deleted!","Your file has been deleted.","success"))})},chooseItem(t){this.$root.session.snowflake.selected=this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Snowflake.get(t.uuid)))},addItem(){if(!this.title)return alert(this.$root.setlang.tools.warn),!1;let t={};t.title=this.title,t.description=this.description,t.content=[],t.uuid=this.$root.uuid(),this.$root.AddRecord("Snowflake",t),this.title="",this.description="",this.showaddform=!1}},created(){this.$root.$data.session.snowflake||(this.$root.$data.session.snowflake={})}},S2={key:0,id:"ToolHome"},T2={class:"wavemaker_info_box"},E2={style:{width:"100%"}},B2={style:{width:"50px"}},I2={key:0},_2=["placeholder"],D2={style:{"text-align":"right"}},P2={key:1,style:{width:"100%"}},O2={class:"title"},N2={style:{width:"50px"}},R2=["onClick"],j2={style:{width:"50px"}},F2=["onClick"],U2={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function z2(t,e,n,o,r,s){const a=Y("SnowFlakeTool");return f(),v(ie,null,[t.$root.$data.session.snowflake.selected?A("",!0):(f(),v("div",S2,[i("div",T2,[i("table",E2,[i("tbody",null,[i("tr",null,[i("td",null,[i("h1",null,k(this.$root.setlang.tools.snowflake),1)]),i("td",B2,[i("button",{onClick:e[0]||(e[0]=u=>r.showaddform=!r.showaddform),class:"interfaceBtn"},e[3]||(e[3]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M14.25,12L16.27,11H23L22,9H18.03L20.42,5.83L19.43,3.83L15.37,9.2L13.35,10.21L13.75,8L17.83,2.62L15.64,2.22L12,7L8.4,2.2L6.2,2.6L10.26,8L10.66,10.21L8.82,9.29L8.66,9.21L4.6,3.8L3.6,5.8L6,9H2L1,11H7.77L9.75,12L7.73,13H1L2,15H5.97L3.58,18.17L4.57,20.17L8.63,14.8L10.65,13.79L10.25,16L6.17,21.38L8.36,21.79L12,17L15.6,21.8L17.8,21.4L13.74,16L13.34,13.79L15.34,14.79L19.4,20.2L20.4,18.2L18,15H22L23,13H16.23"})],-1)]))])])])]),r.showaddform?(f(),v("div",I2,[e[5]||(e[5]=i("hr",null,null,-1)),re(i("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=u=>r.title=u),placeholder:this.$root.setlang.tools.name,class:"formInput"},null,8,_2),[[He,r.title]]),i("div",D2,[i("button",{onClick:e[2]||(e[2]=(...u)=>s.addItem&&s.addItem(...u)),class:"interfaceBtn"},e[4]||(e[4]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})],-1)]))])])):A("",!0),e[9]||(e[9]=i("hr",null,null,-1)),r.showaddform?A("",!0):(f(),v("table",P2,[i("tbody",null,[(f(!0),v(ie,null,De(r.Snowflakes,(u,c)=>(f(),v("tr",{key:c},[i("td",null,[i("div",O2,k(u.title),1),i("i",null,[e[6]||(e[6]=i("br",null,null,-1)),he(" "+k(t.$root.niceDate(u.lastupdated)),1)])]),i("td",N2,[i("button",{onClick:p=>s.chooseItem(u),class:"interfaceBtn"},e[7]||(e[7]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"})],-1)]),8,R2)]),i("td",j2,[i("button",{onClick:p=>s.deleteItem(u),class:"interfaceBtn deleteBtn"},[(f(),v("svg",U2,e[8]||(e[8]=[i("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"},null,-1)])))],8,F2)])]))),128))])]))])])),t.$root.$data.session.snowflake.selected?(f(),xe(a,{key:1})):A("",!0)],64)}const W2=be(M2,[["render",z2],["__scopeId","data-v-70a64aec"]]),G2={name:"TimeLineTool",components:{VueDraggableNext:Tn,MiniEditor:Si},computed:{dragOptions(){return{animation:200,group:"Cards",disabled:!1,ghostClass:"ghost"}}},data(){return{drag:!1}},methods:{addTime(){let t={};t.title="",t.text="",t.event="",this.$root.session.timeline.selected.content.push(t),this.updateDatabase()},addTimeAtIndex(t){let e={};e.title="",e.text="",e.event="",this.$root.session.timeline.selected.content.splice(t,0,e),this.updateDatabase()},deleteTime(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.$root.session.timeline.selected.content.splice(t,1),this.updateDatabase(),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})},updateDatabase(){console.log("list changed"),this.$root.UpdateRecord("Timeline",this.$root.$data.session.timeline.selected.uuid,this.$root.$data.session.timeline.selected)},exportToManuscript(){this.$swal({title:this.$root.setlang.confirmmodal.confirmexport,text:this.$root.setlang.confirmmodal.exportmsg,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.exportconfirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(t=>{if(t.isConfirmed){let e={};e.uuid=this.$root.uuid(),e.title=this.$root.session.timeline.selected.title,e.descripton=this.$root.session.timeline.selected.description,e.files=[],this.$root.session.timeline.selected.content.forEach(n=>{console.log(n);let o=this.$root.uuid(),r={};r.writerid=e.uuid,r.title=n.event+"-"+n.title,r.content=n.text,r.notes=[],r.uuid=o,r.wordcount=this.$root.wordCounter(n.content),this.$root.AddRecord("Files",r);let s={};s.uuid=o,s.open=!1,s.type="file",s.children=[],e.files.push(s)}),this.$root.AddRecord("Writer",e),this.$swal(this.$root.setlang.confirmmodal.exportsuccess,this.$root.setlang.confirmmodal.exportsuccessfeedback,"success")}})}},mounted(){if(!this.$root.session.timeline.selected.content.length){let t={};t.title="",t.text="",t.event="",this.$root.session.timeline.selected.content.push(t)}this.updateDatabase()}},q2={class:"scroller"},Z2=["placeholder"],K2=["placeholder"],Y2={class:"timeline"},J2={class:"time"},X2={class:"handle"},Q2={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},e0=["placeholder","onUpdate:modelValue"],t0=["onClick"],n0={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},o0={class:"content"},i0=["placeholder","onUpdate:modelValue"],s0=["onClick"],r0={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},a0={style:{"text-align":"center","padding-left":"15px"}},l0={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},d0={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function u0(t,e,n,o,r,s){const a=Y("MiniEditor"),u=Y("VueDraggableNext");return f(),v("div",q2,[re(i("input",{class:"topinput",placeholder:this.$root.setlang.tools.name,"onUpdate:modelValue":e[0]||(e[0]=c=>this.$root.session.timeline.selected.title=c),onChange:e[1]||(e[1]=(...c)=>s.updateDatabase&&s.updateDatabase(...c))},null,40,Z2),[[He,this.$root.session.timeline.selected.title]]),re(i("input",{class:"topinput sub",placeholder:this.$root.setlang.tools.description,"onUpdate:modelValue":e[2]||(e[2]=c=>this.$root.session.timeline.selected.description=c),onChange:e[3]||(e[3]=(...c)=>s.updateDatabase&&s.updateDatabase(...c))},null,40,K2),[[He,this.$root.session.timeline.selected.description]]),i("div",Y2,[Te(u,cn({list:this.$root.$data.session.timeline.selected.content,tag:"ul",group:"board","component-data":{tag:"ul",type:"transition-group",name:r.drag?null:"flip-list"},handle:".handle"},s.dragOptions,{onStart:e[6]||(e[6]=c=>r.drag=!0),onEnd:e[7]||(e[7]=c=>r.drag=!1),emptyInsertThreshold:90,onChange:s.updateDatabase}),{default:yt(()=>[(f(!0),v(ie,null,De(this.$root.session.timeline.selected.content,(c,p)=>(f(),v("li",{key:p},[i("div",J2,[i("div",X2,[(f(),v("svg",Q2,e[10]||(e[10]=[i("path",{d:"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"},null,-1)])))]),re(i("input",{class:"timeText",tabindex:"1",placeholder:this.$root.setlang.timeline.date,"onUpdate:modelValue":C=>c.event=C,onChange:e[4]||(e[4]=(...C)=>s.updateDatabase&&s.updateDatabase(...C))},null,40,e0),[[He,c.event]]),i("button",{onClick:C=>s.deleteTime(p),class:"deleteIconButton"},[(f(),v("svg",n0,e[11]||(e[11]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])))],8,t0)]),i("div",o0,[re(i("input",{class:"title",placeholder:this.$root.setlang.timeline.title,tabindex:"1","onUpdate:modelValue":C=>c.title=C,onChange:e[5]||(e[5]=(...C)=>s.updateDatabase&&s.updateDatabase(...C))},null,40,i0),[[He,c.title]]),i("p",null,[Te(a,{modelValue:c.text,"onUpdate:modelValue":C=>c.text=C,tabindex:"1",onUpdated:s.updateDatabase},null,8,["modelValue","onUpdate:modelValue","onUpdated"])])]),i("button",{onClick:C=>s.addTimeAtIndex(p+1),class:"addIconButton"},[(f(),v("svg",r0,e[12]||(e[12]=[i("path",{d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"},null,-1)])))],8,s0)]))),128))]),_:1},16,["list","component-data","onChange"]),e[14]||(e[14]=i("div",{style:{clear:"both"}},null,-1)),i("div",a0,[i("button",{onClick:e[8]||(e[8]=(...c)=>s.addTime&&s.addTime(...c)),class:"add-btn"},[(f(),v("svg",l0,e[13]||(e[13]=[i("path",{d:"M13.72 21.84C13.16 21.94 12.59 22 12 22C6.5 22 2 17.5 2 12S6.5 2 12 2 22 6.5 22 12C22 12.59 21.94 13.16 21.84 13.72C21 13.26 20.03 13 19 13C17.74 13 16.57 13.39 15.6 14.06L12.5 12.2V7H11V13L14.43 15.11C13.54 16.16 13 17.5 13 19C13 20.03 13.26 21 13.72 21.84M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"},null,-1)])))])])]),i("button",{onClick:e[9]||(e[9]=(...c)=>s.exportToManuscript&&s.exportToManuscript(...c)),class:"export-btn"},[(f(),v("svg",d0,e[15]||(e[15]=[i("path",{d:"M9 12H18.8L16.3 9.5L17.7 8.1L22.6 13L17.7 17.9L16.3 16.5L18.8 14H9V12M21 17.4V20H3V6H21V8.6L23 10.6V4C23 2.9 22.1 2 21 2H3C1.9 2 1 2.9 1 4V20C1 21.1 1.9 22 3 22H21C22.1 22 23 21.1 23 20V15.4L21 17.4Z"},null,-1)])))])])}const c0=be(G2,[["render",u0],["__scopeId","data-v-bcdf820f"]]),p0={name:"PlanningBoardHome",components:{TimeLineTool:c0},data(){return{title:null,description:null,showaddform:!1,Timelines:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Timeline.toArray()))}},methods:{deleteItem(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.$root.DeleteRecord("Timeline",t.uuid),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})},chooseItem(t){this.$root.session.timeline.selected=this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Timeline.get(t.uuid)))},addItem(){if(!this.title)return alert(this.$root.setlang.tools.warn),!1;let t={};t.title=this.title,t.description=this.description,t.content=[],t.uuid=this.$root.uuid(),this.$root.AddRecord("Timeline",t),this.title="",this.description="",this.showaddform=!1}},created(){this.$root.session.timeline||(this.$root.session.timeline={})}},h0={key:0,id:"ToolHome"},f0={class:"wavemaker_info_box"},g0={style:{width:"100%"}},m0={style:{width:"50px"}},v0={key:0},y0=["placeholder"],w0=["placeholder"],b0={style:{"text-align":"right"}},C0={key:1,style:{width:"100%"}},L0={class:"title"},$0={class:"author"},k0={style:{width:"50px"}},x0=["onClick"],H0={style:{width:"50px"}},A0=["onClick"],V0={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function M0(t,e,n,o,r,s){const a=Y("TimeLineTool");return f(),v(ie,null,[t.$root.session.timeline.selected?A("",!0):(f(),v("div",h0,[i("div",f0,[i("table",g0,[i("tbody",null,[i("tr",null,[i("td",null,[i("h1",null,k(this.$root.setlang.tools.timeline),1)]),i("td",m0,[i("button",{onClick:e[0]||(e[0]=u=>r.showaddform=!r.showaddform),class:"interfaceBtn"},e[4]||(e[4]=[i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M12,20A7,7 0 0,1 5,13A7,7 0 0,1 12,6A7,7 0 0,1 19,13A7,7 0 0,1 12,20M12,4A9,9 0 0,0 3,13A9,9 0 0,0 12,22A9,9 0 0,0 21,13A9,9 0 0,0 12,4M12.5,8H11V14L15.75,16.85L16.5,15.62L12.5,13.25V8M7.88,3.39L6.6,1.86L2,5.71L3.29,7.24L7.88,3.39M22,5.72L17.4,1.86L16.11,3.39L20.71,7.25L22,5.72Z"})],-1)]))])])])]),r.showaddform?(f(),v("div",v0,[e[6]||(e[6]=i("hr",null,null,-1)),re(i("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=u=>r.title=u),placeholder:this.$root.setlang.tools.name,class:"formInput"},null,8,y0),[[He,r.title]]),re(i("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=u=>r.description=u),placeholder:this.$root.setlang.tools.description,class:"formInput"},null,8,w0),[[He,r.description]]),i("div",b0,[i("button",{onClick:e[3]||(e[3]=(...u)=>s.addItem&&s.addItem(...u)),class:"interfaceBtn"},e[5]||(e[5]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})],-1)]))])])):A("",!0),e[10]||(e[10]=i("hr",null,null,-1)),r.showaddform?A("",!0):(f(),v("table",C0,[i("tbody",null,[(f(!0),v(ie,null,De(r.Timelines,(u,c)=>(f(),v("tr",{key:c},[i("td",null,[i("div",L0,k(u.title),1),i("div",$0,k(u.description),1),i("i",null,[e[7]||(e[7]=i("br",null,null,-1)),he(" "+k(t.$root.niceDate(u.lastupdated)),1)])]),i("td",k0,[i("button",{onClick:p=>s.chooseItem(u),class:"interfaceBtn"},e[8]||(e[8]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"})],-1)]),8,x0)]),i("td",H0,[i("button",{onClick:p=>s.deleteItem(u),class:"interfaceBtn deleteBtn"},[(f(),v("svg",V0,e[9]||(e[9]=[i("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"},null,-1)])))],8,A0)])]))),128))])]))])])),t.$root.session.timeline.selected?(f(),xe(a,{key:1})):A("",!0)],64)}const S0=be(p0,[["render",M0],["__scopeId","data-v-7d5e1fda"]]),T0={name:"ToolBox",methods:{addNode(t){let e={text:"",x:50,y:50,w:"auto",h:32};t&&(e.type=t),this.$root.session.mindmap.selected.content.nodes[this.$root.uuid()]=e},updateDatabase(){console.log("list changed"),this.$root.UpdateRecord("Mindmap",this.$root.$data.session.mindmap.selected.uuid,this.$root.$data.session.mindmap.selected)}},mounted(){this.$root.session.mindmap.linkstyle||(this.$root.session.mindmap.linkstyle="solid")}},E0={id:"toolbox"},B0={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},I0={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function _0(t,e,n,o,r,s){return f(),v("div",E0,[re(i("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>t.$root.session.mindmap.selected.title=a),class:"titleinput",onChange:e[1]||(e[1]=(...a)=>s.updateDatabase&&s.updateDatabase(...a))},null,544),[[He,t.$root.session.mindmap.selected.title]]),re(i("select",{"onUpdate:modelValue":e[2]||(e[2]=a=>t.$root.session.mindmap.linkstyle=a),class:"toolselect"},e[5]||(e[5]=[i("option",{value:"solid"},"_____",-1),i("option",{value:"dashed"},"- - - -",-1),i("option",{value:"dotted"},"..........",-1)]),512),[[St,t.$root.session.mindmap.linkstyle]]),i("button",{onClick:e[3]||(e[3]=(...a)=>s.addNode&&s.addNode(...a)),class:"toolbutton",style:{}},[(f(),v("svg",B0,e[6]||(e[6]=[i("path",{d:"M5 19V5H12V12H19V13C19.7 13 20.37 13.13 21 13.35V9L15 3H5C3.89 3 3 3.89 3 5V19C3 20.1 3.89 21 5 21H13.35C13.13 20.37 13 19.7 13 19H5M14 4.5L19.5 10H14V4.5M23 18V20H20V23H18V20H15V18H18V15H20V18H23Z"},null,-1)])))]),i("button",{onClick:e[4]||(e[4]=a=>s.addNode("image")),class:"toolbutton"},[(f(),v("svg",I0,e[7]||(e[7]=[i("path",{d:"M18 15V18H15V20H18V23H20V20H23V18H20V15H18M13.3 21H5C3.9 21 3 20.1 3 19V5C3 3.9 3.9 3 5 3H19C20.1 3 21 3.9 21 5V13.3C20.4 13.1 19.7 13 19 13C17.9 13 16.8 13.3 15.9 13.9L14.5 12L11 16.5L8.5 13.5L5 18H13.1C13 18.3 13 18.7 13 19C13 19.7 13.1 20.4 13.3 21Z"},null,-1)])))])])}const D0=be(T0,[["render",_0],["__scopeId","data-v-d9dfd485"]]),P0={name:"NodeBox",components:{MiniImage:Ai},props:{uuid:String},data(){return{editme:!1,w:200,h:200,x:50,y:50}},methods:{resizeTextarea(){let t=this.$refs.textarea;t.style.height="18px",t.style.height=t.scrollHeight+"px"},textchange(){},onResize:function(t,e,n,o){this.$root.session.mindmap.selected.content.nodes[this.uuid].x=t,this.$root.session.mindmap.selected.content.nodes[this.uuid].y=e,this.$root.session.mindmap.selected.content.nodes[this.uuid].width=n,this.$root.session.mindmap.selected.content.nodes[this.uuid].height=o},onDrag:function(t,e){this.$root.session.mindmap.selected.content.nodes[this.uuid].x=t,this.$root.session.mindmap.selected.content.nodes[this.uuid].y=e},onActivated(t){this.$root.session.mindmap.currentnode=t},onDeactivated(){this.$root.session.mindmap.currentnode=null,this.savechange()},linker(t){if(!this.$root.session.mindmap.nodelink)this.$root.session.mindmap.nodelink=t;else{if(this.$root.session.mindmap.nodelink!=t){console.log("link ",this.$root.session.mindmap.nodelink," to ",t);let e={};e.type=this.$root.session.mindmap.linkstyle,e.from=this.$root.session.mindmap.nodelink,e.to=t,this.$root.session.mindmap.selected.content.links.push(e)}this.$root.session.mindmap.nodelink=null}this.savechange()},deleteNode(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.$root.session.mindmap.selected.content.links=this.$root.session.mindmap.selected.content.links.filter(n=>{if(n.from!==t&&n.to!==t)return!0}),delete this.$root.session.mindmap.selected.content.nodes[t],this.savechange(),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})},savechange(){console.log("list changed"),this.$root.UpdateRecord("Mindmap",this.$root.$data.session.mindmap.selected.uuid,this.$root.$data.session.mindmap.selected)},imageCallback(){console.log("Callback fired")},addImage(){this.$root.imagemanager={table:"Gridplanner",targetuuid:this.$root.$data.session.mindmap.selected.uuid,target:this.$root.session.mindmap.selected.content.nodes[this.uuid],updateObj:this.$root.session.mindmap.selected}},moveNode(t){let e=this.$root.session.mindmap.selected.content.nodes[this.uuid];if(e){switch(t){case"up":e.y>0&&(e.y=e.y-5);break;case"down":e.y=e.y+5;break;case"left":e.x>0&&(e.x=e.x-5);break;case"right":e.x=e.x+5;break}e.y<30&&(e.y=30),e.x<30&&(e.x=30)}}},mounted(){this.$root.session.mindmap.selected.content.nodes[this.uuid]||this.resizeTextarea(),this.moveNode("down"),this.moveNode("up")}};function O0(t,e,n,o,r,s){const a=Y("MiniImage"),u=Y("vue-draggable-resizable");return f(),xe(u,{parent:!1,class:Ne(["card",t.$root.session.mindmap.currentnode===n.uuid?"activeClass":"inactiveClass"]),key:n.uuid,onDragging:s.onDrag,onResizing:s.onResize,w:this.$root.session.mindmap.selected.content.nodes[this.uuid].w,h:this.$root.session.mindmap.selected.content.nodes[this.uuid].h,x:this.$root.session.mindmap.selected.content.nodes[this.uuid].x,y:this.$root.session.mindmap.selected.content.nodes[this.uuid].y,resizable:!1,onFocus:e[11]||(e[11]=c=>s.onActivated(n.uuid)),onActivated:e[12]||(e[12]=c=>s.onActivated(n.uuid)),onDeactivated:s.onDeactivated,"enable-native-drag":!1,"drag-handle":".drag-handle",tabindex:"0","max-height":32,"min-height":32},{default:yt(()=>[i("div",{class:"drag-handle",tabindex:"0",onKeydown:[e[0]||(e[0]=oo(dn(c=>s.moveNode("up"),["exact","prevent","stop"]),["up"])),e[1]||(e[1]=oo(dn(c=>s.moveNode("down"),["exact","prevent","stop"]),["down"])),e[2]||(e[2]=oo(dn(c=>s.moveNode("left"),["exact","prevent","stop"]),["left"])),e[3]||(e[3]=oo(dn(c=>s.moveNode("right"),["exact","prevent","stop"]),["right"]))]},e[13]||(e[13]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{fill:"currentColor",d:"M13,11H18L16.5,9.5L17.92,8.08L21.84,12L17.92,15.92L16.5,14.5L18,13H13V18L14.5,16.5L15.92,17.92L12,21.84L8.08,17.92L9.5,16.5L11,18V13H6L7.5,14.5L6.08,15.92L2.16,12L6.08,8.08L7.5,9.5L6,11H11V6L9.5,7.5L8.08,6.08L12,2.16L15.92,6.08L14.5,7.5L13,6V11Z"})],-1)]),32),this.$root.session.mindmap.selected.content.nodes[this.uuid].type==="image"?(f(),v(ie,{key:0},[this.$root.session.mindmap.selected.content.nodes[this.uuid].text?(f(),v(ie,{key:0},[(f(),xe(a,{uuid:this.$root.session.mindmap.selected.content.nodes[this.uuid].text,style:{"min-width":"100px",width:"100%"},key:this.$root.session.mindmap.selected.content.nodes[this.uuid].text},null,8,["uuid"])),t.$root.session.mindmap.currentnode===n.uuid?(f(),v("button",{key:0,onClick:e[4]||(e[4]=(...c)=>s.addImage&&s.addImage(...c)),class:"NewImageBtn"},e[14]||(e[14]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M22.7 14.3L21.7 15.3L19.7 13.3L20.7 12.3C20.8 12.2 20.9 12.1 21.1 12.1C21.2 12.1 21.4 12.2 21.5 12.3L22.8 13.6C22.9 13.8 22.9 14.1 22.7 14.3M13 19.9V22H15.1L21.2 15.9L19.2 13.9L13 19.9M11.21 15.83L9.25 13.47L6.5 17H13.12L15.66 14.55L13.96 12.29L11.21 15.83M11 19.9V19.05L11.05 19H5V5H19V11.31L21 9.38V5C21 3.9 20.11 3 19 3H5C3.9 3 3 3.9 3 5V19C3 20.11 3.9 21 5 21H11V19.9Z"})],-1)]))):A("",!0)],64)):(f(),v("button",{key:1,class:"imageButton",onClick:e[5]||(e[5]=(...c)=>s.addImage&&s.addImage(...c))},e[15]||(e[15]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M22.7 14.3L21.7 15.3L19.7 13.3L20.7 12.3C20.8 12.2 20.9 12.1 21.1 12.1C21.2 12.1 21.4 12.2 21.5 12.3L22.8 13.6C22.9 13.8 22.9 14.1 22.7 14.3M13 19.9V22H15.1L21.2 15.9L19.2 13.9L13 19.9M11.21 15.83L9.25 13.47L6.5 17H13.12L15.66 14.55L13.96 12.29L11.21 15.83M11 19.9V19.05L11.05 19H5V5H19V11.31L21 9.38V5C21 3.9 20.11 3 19 3H5C3.9 3 3 3.9 3 5V19C3 20.11 3.9 21 5 21H11V19.9Z"})],-1)])))],64)):re((f(),v("textarea",{key:1,ref:"textarea","onUpdate:modelValue":e[6]||(e[6]=c=>this.$root.session.mindmap.selected.content.nodes[this.uuid].text=c),onClick:e[7]||(e[7]=c=>s.onActivated(n.uuid)),style:{width:"300px"},cols:"30",rows:"1",onKeyup:e[8]||(e[8]=(...c)=>s.resizeTextarea&&s.resizeTextarea(...c))},null,544)),[[He,this.$root.session.mindmap.selected.content.nodes[this.uuid].text]]),t.$root.session.mindmap.currentnode===n.uuid?(f(),v("button",{key:2,id:"deleteButton",onClick:e[9]||(e[9]=c=>s.deleteNode(n.uuid)),tabindex:"0"},e[16]||(e[16]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"})],-1)]))):A("",!0),t.$root.session.mindmap.currentnode===n.uuid?(f(),v("button",{key:3,tabindex:"0",id:"linkButton",onClick:e[10]||(e[10]=c=>s.linker(n.uuid))},e[17]||(e[17]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M10.6 13.4A1 1 0 0 1 9.2 14.8A4.8 4.8 0 0 1 9.2 7.8L12.7 4.2A5.1 5.1 0 0 1 19.8 4.2A5.1 5.1 0 0 1 19.8 11.3L18.3 12.8A6.4 6.4 0 0 0 17.9 10.4L18.4 9.9A3.2 3.2 0 0 0 18.4 5.6A3.2 3.2 0 0 0 14.1 5.6L10.6 9.2A2.9 2.9 0 0 0 10.6 13.4M23 18V20H20V23H18V20H15V18H18V15H20V18M16.2 13.7A4.8 4.8 0 0 0 14.8 9.2A1 1 0 0 0 13.4 10.6A2.9 2.9 0 0 1 13.4 14.8L9.9 18.4A3.2 3.2 0 0 1 5.6 18.4A3.2 3.2 0 0 1 5.6 14.1L6.1 13.7A7.3 7.3 0 0 1 5.7 11.2L4.2 12.7A5.1 5.1 0 0 0 4.2 19.8A5.1 5.1 0 0 0 11.3 19.8L13.1 18A6 6 0 0 1 16.2 13.7Z"})],-1)]))):A("",!0)]),_:1},8,["onDragging","onResizing","w","h","x","y","onDeactivated","class"])}const N0=be(P0,[["render",O0],["__scopeId","data-v-41f1be8a"]]),R0={name:"LinkNodes",props:{mylink:Object,myindex:Number},methods:{deletelink(){console.log("delete",this.myindex),this.$root.session.mindmap.selected.content.links.splice(this.myindex,1),this.savechange()},savechange(){console.log("list changed"),this.$root.UpdateRecord("Mindmap",this.$root.$data.session.mindmap.selected.uuid,this.$root.$data.session.mindmap.selected)}}},j0=["x1","y1","x2","y2"];function F0(t,e,n,o,r,s){return f(),v("line",{class:Ne(["link",n.mylink.type]),x1:this.$root.session.mindmap.selected.content.nodes[n.mylink.from].x+100,y1:this.$root.session.mindmap.selected.content.nodes[n.mylink.from].y+15,x2:this.$root.session.mindmap.selected.content.nodes[n.mylink.to].x+100,y2:this.$root.session.mindmap.selected.content.nodes[n.mylink.to].y+15,onClick:e[0]||(e[0]=(...a)=>s.deletelink&&s.deletelink(...a))},e[1]||(e[1]=[i("marker",{id:"black-arrow",viewBox:"0 0 10 10",refX:"10",refY:"15",orient:"auto"},[i("path",{d:"M 0 0 L 10 5 L 0 10 z"})],-1)]),10,j0)}const U0=be(R0,[["render",F0],["__scopeId","data-v-04172032"]]),z0={name:"WorkSpace",components:{NodeBox:N0,LinkNodes:U0},mounted(){if(!this.$root.session.mindmap.selected.content){let t={nodes:{},links:[]};this.$root.session.mindmap.selected.content=t}console.log(this.$root.session.mindmap.selected)}},W0={key:0,id:"workspace"},G0={id:"svg"};function q0(t,e,n,o,r,s){const a=Y("LinkNodes"),u=Y("NodeBox");return t.$root.session.mindmap.selected.content?(f(),v("div",W0,[(f(),v("svg",G0,[(f(!0),v(ie,null,De(t.$root.session.mindmap.selected.content.links,(c,p)=>(f(),xe(a,{key:p,mylink:c,myindex:p},null,8,["mylink","myindex"]))),128))])),(f(!0),v(ie,null,De(Object.keys(t.$root.session.mindmap.selected.content.nodes),c=>(f(),xe(u,{key:c,uuid:c},null,8,["uuid"]))),128))])):A("",!0)}const Z0=be(z0,[["render",q0],["__scopeId","data-v-9356689e"]]),K0={name:"MindMapHome",components:{WorkSpace:Z0,ToolBox:D0},data(){return{title:null,description:null,showaddform:!1,MindMaps:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Mindmap.toArray()))}},methods:{deleteItem(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.$root.DeleteRecord("Mindmap",t.uuid),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})},chooseItem(t){this.$root.session.mindmap.selected=this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Mindmap.get(t.uuid)))},addItem(){if(!this.title)return alert(this.$root.setlang.tools.warn),!1;let t={};t.title=this.title,t.description=this.description,t.uuid=this.$root.uuid(),this.$root.AddRecord("Mindmap",t),this.title="",this.description="",this.showaddform=!1}},created(){this.$root.session.mindmap||(this.$root.session.mindmap={},this.$root.session.mindmap.linkstyle="solid",this.$root.session.mindmap.currentnode=null)}},Y0={key:0,id:"ToolHome"},J0={class:"wavemaker_info_box"},X0={style:{width:"100%"}},Q0={style:{width:"50px"}},ev={key:0},tv=["placeholder"],nv={style:{"text-align":"right"}},ov={key:1,style:{width:"100%"}},iv={class:"title"},sv={style:{width:"50px"}},rv=["onClick"],av={style:{width:"50px"}},lv=["onClick"],dv={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},uv={key:1};function cv(t,e,n,o,r,s){const a=Y("WorkSpace"),u=Y("ToolBox");return f(),v(ie,null,[t.$root.session.mindmap.selected?A("",!0):(f(),v("div",Y0,[i("div",J0,[i("table",X0,[i("tbody",null,[i("tr",null,[i("td",null,[i("h1",null,k(this.$root.setlang.tools.mindmap),1)]),i("td",Q0,[i("button",{onClick:e[0]||(e[0]=c=>r.showaddform=!r.showaddform),class:"interfaceBtn"},e[3]||(e[3]=[i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M21 16V13C21 11.89 20.11 11 19 11H13V8H15V2H9V8H11V11H5C3.89 11 3 11.89 3 13V16H1V22H7V16H5V13H11V16H9V22H15V16H13V13H19V16H17V22H23V16H21M11 4H13V6H11V4M5 20H3V18H5V20M13 20H11V18H13V20M21 20H19V18H21V20Z"})],-1)]))])])])]),r.showaddform?(f(),v("div",ev,[e[5]||(e[5]=i("hr",null,null,-1)),re(i("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=c=>r.title=c),placeholder:this.$root.setlang.tools.name,class:"formInput"},null,8,tv),[[He,r.title]]),i("div",nv,[i("button",{onClick:e[2]||(e[2]=(...c)=>s.addItem&&s.addItem(...c)),class:"interfaceBtn"},e[4]||(e[4]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})],-1)]))])])):A("",!0),e[9]||(e[9]=i("hr",null,null,-1)),r.showaddform?A("",!0):(f(),v("table",ov,[i("tbody",null,[(f(!0),v(ie,null,De(r.MindMaps,(c,p)=>(f(),v("tr",{key:p},[i("td",null,[i("div",iv,k(c.title),1),i("i",null,[e[6]||(e[6]=i("br",null,null,-1)),he(" "+k(t.$root.niceDate(c.lastupdated)),1)])]),i("td",sv,[i("button",{onClick:C=>s.chooseItem(c),class:"interfaceBtn"},e[7]||(e[7]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"})],-1)]),8,rv)]),i("td",av,[i("button",{onClick:C=>s.deleteItem(c),class:"interfaceBtn deleteBtn"},[(f(),v("svg",dv,e[8]||(e[8]=[i("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"},null,-1)])))],8,lv)])]))),128))])]))])])),t.$root.session.mindmap.selected?(f(),v("div",uv,[Te(a),Te(u)])):A("",!0)],64)}const pv=be(K0,[["render",cv],["__scopeId","data-v-d23b732b"]]),hv={name:"GridPlannerCell",emits:["MakeChange"],components:{VueDraggableNext:Tn,CardViewer:To},props:{parentList:{type:Array,required:!0}},computed:{dragOptions(){return{animation:200,group:"Cards",disabled:!1,ghostClass:"ghost"}}},data(){return{drag:!1,colWidth:320}},methods:{linkCard(t,e){var n=this.parentList.find(o=>o.uuid===e);n.uuid=t,this.updateDatabase()},deleteNote(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.parentList.splice(t,1),this.updateDatabase(),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})},addCard(){let t={};t.uuid=this.$root.uuid(),this.parentList.push(t),this.updateDatabase()},updateDatabase(){this.$emit("MakeChange")}}},fv={class:"clearInterfaceIconButton cardHandle"},gv={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},mv=["onClick"],vv={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},yv={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function wv(t,e,n,o,r,s){const a=Y("CardViewer"),u=Y("VueDraggableNext");return f(),v(ie,null,[Te(u,cn({list:n.parentList,tag:"transition-group",group:"board",class:"list-group-card","component-data":{tag:"div",type:"transition-group",name:r.drag?null:"flip-list"},handle:".cardHandle"},s.dragOptions,{onStart:e[0]||(e[0]=c=>r.drag=!0),onEnd:e[1]||(e[1]=c=>r.drag=!1),emptyInsertThreshold:90,onChange:s.updateDatabase}),{default:yt(()=>[(f(!0),v(ie,null,De(n.parentList,(c,p)=>(f(),v("div",{key:p,class:"list-group-card-item",tabindex:"0"},[(f(),xe(a,{cardid:c.uuid,allowlink:!0,onLinkcard:s.linkCard,key:t.$root.uuid()},null,8,["cardid","onLinkcard"])),i("div",fv,[(f(),v("svg",gv,e[3]||(e[3]=[i("path",{d:"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"},null,-1)])))]),i("button",{class:"deleteIconButton",onClick:C=>s.deleteNote(p),tabindex:"0"},[(f(),v("svg",vv,e[4]||(e[4]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])))],8,mv)]))),128))]),_:1},16,["list","component-data","onChange"]),i("button",{class:Ne(["add-card",{bigbtn:!n.parentList.length}]),onClick:e[2]||(e[2]=c=>s.addCard(n.parentList))},[(f(),v("svg",yv,e[5]||(e[5]=[i("path",{d:"M13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.9 4 4 4H20C21.11 4 22 4.89 22 6V13.81C21.12 13.3 20.09 13 19 13C15.69 13 13 15.69 13 19C13 19.34 13.04 19.67 13.09 20M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"},null,-1)])))],2)],64)}const bv=be(hv,[["render",wv],["__scopeId","data-v-09639ca3"]]),Cv={name:"GridPlanner",components:{VueDraggableNext:Tn,GridPlannerCell:bv},computed:{HeaderDragOptions(){return{animation:200,group:"headers",disabled:!1,ghostClass:"ghost"}},dragOptions(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}},tableWidth(){return(this.$root.session.gridplanner.selected.content.headers.length+1)*this.colwidth}},data(){return{colwidth:300,drag:!1}},methods:{updateDatabase(){console.log("Grid updateDatabase"),this.$root.UpdateRecord("Gridplanner",this.$root.session.gridplanner.selected.uuid,this.$root.session.gridplanner.selected)},addCol(){let t={};t.uuid=this.$root.uuid(),t.title="",this.$root.session.gridplanner.selected.content.headers.push(t),this.$root.session.gridplanner.selected.content.rows.forEach(e=>{e.cells[t.uuid]=[]}),this.updateDatabase()},addRow(){let t={};t.title="",t.cells={},this.$root.session.gridplanner.selected.content.headers.forEach(e=>{t.cells[e.uuid]=[]}),this.$root.session.gridplanner.selected.content.rows.push(t),this.updateDatabase()},deleteCol(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{if(e.isConfirmed){let n=this.$root.session.gridplanner.selected.content.headers[t].uuid;this.$root.session.gridplanner.selected.content.rows.forEach(o=>{delete o.cells[n]}),this.$root.session.gridplanner.selected.content.headers.splice(t,1),this.updateDatabase(),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success")}})},deleteRow(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.$root.session.gridplanner.selected.content.rows.splice(t,1),this.updateDatabase(),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})}}},Lv={class:"scroller"},$v={id:"toolbox"},kv={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},xv={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Hv={class:"handle"},Av={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Vv=["onClick"],Mv={viewBox:"0 0 24 24",style:{width:"18px",height:"18px"}},Sv=["onUpdate:modelValue","placeholder"],Tv={class:"headerBlock v-handle"},Ev={class:"handle"},Bv={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Iv=["onClick"],_v={viewBox:"0 0 24 24",style:{width:"18px",height:"18px"}},Dv=["onUpdate:modelValue","placeholder"];function Pv(t,e,n,o,r,s){const a=Y("VueDraggableNext"),u=Y("GridPlannerCell");return f(),v("div",Lv,[i("div",$v,[re(i("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>t.$root.session.gridplanner.selected.title=c),class:"titleinput",onChange:e[1]||(e[1]=(...c)=>s.updateDatabase&&s.updateDatabase(...c))},null,544),[[He,t.$root.session.gridplanner.selected.title]]),i("button",{onClick:e[2]||(e[2]=(...c)=>s.addRow&&s.addRow(...c)),class:"toolbutton"},[(f(),v("svg",kv,e[15]||(e[15]=[i("path",{d:"M22,10A2,2 0 0,1 20,12H4A2,2 0 0,1 2,10V3H4V5H8V3H10V5H14V3H16V5H20V3H22V10M4,10H8V7H4V10M10,10H14V7H10V10M20,10V7H16V10H20M11,14H13V17H16V19H13V22H11V19H8V17H11V14Z"},null,-1)])))]),i("button",{onClick:e[3]||(e[3]=(...c)=>s.addCol&&s.addCol(...c)),class:"toolbutton"},[(f(),v("svg",xv,e[16]||(e[16]=[i("path",{d:"M11,2A2,2 0 0,1 13,4V20A2,2 0 0,1 11,22H2V2H11M4,10V14H11V10H4M4,16V20H11V16H4M4,4V8H11V4H4M15,11H18V8H20V11H23V13H20V16H18V13H15V11Z"},null,-1)])))])]),this.$root.session.gridplanner.selected.content.headers?(f(),v("table",{key:0,style:Bt("width :"+s.tableWidth+"px;")},[i("thead",null,[Te(a,cn({modelValue:this.$root.session.gridplanner.selected.content.headers,"onUpdate:modelValue":e[5]||(e[5]=c=>this.$root.session.gridplanner.selected.content.headers=c),tag:"tr","component-data":{type:"transition-group",name:r.drag?null:"flip-list"},onStart:e[6]||(e[6]=c=>r.drag=!0),onEnd:e[7]||(e[7]=c=>r.drag=!1)},s.HeaderDragOptions,{handle:".handle",onChange:e[8]||(e[8]=c=>s.updateDatabase())}),{default:yt(()=>[wo(t.$slots,"default",{},()=>[e[17]||(e[17]=he(""))],!0),(f(!0),v(ie,null,De(this.$root.session.gridplanner.selected.content.headers,(c,p)=>(f(),v("th",{key:p,class:"headerBlock",scope:"col",style:Bt("width :"+r.colwidth+"px;")},[i("div",Hv,[(f(),v("svg",Av,e[18]||(e[18]=[i("path",{d:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"},null,-1)])))]),i("button",{class:"deleteIconButton",tabindex:"0",onClick:C=>s.deleteCol(p)},[(f(),v("svg",Mv,e[19]||(e[19]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])))],8,Vv),re(i("input",{class:"headerInput",onChange:e[4]||(e[4]=C=>s.updateDatabase()),"onUpdate:modelValue":C=>c.title=C,placeholder:this.$root.setlang.gridplanner.newcol},null,40,Sv),[[He,c.title]])],4))),128))]),_:3},16,["modelValue","component-data"])]),Te(a,cn({modelValue:this.$root.session.gridplanner.selected.content.rows,"onUpdate:modelValue":e[11]||(e[11]=c=>this.$root.session.gridplanner.selected.content.rows=c),tag:"tbody","component-data":{type:"transition-group",name:r.drag?null:"flip-list"},onStart:e[12]||(e[12]=c=>r.drag=!0),onEnd:e[13]||(e[13]=c=>r.drag=!1)},s.dragOptions,{handle:".handle",onChange:e[14]||(e[14]=c=>s.updateDatabase())}),{default:yt(()=>[(f(!0),v(ie,null,De(this.$root.session.gridplanner.selected.content.rows,(c,p)=>(f(),v("tr",{key:p},[i("th",Tv,[i("div",Ev,[(f(),v("svg",Bv,e[20]||(e[20]=[i("path",{d:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"},null,-1)])))]),i("button",{class:"deleteIconButton",tabindex:"0",onClick:C=>s.deleteRow(p)},[(f(),v("svg",_v,e[21]||(e[21]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])))],8,Iv),re(i("input",{class:"rowInput",onChange:e[9]||(e[9]=C=>s.updateDatabase()),"onUpdate:modelValue":C=>c.title=C,placeholder:this.$root.setlang.gridplanner.newrow},null,40,Dv),[[He,c.title]])]),(f(!0),v(ie,null,De(this.$root.session.gridplanner.selected.content.headers,C=>(f(),v("td",{key:C},[Te(u,{parentList:c.cells[C.uuid],onMakeChange:e[10]||(e[10]=b=>s.updateDatabase())},null,8,["parentList"])]))),128))]))),128))]),_:1},16,["modelValue","component-data"])],4)):A("",!0)])}const Ov=be(Cv,[["render",Pv],["__scopeId","data-v-1eefbca2"]]),Nv={name:"GridPlannerHome",components:{Gridplanner:Ov},data(){return{title:null,description:null,showaddform:!1,Gridplanners:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Gridplanner.toArray()))}},methods:{deleteItem(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.$root.DeleteRecord("Gridplanner",t.uuid),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})},chooseItem(t){this.$root.session.gridplanner.selected=this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Gridplanner.get(t.uuid)))},addItem(){if(!this.title)return alert(this.$root.setlang.tools.warn),!1;let t={};t.title=this.title,t.description=this.description,t.content={headers:[],rows:[]},t.uuid=this.$root.uuid(),this.$root.AddRecord("Gridplanner",t),this.title="",this.description="",this.showaddform=!1}},created(){this.$root.session.gridplanner||(this.$root.session.gridplanner={})}},Rv={key:0,id:"ToolHome"},jv={class:"wavemaker_info_box"},Fv={style:{width:"100%"}},Uv={style:{width:"50px"}},zv={key:0},Wv=["placeholder"],Gv={style:{"text-align":"right"}},qv={key:1,style:{width:"100%"}},Zv={class:"title"},Kv={style:{width:"50px"}},Yv=["onClick"],Jv={style:{width:"50px"}},Xv=["onClick"],Qv={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},e5={key:1};function t5(t,e,n,o,r,s){const a=Y("Gridplanner");return f(),v(ie,null,[t.$root.session.gridplanner.selected?A("",!0):(f(),v("div",Rv,[i("div",jv,[i("table",Fv,[i("tbody",null,[i("tr",null,[i("td",null,[i("h1",null,k(this.$root.setlang.tools.gridplanner),1)]),i("td",Uv,[i("button",{onClick:e[0]||(e[0]=u=>r.showaddform=!r.showaddform),class:"interfaceBtn"},e[3]||(e[3]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M18,14H20V17H23V19H20V22H18V19H15V17H18V14M4,3H18A2,2 0 0,1 20,5V12.08C18.45,11.82 16.92,12.18 15.68,13H12V17H13.08C12.97,17.68 12.97,18.35 13.08,19H4A2,2 0 0,1 2,17V5A2,2 0 0,1 4,3M4,7V11H10V7H4M12,7V11H18V7H12M4,13V17H10V13H4Z"})],-1)]))])])])]),r.showaddform?(f(),v("div",zv,[e[5]||(e[5]=i("hr",null,null,-1)),re(i("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=u=>r.title=u),placeholder:this.$root.setlang.tools.name,class:"formInput"},null,8,Wv),[[He,r.title]]),i("div",Gv,[i("button",{onClick:e[2]||(e[2]=(...u)=>s.addItem&&s.addItem(...u)),class:"interfaceBtn"},e[4]||(e[4]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})],-1)]))])])):A("",!0),e[9]||(e[9]=i("hr",null,null,-1)),r.showaddform?A("",!0):(f(),v("table",qv,[i("tbody",null,[(f(!0),v(ie,null,De(r.Gridplanners,(u,c)=>(f(),v("tr",{key:c},[i("td",null,[i("div",Zv,k(u.title),1),i("i",null,[e[6]||(e[6]=i("br",null,null,-1)),he(" "+k(t.$root.niceDate(u.lastupdated)),1)])]),i("td",Kv,[i("button",{onClick:p=>s.chooseItem(u),class:"interfaceBtn"},e[7]||(e[7]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"})],-1)]),8,Yv)]),i("td",Jv,[i("button",{onClick:p=>s.deleteItem(u),class:"interfaceBtn deleteBtn"},[(f(),v("svg",Qv,e[8]||(e[8]=[i("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"},null,-1)])))],8,Xv)])]))),128))])]))])])),t.$root.session.gridplanner.selected?(f(),v("div",e5,[Te(a)])):A("",!0)],64)}const n5=be(Nv,[["render",t5],["__scopeId","data-v-df299c9b"]]),o5={name:"DistractionFree",components:{EditorContent:bi},data(){return{item:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Files.get(this.$root.session.writer.file.uuid))),editor:null,updateUUID:null,mypos:0,keycount:1}},methods:{changed(){this.$root.UpdateRecord("Files",this.item.uuid,this.item)},repositionEditor(){if(this.editor&&this.item&&this.$root.session.settings.documentprefs.caretfocus&&(this.mypos=this.getCaretPosition(),this.mypos!=0&&this.$refs.scrolltarget)){let t=parseInt(this.mypos)+this.$refs.scrolltarget.scrollTop-window.innerHeight/2;this.$refs.scrolltarget.scrollTo({top:t,behavior:"smooth"})}},getCaretPosition(){var t=0,e,n;return e=window.getSelection(),n=e.getRangeAt(0),t=n.getBoundingClientRect(),t.y}},mounted(){this.updateUUID=this.$root.uuid(),this.$watch("item",(t,e)=>{if(!e)return this.editor.commands.setContent(t.content),!1;t.updateUUID!=this.updateUUID&&this.editor.commands.setContent(t.content)}),this.editor=new Ci({extensions:[Mi,or,ir],content:"",onTransaction:()=>{this.repositionEditor()},onUpdate:()=>{this.$root.session.settings.documentprefs.typesound&&(window["typesound"+this.keycount].play(),this.keycount===9&&(this.keycount=0),this.keycount++),this.item.wordcount=this.$root.wordCounter(this.editor.getHTML()),this.item.content=this.editor.getHTML(),this.item.updateUUID=this.updateUUID,this.changed()}})},beforeUnmount(){this.editor&&this.editor.destroy()}},i5={class:"blackout",ref:"scrolltarget"},s5={class:"distractionfree"},r5={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function a5(t,e,n,o,r,s){const a=Y("EditorContent");return f(),v("div",i5,[i("div",s5,[r.editor?(f(),xe(a,{key:0,editor:r.editor},null,8,["editor"])):A("",!0)]),i("button",{onClick:e[0]||(e[0]=u=>this.$root.session.selectedTool="writer"),class:"closebutton"},[(f(),v("svg",r5,e[1]||(e[1]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])))])],512)}const l5=be(o5,[["render",a5],["__scopeId","data-v-560de645"]]),d5={name:"StartApp",components:{ToolBar:J1,ProjectInfo:oc,WriterMenu:dm,PlanningBoardHome:t2,SnowFlake:W2,TimeLine:S0,MindMapHome:pv,CardsDatabaseHome:km,GridPlannerHome:n5,DistractionFree:l5},methods:{},async mounted(){let t=new URLSearchParams(document.location.search),e=t.get("sc"),n=t.get("sel");t.delete("sc"),t.delete("sel"),e==="planningboard"&&(this.$root.session.writer={},this.$root.session.writer.selected=this.$root.useObservable(this.$root.liveQuery(()=>this.$root.db.Writer.get(n))),this.$root.session.selectedTool=e),localStorage.getItem("wmDev")&&(this.session=JSON.parse(localStorage.getItem("wmDev")))}},u5={class:"toolbox"};function c5(t,e,n,o,r,s){const a=Y("ProjectInfo"),u=Y("WriterMenu"),c=Y("CardsDatabaseHome"),p=Y("PlanningBoardHome"),C=Y("SnowFlake"),b=Y("TimeLine"),M=Y("MindMapHome"),x=Y("GridPlannerHome"),B=Y("ToolBar"),O=Y("DistractionFree");return f(),v(ie,null,[i("div",u5,[t.$root.session.selectedTool?A("",!0):(f(),xe(a,{key:0})),t.$root.session.selectedTool==="writer"?(f(),xe(u,{key:1})):A("",!0),t.$root.session.selectedTool==="cardsdatabase"?(f(),xe(c,{key:2})):A("",!0),t.$root.session.selectedTool==="planningboard"?(f(),xe(p,{key:3})):A("",!0),t.$root.session.selectedTool==="snowflake"?(f(),xe(C,{key:4})):A("",!0),t.$root.session.selectedTool==="timeline"?(f(),xe(b,{key:5})):A("",!0),t.$root.session.selectedTool==="mindmap"?(f(),xe(M,{key:6})):A("",!0),t.$root.session.selectedTool==="gridplanner"?(f(),xe(x,{key:7})):A("",!0)]),Te(B),t.$root.session.selectedTool==="distractionfree"?(f(),xe(O,{key:0})):A("",!0)],64)}const p5=be(d5,[["render",c5],["__scopeId","data-v-124b48dd"]]),h5={info:{name:"English",textdirection:"ltr"},confirm:{sure:"Are You Sure?",downloadfile:"This will download a file to your device.",fileexport:"Yes, Export it!",filecancel:"Cancel",exportedsuccess:"Exported!",exportedmessage:"Your file has been exported"},toolbar:{projecthome:"Project Home",writer:"My Books",planningboard:"My Planning Boards",mindmap:"My Mindmaps",snowflake:"My Snowflakes",timeline:"My Timeline",gridplanner:"My Grid Planners",cardsdatabase:"My Cards",settings:"Settings",save:"Save File",googledrive:"Google Drive",quick:"Quick Upload",close:"Close Project"},welcome:{getstarted:"New Project",loadfile:"Load a file from your device",loadgoogle:"Load a file from Google Drive",info:"Create a new file, or load an existing one",legacy:"Legacy Tools",v3import:"Import a Wavemaker Version 3 file"},start:{projectlabel:"My Project Name",welcome:"Welcome to Wavemaker Version 4",help:"Help & Guides on how to use Wavemaker"},google:{info:"Login to Google Drive",saveinfo:"Save Current Project",files:"My Files",save:"Save File",search:"Search for Files",logout:"Log Out",close:"Close window"},settings:{title:"Settings",close:"Close this file",themes:"Choose a Theme",lang:"Choose a Language",clear:"This will clear the project",docprefs:"Document Preferences",alignment:"Alignment",alignL:"Align Left",alignR:"Align Right",alignC:"Align Center",alignJ:"Justify",fontsize:"Font Size",fontsize1:"Smallest",fontsize2:"Small",fontsize3:"Standard",fontsize4:"Big",fontsize5:"Biggest",lineheight:"Line Height",lineheight1:"Standard",lineheight2:"Double Spaced",lineheight3:"2.5 Spacing",lineheight4:"Triple Spaced",paragraph:"Paragraph Indentation",paragraphyes:"yes",paragraphno:"No",paragraphspacing:"Paragraph Spacing",paragraphspacing1:"Standard Spacing",paragraphspacing2:"1.5x Spacing",paragraphspacing3:"2x Spacing",paragraphspacing4:"2.5x Spacing",paragraphspacing5:"5x Spacing",pagewidth:"Page Width",pagestyle:"Page Style",fullwidth:"Full Width",pagetext:"Text Colour",pagecolour:"Page Colour",h1align:"H1 Alignment",h2align:"H2 Alignment",h3align:"H3 Alignment",h4align:"H4 Alignment",typewriter:"Typewriter Preferences",typetext:"Text Colour",typepage:"Page Colour",typesound:"Typewriter Sound",caretfocus:"Caret Auto-focus",reset:"Reset Defaults"},tools:{writer:"My Books",planningboard:"My Planning Boards",mindmap:"My Mindmaps",snowflake:"My Snowflakes",timeline:"My Timeline",gridplanner:"My Grid Planners",cardsdatabase:"My Cards",name:"Name",description:"Description (optional)",warn:"Please provide a Name"},writer:{settings:"Your Book Title",newfile:"New Section",newfolder:"New Folder",deletewarn:"Do you want to delete this item? Any cards you have created will remain in the database",intro:"This is the main page for your document. Options are below.",docdownload:"Export a .doc file of this manuscript",words:"Words"},confirmmodal:{confirmdelete:"Are you sure you want to delete this?",noundo:"You will not be able to undo this.",confirmbtn:"Yes, delete it!",cancelbtn:"Cancel",success:"Deleted!",successfeedback:"That has been deleted.",confirmexport:"Export?",exportmsg:"Export this tool?",exportconfirmbtn:"Yes, Export this.",exportsuccess:"Exported",exportsuccessfeedback:"Successfully exported",snowconfirm:"Replace Card",snowconfirmtext:"Replace the original card with these three",snowconfirmbtn:"Yes, replace it!",snowconfirmsuccess:"Replaced",snowconfirmmsg:"The card has been replaced"},editor:{bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",paragraph:"Paragraph",h1:"Heading 1",h2:"Heading 2",pic:"Insert Picture",blist:"Bullet List",nlist:"Numbered List",planningboard:"Switch to Planning board",typewriter:"Typewriter mode",hilight:"Text hilight",wordcount:"Toggle wordcount visibility"},mindmap:{deletenodewarn:"Do you want to delete this node?"},snowflake:{title:"Title",deletewarn:"Are You sure you want to delete this card?",replacewarn:"This will replace your card with the three new ones."},timeline:{date:"Date/Time",title:"Title"},gridplanner:{newrow:"New Row",newcol:"New Column"},db:{search:"Search by keywords",clear:"Clear Tags",deletecolwarn:"Delete this column?",deleterowwarn:"Delete this row?"},cards:{createnewbtn:"Create New",linkexisting:"Link Existing Card",cardtitle:"Card Title",cardnotes:"Card Notes",cardtags:"Card Tags",moredetail:"More Detail",images:"Images (click on an image to select it)",openimagemanager:"Open Image Manager",close:"Close"},wm3import:{close:"Close",info:"<h1>Version 3 Converter</h1><p>Hi, this is a legacy tool to allow you to load your old <strong>wavemaker version 3</strong> files into the new version.</p><p>As the behind the scenes database has changed quite a bit this is a one-way process.</p><p>You will need your DATABASE file (go to the main menu by clicking on the logo in wavemaker 3 then export the database) You should then have a file with the extension '.wmdata'</p><p>You will need to import each project and save it to it's own file as they are all seperate in the new version</p>",upload:"Upload a wavemaker database"}},f5={info:{name:"Cymraeg",textdirection:"ltr"},confirm:{sure:"Ydych chi'n Siwr?",downloadfile:"Bydd hyn yn lawrlwytho ffeil i'ch dyfais.",fileexport:"Ie, Allforio!",filecancel:"Canslo",exportedsuccess:"Wedi'i Allforio!",exportedmessage:"Mae eich ffeil wedi'i hallforio"},toolbar:{projecthome:"Cartref Prosiect",writer:"Fy Llyfrau",planningboard:"Fy Myrddau Cynllunio",mindmap:"Fy Mapiau Meddwl",snowflake:"Fy Plu Eira",timeline:"Fy Llinell Amser",gridplanner:"Fy Nghynllunwyr Grid",cardsdatabase:"Fy Nghardiau",settings:"Gosodiadau",save:"Cadw Ffeil",googledrive:"Google Drive",quick:"Llwytho i fyny'n Gyflym",close:"Cau Prosiect"},welcome:{getstarted:"Prosiect Newydd",loadfile:"Llwytho ffeil o'ch dyfais",loadgoogle:"Llwytho ffeil o Google Drive",info:"Creu ffeil newydd, neu lwythwch un sy'n bodoli eisoes",legacy:"Offer Etifeddiaeth",v3import:"Mewnforio ffeil Fersiwn 3 Wavemaker"},start:{projectlabel:"Enw fy mhrosiect",welcome:"Croeso i Fersiwn Wavemaker 4",help:"Cymorth a Chanllawiau ar sut i ddefnyddio Wavemaker"},google:{info:"Mewngofnodi i Google Drive",saveinfo:"Cadw Prosiect Cyfredol",files:"Fy Ffeiliau",save:"Cadw Ffeil",search:"Chwilio am Ffeiliau",logout:"Allgofnodi",close:"Cau'r ffenestr"},settings:{title:"Gosodiadau",close:"Cau'r ffeil hon",themes:" Dewis Thema",lang:"Dewis Iaith",clear:"Bydd hyn yn clirio'r prosiect",docprefs:"Dewisiadau Dogfen",alignment:"Alinio",alignL:"Alinio i'r Chwith",alignR:"Alinio i'r Dde",alignC:"Alinio Canol",alignJ:"Cyfiawnhau",fontsize:"Maint Ffont ",fontsize1:"Llai",fontsize2:"Bach",fontsize3:"Safon",fontsize4:"Mawr",fontsize5:"Mwyaf",lineheight:"Uchder Llinell",lineheight1:"Safon",lineheight2:"Bylchau Dwbl",lineheight3:"2.5 Bylchu",lineheight4:"T riple Bylchau",paragraph:"Boniad Paragraff",paragraphyes:"Ie",paragraphno:"Na",paragraphspacing:"Bylchau Paragraff",paragraphspacing1:"Bylchau Safonol",paragraphspacing2:"1.5x Bylchu",paragraphspacing3:"Bylchau 2x",paragraphspacing4:"2.5x Bylchau",paragraphspacing5:"5x Bylchau",pagewidth:" Lled y Dudalen",pagestyle:"Arddull y Dudalen",fullwidth:"Lled Llawn",pagetext:"Lliw Testun",pagecolour:"Lliw tudalen",h1align:"Aliniad H1",h2align:"Aliniad H2",h3align:"Aliniad H3",h4align:"H4 Aliniad",typewriter:"Tipysgrifwr Dewisiadau",typetext:"Lliw Testun",typepage:"Lliw Tudalen",typesound:"Sain Teipiadur",caretfocus:"Caret Auto-focus",reset:"Ailosod Rhagosodiadau"},tools:{writer:"Fy Llyfrau",planningboard:"Fy Myrddau Cynllunio",mindmap:"Fy Mapiau Meddwl",snowflake:"Fy Plu Eira",timeline:"Fy Llinell Amser",gridplanner:"Fy Nghynllunwyr Grid",cardsdatabase:"Fy Nghardiau",name:"Enw",description:"Disgrifiad (dewisol)",warn:"Rhowch Enw"},writer:{settings:"Teitl Eich Llyfr",newfile:"Adran Newydd",newfolder:"Ffolder Newydd",deletewarn:"Ydych chi am ddileu'r eitem hon? Bydd unrhyw gardiau rydych wedi eu creu yn aros yn y bas data",intro:"Dyma brif dudalen eich dogfen. Mae'r opsiynau isod.",docdownload:"Allforio ffeil .doc o'r llawysgrif hon",words:"Geiriau"},confirmmodal:{confirmdelete:"Ydych chi'n sir eich bod am ddileu hwn?",noundo:"Ni fyddwch yn gallu dadwneud hyn.",confirmbtn:"Ie, dilwch hi !",cancelbtn:"Canslo",success:"Dileu!",successfeedback:"Mae hwn wedi'i ddileu.",confirmexport:"Allforio?",exportmsg:"Allforio'r teclyn hwn?",exportconfirmbtn:"Ie, Allforio hwn.",exportsuccess:"Allforiwyd",exportsuccessfeedback:"Allforiwyd yn llwyddiannus",snowconfirm:" Amnewid y Cerdyn",snowconfirmtext:"Amnewid y cerdyn gwreiddiol gyda'r tri hyn",snowconfirmbtn:"Ie, amnewid!",snowconfirmsuccess:"Amnewid",snowconfirmmsg:"Mae'r cerdyn wedi'i ddisodli"},editor:{bold:"Bold",italic:"Italig",strikethrough:"Streic trwodd",paragraph:"Paragraff",h1:"Pennawd 1",h2:"Pennawd 2",pic:"Mewnosod Llun",blist:"Rhestr Bwled",nlist:"Rhestr wedi'i Rhifo",planningboard:"Newid i'r Bwrdd Cynllunio",typewriter:"Modd teipiadur",hilight:"Testun uchafbwynt",wordcount:"Toglo gwelededd cyfrif geiriau"},mindmap:{deletenodewarn:"Do ydych chi am ddileu'r nod hwn?"},snowflake:{title:"Teitl",deletewarn:"Ydych chi'n sir eich bod am ddileu'r cerdyn hwn?",replacewarn:"Bydd hwn yn disodli'ch cerdyn gyda'r tri pheth newydd."},timeline:{date:"Dyddiad/Amser",title:"Teitl"},gridplanner:{newrow:"Rhes Newydd",newcol:"Colofn Newydd"},db:{search:"Chwilio yn l allweddeiriau",clear:"Clirio Tagiau",deletecolwarn:"Dileu'r golofn hon?",deleterowwarn:"Dileu'r rhes hon?"},cards:{createnewbtn:"Creu Newydd",linkexisting:"Dolen Cerdyn Presennol ",cardtitle:"Teitl Cerdyn",cardnotes:"Nodiadau Cerdyn",cardtags:"Tagiau Cerdyn",moredetail:"Mwy o Fanylion",images:"Delweddau (cliciwch ar ddelwedd i'w ddewis)",openimagemanager:"Rheolwr Delwedd Agored",close:"Cau"},wm3import:{close:"Cau",info:" <h1>Trawsnewidydd Fersiwn 3</h1><p>Helo, mae hwn yn declyn etifeddiaeth i'ch galluogi i lwytho eich hen ffeiliau <strong>wavemaker version 3</strong> i'r fersiwn newydd.</p><p> Gan fod y gronfa ddata tu l i'r llenni wedi newid tipyn mae hon yn broses un ffordd.</p><p>Bydd angen eich ffeil CRONFA DDATA (ewch i'r brif ddewislen trwy glicio ar y logo yn wavemaker 3 ac yna allforio'r gronfa ddata ) Yna dylech gael ffeil gyda'r estyniad '.wmdata'</p><p>Bydd angen i chi fewngludo pob prosiect a'i gadw i'w ffeil ei hun gan eu bod i gyd ar wahn yn y fersiwn newydd</p>",upload:"Lanlwytho cronfa ddata wavemaker"}},g5={info:{name:"Deutsch",textdirection:"ltr"},confirm:{sure:"Sind Sie sicher?",downloadfile:"Dadurch wird eine Datei auf Ihr Gert heruntergeladen.",fileexport:"Ja, exportieren!",filecancel:"Abbrechen",exportedsuccess:"Exportiert!",exportedmessage:"Ihre Datei wurde exportiert"},toolbar:{projecthome:"Projekt-Startseite",writer:"Meine Bcher",planningboard:"Meine Plantafeln",mindmap:"Meine Mindmaps",snowflake:"Meine Schneeflocken",timeline:"Meine Chronik",gridplanner:"Meine Rasterplaner",cardsdatabase:"Meine Karten",settings:"Einstellungen",save:"Datei speichern",googledrive:"Google Drive",quick:"Schnell-Upload",close:"Projekt schlieen"},welcome:{getstarted:"Neues Projekt",loadfile:"Laden Sie eine Datei von Ihrem Gert",loadgoogle:"Laden Sie eine Datei von Google Drive",info:"Erstellen Sie eine neue Datei oder laden Sie eine vorhandene Datei",legacy:"ltere Tools",v3import:"Importieren Sie eine Wavemaker Version 3-Datei"},start:{projectlabel:"Mein Projektname",welcome:"Willkommen bei Wavemaker Version 4",help:"Hilfe und Anleitungen zur Vorgehensweise um Wavemaker zu verwenden"},google:{info:"Bei Google Drive anmelden",saveinfo:"Aktuelles Projekt speichern",files:"Meine Dateien",save:"Datei speichern",search:"Nach Dateien suchen",logout:"Abmelden",close:"Fenster schlieen"},settings:{title:"Einstellungen",close:"Diese Datei schlieen",themes:"Design auswhlen",lang:"Sprache auswhlen",clear:"Dadurch wird das Projekt gelscht",docprefs:"Dokument Einstellungen",alignment:"Ausrichtung",alignL:"Linksbndig",alignR:"Rechtsbndig",alignC:"Zentriert",alignJ:"Blocksatz",fontsize:"Schriftgre",fontsize1:"Kleinste",fontsize2:"Klein",fontsize3:"Standard",fontsize4:"Gro",fontsize5:"Grte",lineheight:"Zeilenhhe",lineheight1:"Standard",lineheight2:"Doppelter Zeilenabstand",lineheight3:"2,5 Zeilenabstand",lineheight4:"Dreifacher Zeilenabstand",paragraph:"Absatzeinzug",paragraphyes:"Ja",paragraphno:"Nein",paragraphspacing:"Absatz Abstand",paragraphspacing1:"Standardabstand",paragraphspacing2:"1,5x Abstand",paragraphspacing3:"2x Abstand",paragraphspacing4:"2,5x Abstand",paragraphspacing5:"5x Abstand",pagewidth:"Seitenbreite",pagestyle:"Seitenstil",fullwidth:"Volle Breite",pagetext:"Textfarbe",pagecolour:"Seitenfarbe",h1align:"H1-Ausrichtung",h2align:"H2-Ausrichtung",h3align:"H3-Ausrichtung",h4align:"H4-Ausrichtung",typewriter:"Schreibmaschineneinstellungen",typetext:"Textfarbe",typepage:"Seitenfarbe",typesound:"Schreibmaschinenton",caretfocus:"Caret Auto-focus",reset:"Zurcksetzen Standardeinstellungen"},tools:{writer:"Meine Bcher",planningboard:"Meine Plantafeln",mindmap:"Meine Mindmaps",snowflake:"Meine Schneeflocken",timeline:"Meine Zeitleiste",gridplanner:"Meine Rasterplaner",cardsdatabase:"Meine Karten",name:"Name",description:"Beschreibung (optional)",warn:"Bitte geben Sie einen Namen an"},writer:{settings:"Ihr Buchtitel",newfile:"Neuer Abschnitt",newfolder:"Neuer Ordner",deletewarn:"Wollen Sie diesen Artikel lschen? Alle von Ihnen erstellten Karten bleiben in der Datenbank",intro:"Dies ist die Hauptseite fr Ihr Dokument. Optionen sind unten.",docdownload:"Exportieren Sie eine .doc-Datei dieses Manuskripts",words:"Wrter"},confirmmodal:{confirmdelete:"Sind Sie sicher, dass Sie dies lschen mchten?",noundo:"Sie knnen dies nicht rckgngig machen.",confirmbtn:"Ja, lschen!",cancelbtn:"Abbrechen",success:"Gelscht!",successfeedback:"Das wurde gelscht.",confirmexport:"Exportieren?",exportmsg:"Dieses Tool exportieren?",exportconfirmbtn:"Ja, exportieren.",exportsuccess:"Exportiert",exportsuccessfeedback:"Erfolgreich exportiert",snowconfirm:"Karte ersetzen",snowconfirmtext:"Originalkarte durch diese drei ersetzen",snowconfirmbtn:"Ja, ersetzen!",snowconfirmsuccess:"Ersetzt",snowconfirmmsg:"Die Karte wurde ersetzt"},editor:{bold:"Fett",italic:"Kursiv",strikethrough:"Durchgestrichen",paragraph:"Absatz",h1:"berschrift 1",h2:"berschrift 2",pic:"Bild einfgen",blist:"Aufzhlungszeichen",nlist:"Nummerierte Liste",planningboard:"Zur Plantafel wechseln",typewriter:"Schreibmaschinenmodus",hilight:"Texthervorhebung",wordcount:"Sichtbarkeit der Wortanzahl umschalten"},mindmap:{deletenodewarn:"Wollen Sie diesen Knoten lschen?"},snowflake:{title:"Titel",deletewarn:"Mchten Sie diese Karte wirklich lschen?",replacewarn:"Dadurch wird Ihre Karte durch die drei neuen ersetzt."},timeline:{date:"Datum/Uhrzeit",title:"Titel"},gridplanner:{newrow:"Neue Zeile",newcol:"Neue Spalte"},db:{search:"Suche nach Schlsselwrtern",clear:"Tags lschen",deletecolwarn:"Diese Spalte lschen?",deleterowwarn:"Diese Zeile lschen?"},cards:{createnewbtn:"Neu erstellen",linkexisting:"Vorhandene Karte verknpfen",cardtitle:"Kartentitel",cardnotes:"Kartennotizen",cardtags:"Karten-Tags",moredetail:"Mehr Details",images:"Bilder (klicken Sie auf ein Bild, um es auszuwhlen)",openimagemanager:"Bild-Manager ffnen",close:"Schlieen"},wm3import:{close:"Schlieen",info:"<h1>Version 3 Konverter</h1>< p>Hallo, dies ist ein veraltetes Tool, mit dem Sie Ihre alten <strong>wavemaker Version 3</strong>-Dateien in die neue Version laden knnen.</p><p>Da sich die Datenbank hinter den Kulissen ziemlich verndert hat dies ist ein einseitiger Prozess.</p><p>Sie bentigen Ihre DATABASE-Datei (gehen Sie zum Hauptmen, indem Sie auf das Logo in wavemaker 3 klicken, und exportieren Sie dann die Datenbank). Sie sollten dann eine Datei mit der Erweiterung ' .wmdata'</p><p>Sie mssen jedes Projekt importieren und in einer eigenen Datei speichern, da sie in der neuen Version alle separat sind</p>",upload:"Laden Sie eine Wavemaker-Datenbank hoch"}},m5={info:{name:"Espaol",textdirection:"ltr"},confirm:{sure:"Est seguro?",downloadfile:"Esto descargar un archivo a su dispositivo.",fileexport:"S, exportalo!",filecancel:"Cancelar",exportedsuccess:"Exportado!",exportedmessage:"Su archivo ha sido exportado"},toolbar:{projecthome:"Inicio del proyecto",writer:"Mis libros",planningboard:"Tableros de planificacin",mindmap:"Mapas mentales",snowflake:"Copos de nieve",timeline:"Lneas de tiempo",gridplanner:"Planificadores de cuadrcula",cardsdatabase:"Tarjetas",settings:"Configuracin",save:"Guardar archivo",googledrive:"Google Drive",quick:"Carga rpida",close:"Cerrar proyecto"},welcome:{getstarted:"Nuevo proyecto",loadfile:"Cargue un archivo desde su dispositivo",loadgoogle:"Cargue un archivo desde Google Drive",info:"Cree un archivo nuevo o cargue uno existente",legacy:"Herramientas heredadas",v3import:"Importe un archivo Wavemaker versin 3"},start:{projectlabel:"Mi nombre de proyecto",welcome:"Bienvenido a Wavemaker versin 4",help:"Ayuda y guas sobre cmo para usar Wavemaker"},google:{info:"Iniciar sesin en Google Drive",saveinfo:"Guardar proyecto actual",files:"Archivos",save:"Guardar archivo",search:"Buscar archivos",logout:"Cerrar sesin",close:"Cerrar ventana"},settings:{title:"Configuracin",close:"Cerrar este archivo",themes:"Elegir un tema",lang:"Elegir un idioma",clear:"Esto borrar el proyecto",docprefs:"Preferencias del documento",alignment:"Alineacin",alignL:"Alinear a la izquierda",alignR:"Alinear a la derecha",alignC:"Alinear al centro",alignJ:"Justificar",fontsize:"Tamao de fuente",fontsize1:"Ms pequeo",fontsize2:"Pequeo",fontsize3:"Estndar",fontsize4:"Grande",fontsize5:"Ms grande",lineheight:"Altura de lnea",lineheight1:"Estndar",lineheight2:"Espaciado doble",lineheight3:"Espaciado 2,5",lineheight4:"Espaciado triple",paragraph:"Sangra",paragraphyes:"S",paragraphno:"No",paragraphspacing:"Espaciado del prrafo",paragraphspacing1:"Espaciado estndar",paragraphspacing2:"Espaciado 1,5x",paragraphspacing3:"Espaciado 2x",paragraphspacing4:"Espaciado 2,5x",paragraphspacing5:"Espaciado 5x",pagewidth:"Ancho de pgina",pagestyle:"Estilo de pgina",fullwidth:"Ancho completo",pagetext:"Color de texto",pagecolour:"Color de pgina",h1align:"Alineacin H1",h2align:"Alineacin H2",h3align:"Alineacin H3",h4align:"Alineacin H4",typewriter:"Preferencias de mquina de escribir",typetext:"Color de texto",typepage:"Color de pgina",typesound:"Sonido de mquina de escribir",caretfocus:"Caret Auto-focus",reset:"Restablecer Valores predeterminados"},tools:{writer:"Mis libros",planningboard:"Tableros de planificacin",mindmap:"Mmapas mentales",snowflake:"Copos de nieve",timeline:"Lneas de tiempo",gridplanner:"Planificadores de cuadrcula",cardsdatabase:"Tarjetas",name:"Nombre",description:"Descripcin (opcional)",warn:"Proporcione un nombre"},writer:{settings:"Ttulo de su libro",newfile:"Nueva seccin",newfolder:"Nueva carpeta",deletewarn:"Desea eliminar este elemento? Todas las tarjetas que haya creado permanecern en la base de datos",intro:"Esta es la pgina principal de su documento. Las opciones estn abajo.",docdownload:"Exportar un archivo .doc de este manuscrito",words:"Palabras"},confirmmodal:{confirmdelete:"Est seguro de que desea eliminarlo?",noundo:"No podrs deshacer esto.",confirmbtn:"S, brralo!",cancelbtn:"Cancelar",success:"Eliminado!",successfeedback:"Ha sido borrado.",confirmexport:"Exportar?",exportmsg:"Exportar esta herramienta?",exportconfirmbtn:"S, exportar",exportsuccess:"Exportado",exportsuccessfeedback:"Exportado con xito",snowconfirm:"Reemplazar tarjeta",snowconfirmtext:"Reemplazar la tarjeta original con estas tres",snowconfirmbtn:"S, reemplzala!",snowconfirmsuccess:"Reemplazada",snowconfirmmsg:"La tarjeta ha sido reemplazada"},editor:{bold:"Negrita",italic:"Cursiva",strikethrough:"Tachado",paragraph:"Prrafo",h1:"Encabezado 1",h2:"Encabezado 2",pic:"Insertar imagen",blist:"Lista de vietas",nlist:"Lista numerada",planningboard:"Cambiar a tablero de planificacin",typewriter:"Modo de mquina de escribir",hilight:"Resaltar texto",wordcount:"Alternar visibilidad de recuento de palabras"},mindmap:{deletenodewarn:"Quieres eliminar este nodo?"},snowflake:{title:"Ttulo",deletewarn:"Est seguro de que desea eliminar esta tarjeta?",replacewarn:"Esto reemplazar su tarjeta con las tres nuevas."},timeline:{date:"Fecha/hora",title:"Ttulo"},gridplanner:{newrow:"Nueva fila",newcol:"Nueva columna"},db:{search:"Buscar por palabras clave",clear:"Borrar etiquetas",deletecolwarn:"Eliminar esta columna?",deleterowwarn:"Eliminar esta fila?"},cards:{createnewbtn:"Crear nueva",linkexisting:"Vincular tarjeta existente",cardtitle:"Ttulo de tarjeta",cardnotes:"Notas de tarjeta",cardtags:"Etiquetas de tarjeta",moredetail:"Ms detalles",images:"Imgenes (haga clic en una imagen para seleccionarla)",openimagemanager:"Abrir administrador de imgenes",close:"Cerrar"},wm3import:{close:"Cerrar",info:"<h1>Convertidor de la versin 3</h1>< p>Hola, esta es una herramienta heredada que le permite cargar sus archivos antiguos de <strong>wavemaker versin 3</strong> en la nueva versin.</p><p>Como la base de datos entre bastidores ha cambiado bastante este es un proceso unidireccional.</p><p>Necesitar su archivo de BASE DE DATOS (vaya al men principal haciendo clic en el logotipo en wavemaker 3 y luego exporte la base de datos) Entonces debera tener un archivo con la extensin ' .wmdata'</p><p>Tendr que importar cada proyecto y guardarlo en su propio archivo, ya que todos estn separados en la nueva versin</p>",upload:"Cargue una base de datos de wavemaker"}},v5={info:{name:"Franais",textdirection:"ltr"},confirm:{sure:"tes-vous sr ?",downloadfile:"Ceci tlchargera un fichier sur votre appareil.",fileexport:"Oui, exportation !",filecancel:"Annuler",exportedsuccess:"Export !",exportedmessage:"Votre fichier a t export"},toolbar:{projecthome:"Accueil du projet",writer:"Mes livres",planningboard:"Mes tableaux de planification",mindmap:"Mes Mindmaps",snowflake:"Mes flocons de neige",timeline:"Ma chronologie",gridplanner:"Mes grilles de planification",cardsdatabase:"Mes cartes",settings:"Paramtres",save:"Enregistrer le fichier",googledrive:"Google Drive",quick:"Tlchargement rapide",close:"Fermer le projet"},welcome:{getstarted:"Nouveau projet",loadfile:"Charger un fichier depuis votre appareil",loadgoogle:"Charger un fichier depuis Google Drive",info:"Crer un nouveau fichier ou charger un fichier existant",legacy:"Outils hrits",v3import:"Importer un fichier Wavemaker Version 3"},start:{projectlabel:"Mon nom de projet",welcome:"Bienvenue dans Wavemaker Version 4",help:"Aide et guides pour utiliser Wavemaker"},google:{info:"Se connecter  Google Drive",saveinfo:"Enregistrer le projet actuel",files:"Mes fichiers",save:"Enregistrer le fichier",search:"Rechercher des fichiers",logout:"Se dconnecter",close:"Fermer la fentre"},settings:{title:"Paramtres",close:"Fermer ce fichier",themes:"Choisir un thme",lang:"Choisir une langue",clear:"Ceci effacera le projet",docprefs:"Document Prfrences",alignment:"Alignement",alignL:"Aligner  gauche",alignR:"Aligner  droite",alignC:"Aligner au centre",alignJ:"Justifier",fontsize:"Taille de la police",fontsize1:"La plus petite",fontsize2:"Petit",fontsize3:"Standard",fontsize4:"Grand",fontsize5:"La plus grande",lineheight:"Hauteur de ligne",lineheight1:"Standard",lineheight2:"Double interligne",lineheight3:"Espacement 2,5",lineheight4:"Triple interligne",paragraph:"Retrait de paragraphe",paragraphyes:"Oui",paragraphno:"Non",paragraphspacing:"Espacement de Paragraphe",paragraphspacing1:"Espacement standard",paragraphspacing2:"Espacement 1,5x",paragraphspacing3:"Espacement 2x",paragraphspacing4:"Espacement 2,5x",paragraphspacing5:"Espacement 5x",pagewidth:"Largeur de page",pagestyle:"Style de page",fullwidth:"Pleine largeur",pagetext:"Couleur de texte",pagecolour:"Couleur de la page",h1align:"Alignement H1",h2align:"Alignement H2",h3align:"Alignement H3",h4align:"Alignement H4",typewriter:"Prfrences de la machine  crire",typetext:"Couleur de texte",typepage:"Couleur de la page",typesound:"Son de la machine  crire",caretfocus:"Caret Auto-focus",reset:"Rinitialiser les valeurs par dfaut"},tools:{writer:"Mes livres",planningboard:"Mes tableaux de planification",mindmap:"Mes cartes mentales",snowflake:"Mes flocons de neige",timeline:"Ma chronologie",gridplanner:"Mes planificateurs de grille",cardsdatabase:"Mes cartes",name:"Nom",description:"Description (facultatif)",warn:"Veuillez fournir un nom"},writer:{settings:"Titre de votre livre",newfile:"Nouvelle section",newfolder:"Nouveau dossier",deletewarn:"Voulez-vous supprimer cet article ? Toutes les cartes que vous avez cres resteront dans la base de donnes",intro:"Il s'agit de la page principale de votre document. Voir les options ci-dessous.",docdownload:"Exporter un fichier .doc de ce manuscrit",words:"Mots"},confirmmodal:{confirmdelete:"tes-vous sr de vouloir le supprimer ?",noundo:"Vous ne pourrez pas revenir en arrire.",confirmbtn:"Oui, suppression !",cancelbtn:"Annuler",success:"Supprim !",successfeedback:"Cela a t supprim.",confirmexport:"Exporter ?",exportmsg:"Exporter cet outil ?",exportconfirmbtn:"Oui, exportation.",exportsuccess:"Export",exportsuccessfeedback:"Export avec succs",snowconfirm:"Remplacer la carte",snowconfirmtext:"Remplacez la carte d'origine par ces trois",snowconfirmbtn:"Oui, remplacement !",snowconfirmsuccess:"Remplac",snowconfirmmsg:"La carte a t remplace"},editor:{bold:"Gras",italic:"Italique",strikethrough:"Barr",paragraph:"Paragraphe",h1:"Titre 1",h2:"Titre 2",pic:"Insrer une image",blist:"Liste  puces",nlist:"Liste numrote",planningboard:"Passer au tableau de planification",typewriter:"Mode machine  crire",hilight:"Texte en surbrillance",wordcount:"Basculer la visibilit du nombre de mots"},mindmap:{deletenodewarn:"Voulez-vous supprimer ce nud ?"},snowflake:{title:"Titre",deletewarn:"Voulez-vous vraiment supprimer cette carte ?",replacewarn:"Cela remplacera votre carte par trois nouvelles."},timeline:{date:"Date/Heure",title:"Titre"},gridplanner:{newrow:"Nouvelle ligne",newcol:"Nouvelle colonne"},db:{search:"Recherche par mots cls",clear:"Effacer les balises",deletecolwarn:"Supprimer cette colonne ?",deleterowwarn:"Supprimer cette ligne ?"},cards:{createnewbtn:"Crer un nouveau",linkexisting:"Lier une carte existante",cardtitle:"Titre de la carte",cardnotes:"Notes de la carte",cardtags:"tiquettes de la carte",moredetail:"Plus de dtails",images:"Images (cliquez sur une image pour la slectionner)",openimagemanager:"Ouvrir le gestionnaire d'images",close:"Fermer"},wm3import:{close:"Fermer",info:"<h1>Version 3 Converter</h1>< p>Bonjour, il s'agit d'un outil hrit qui vous permet de charger vos anciens fichiers <strong>wavemaker version 3</strong> dans la nouvelle version.</p><p>Comme la base de donnes a chang en profondeur, c'est un processus  sens unique.</p><p>Vous aurez besoin de votre fichier DATABASE (allez dans le menu principal en cliquant sur le logo dans wavemaker 3 puis exportez la base de donnes) Vous devriez alors avoir un fichier avec l'extension ' .wmdata'</p><p>Vous devrez importer chaque projet et l'enregistrer dans son propre fichier car ils sont tous spars dans la nouvelle version</p>",upload:"Tlchargez une base de donnes Wavemaker"}},y5={info:{name:"Trke",textdirection:"ltr"},confirm:{sure:"Emin misiniz?",downloadfile:"Bu, cihaznza bir dosya indirecek.",fileexport:"Evet, Da Aktar!",filecancel:"ptal",exportedsuccess:"Da aktarld!",exportedmessage:"Dosyanz da aktarld"},toolbar:{projecthome:"Proje Ana Sayfas",writer:"Kitaplarm",planningboard:"Planlama Panolarm",mindmap:"Zihin Haritalarm",snowflake:"Kar Tanelerim",timeline:"Zaman izelgem",gridplanner:"Klavuz Planlayclarm",cardsdatabase:"Kartlarm",settings:"Ayarlar",save:"Dosyay Kaydet",googledrive:"Google Drive",quick:"Hzl Ykleme",close:"Projeyi Kapat"},welcome:{getstarted:"Yeni Proje",loadfile:"Cihaznzdan bir dosya ykleyin",loadgoogle:"Google Drive'dan bir dosya ykleyin",info:"Yeni bir dosya oluturun veya mevcut bir dosyay ykleyin",legacy:"Eski Aralar",v3import:"Bir Wavemaker Srm 3 dosyasn ie aktarn"},start:{projectlabel:"Proje Adm",welcome:"Wavemaker Srm 4'e Ho Geldiniz",help:"Wavemaker'n nasl kullanlacana ilikin Yardm ve Klavuzlar"},google:{info:"Google Drive'da Oturum An",saveinfo:"Mevcut Projeyi Kaydet",files:"Dosyalarm",save:"Dosyay Kaydet",search:"Dosyalarda Ara",logout:"Oturumu Kapat",close:"Pencereyi Kapat"},settings:{title:"Ayarlar",close:"Bu dosyay kapat",themes:" Bir Tema Sein",lang:"Dil Sein",clear:"Bu, projeyi temizleyecektir",docprefs:"Belge Tercihleri",alignment:"Hizalama",alignL:"Sola Hizala",alignR:"Saa Hizala",alignC:"Ortala",alignJ:"Yasla",fontsize:"Yaz Tipi Boyutu ",fontsize1:"En Kk",fontsize2:"Kk",fontsize3:"Standart",fontsize4:"Byk",fontsize5:"En Byk",lineheight:"izgi Ykseklii",lineheight1:"Standart",lineheight2:"ift Aralkl",lineheight3:"2,5 Aralk",lineheight4:" Aralkl",paragraph:"Paragraf Girintisi",paragraphyes:"evet",paragraphno:"Hayr",paragraphspacing:"Paragraf Boluu",paragraphspacing1:"Standart Boluk",paragraphspacing2:"1,5x Aralk",paragraphspacing3:"2x Aralk",paragraphspacing4:"2,5x Aralk",paragraphspacing5:"5x Aralk",pagewidth:" Sayfa Genilii",pagestyle:"Sayfa Stili",fullwidth:"Tam Genilik",pagetext:"Metin Rengi",pagecolour:"Sayfa Rengi",h1align:"H1 Hizalama",h2align:"H2 Hizalama",h3align:"H3 Hizalama",h4align:"H4 Hizalama",typewriter:"Daktilo Tercihleri",typetext:" Metin Rengi",typepage:"Sayfa Rengi",typesound:"Daktilo Sesi",caretfocus:"Caret Auto-focus",reset:"Varsaylanlar Sfrla"},tools:{writer:"Kitaplarm",planningboard:"Planlama Panolarm",mindmap:"Zihin Haritalarm",snowflake:"Kar Tanelerim",timeline:"Zaman izelgem",gridplanner:"Klavuz Planlayclarm",cardsdatabase:"Kartlarm",name:"sim",description:"Aklama (istee bal)",warn:"Ltfen bir Ad girin"},writer:{settings:"Kitabnzn Bal",newfile:"Yeni Blm",newfolder:"Yeni Klasr",deletewarn:"Bu eyi silmek istiyor musunuz? Oluturduunuz tm kartlar veritabannda kalacaktr",intro:"Bu, belgenizin ana sayfasdr. Seenekler aadadr.",docdownload:"Bu taslan bir .doc dosyasn da aktar",words:"Kelimeler"},confirmmodal:{confirmdelete:"Bunu silmek istediinizden emin misiniz?",noundo:"Bunu geri alamayacaksnz.",confirmbtn:"Evet, silin.",cancelbtn:"ptal",success:"Silindi!",successfeedback:"Bu silindi.",confirmexport:"Da aktarlsn m?",exportmsg:"Bu ara da aktarlsn m?",exportconfirmbtn:"Evet, Bunu da aktarn.",exportsuccess:"Da aktarld",exportsuccessfeedback:"Baaryla da aktarld",snowconfirm:" Kart Deitir",snowconfirmtext:"Orijinal kart bu  kartla deitirin",snowconfirmbtn:"Evet, deitirin!",snowconfirmsuccess:"Deitirildi",snowconfirmmsg:"Kart deitirildi"},editor:{bold:"Kaln",italic:"talik",strikethrough:"st izili",paragraph:"Paragraf",h1:"Balk 1",h2:"Balk 2",pic:"Resim Ekle",blist:"Madde Listesi",nlist:"Numaral Liste",planningboard:"Planlama panosuna ge",typewriter:"Daktilo modu",hilight:"Metin vurgusu",wordcount:"Kelime says grnrln deitir"},mindmap:{deletenodewarn:"Bu dm silmek istiyor musunuz?"},snowflake:{title:"Balk",deletewarn:"Bu kart silmek istediinizden emin misiniz?",replacewarn:"Bu ilem, kartnz  yeni kartla deitirecek."},timeline:{date:"Tarih/Saat",title:"Balk"},gridplanner:{newrow:"Yeni Satr",newcol:"Yeni Stun"},db:{search:"Anahtar kelimelere gre ara",clear:"Etiketleri Temizle",deletecolwarn:"Bu stun silinsin mi?",deleterowwarn:"Bu satr silinsin mi?"},cards:{createnewbtn:"Yeni Olutur",linkexisting:"Mevcut Kart Bala ",cardtitle:"Kart Bal",cardnotes:"Kart Notlar",cardtags:"Kart Etiketleri",moredetail:"Daha Fazla Ayrnt",images:"Grntler (semek iin bir grntye tklayn)",openimagemanager:"Grnt Yneticisini A",close:"Kapat"},wm3import:{close:"Kapat",info:" <h1>Srm 3 Dntrc</h1><p>Merhaba, bu, eski <strong>wavemaker srm 3</strong> dosyalarnz yeni srme yklemenizi salayan eski bir aratr.</p><p> Sahne arkas veritaban biraz deitii iin bu tek ynl bir ilemdir.</p><p>VERTABANI dosyanza ihtiyacnz olacak (wavemaker 3'te logoya tklayarak ana menye gidin ve ardndan veritabann da aktarn) ) O zaman '.wmdata' uzantl bir dosyanz olmal</p><p>Yeni versiyonda hepsi ayr olduu iin her projeyi ayr ayr ie aktarp kendi dosyasna kaydetmeniz gerekecek</p>",upload:"Bir wavemaker veritaban ykleyin"}},w5={info:{name:"Portugus",textdirection:"ltr"},confirm:{sure:"Tem certeza?",downloadfile:"Isso baixar um arquivo para o seu dispositivo.",fileexport:"Sim, exportar!",filecancel:"Cancelar",exportedsuccess:"Exportado!",exportedmessage:"Seu arquivo foi exportado"},toolbar:{projecthome:"Incio",writer:"Meus Livros",planningboard:"Meus Quadros de Planejamento",mindmap:"Meus Mapas Mentais",snowflake:"Meus Flocos de Neve",timeline:"Minhas Linhas do Tempo",gridplanner:"Meus Planejadores de Grade",cardsdatabase:"Meus Cartes",settings:"Configuraes",save:"Salvar Arquivo",googledrive:"Google Drive",quick:"Carregamento Rpido",close:"Fechar Projeto"},welcome:{getstarted:"Novo Projeto",loadfile:"Carregar um arquivo do seu dispositivo",loadgoogle:"Carregar um arquivo do Google Drive",info:"Crie um novo arquivo, ou carregue um existente",legacy:"Ferramentas Legadas",v3import:"Importar um arquivo de Wavemaker Version 3"},start:{projectlabel:"Nome do Meu Projeto",welcome:"Bem-vindo ao Wavemaker Version 4",help:"Ajuda & Guias em como usar o Wavemaker"},google:{info:"Conectar ao Google Drive",saveinfo:"Salvar Projeto Atual",files:"Meus Arquivos",save:"Salvar Arquivo",search:"Procurar Arquivos",logout:"Sair",close:"Fechar janela"},settings:{title:"Configuraes",close:"Fechar este arquivo",themes:"Escolha um tema",lang:"Escolha um Idioma",clear:"Isso limpar o projeto",docprefs:"Preferncias do Documento",alignment:"Alinhamento",alignL:"Alinhar  Esquerda",alignR:"Alinhar  Direita",alignC:"Centralizar",alignJ:"Justificar",fontsize:"Tamanho da Fonte",fontsize1:"Menor",fontsize2:"Pequeno",fontsize3:"Padro",fontsize4:"Grande",fontsize5:"Maior",lineheight:"Altura de Linha",lineheight1:"Padro",lineheight2:"Duplo",lineheight3:"Espaamento 2.5",lineheight4:"Triplo",paragraph:"Recuo de Pargrafo",paragraphyes:"Sim",paragraphno:"No",paragraphspacing:"Espaamento de Pargrafo",paragraphspacing1:"Padro",paragraphspacing2:"Espaamento 1.5x",paragraphspacing3:"Espaamento 2x",paragraphspacing4:"Espaamento 2.5x",paragraphspacing5:"Espaamento 5x",pagewidth:"Largura da Pgina",pagestyle:"Estilo da Pgina",fullwidth:"Largura Total",pagetext:"Cor do Texto",pagecolour:"Cor da Pgina",h1align:"Alinhamento Ttulo 1",h2align:"Alinhamento Ttulo 2",h3align:"Alinhamento Ttulo 3",h4align:"Alinhamento Ttulo 4",typewriter:"Preferncias de Mquina de Escrever",typetext:"Cor do Texto",typepage:"Cor da Pgina",typesound:"Sons de Mquina de Escrever",caretfocus:"Caret Auto-focus",reset:"Restaurar ao Padro"},tools:{writer:"Meus Livros",planningboard:"Meus Quadros de Planejamento",mindmap:"Meus Mapas Mentais",snowflake:"Meus Flocos de Neve",timeline:"Minhas Linhas do Tempo",gridplanner:"Meus Planejadores de Grade",cardsdatabase:"Meus Cartes",name:"Nome",description:"Descrio (opcional)",warn:"Por favor definir um Nome"},writer:{settings:"Ttulo do Seu Livro",newfile:"Nova Seo",newfolder:"Nova Pasta",deletewarn:"Deseja excluir este item? Quaisquer cartes criados permanecero no banco de dados",intro:"Essa  a pgina principal do seu documento. Opes se encontram abaixo.",docdownload:"Exportar um arquivo .doc desse manuscrito",words:"Palavras"},confirmmodal:{confirmdelete:"Tem certeze que deseja excluir isto?",noundo:"Voc no poder desfazer esta ao.",confirmbtn:"Sim, excluir!",cancelbtn:"Cancelar",success:"Excludo!",successfeedback:"Item excludo com sucesso.",confirmexport:"Exportar?",exportmsg:"Exportar esta ferramenta?",exportconfirmbtn:"Sim, exportar.",exportsuccess:"Exportar",exportsuccessfeedback:"Exportado com sucesso",snowconfirm:"Substituir Carto",snowconfirmtext:"Substituir carto original com estes trs",snowconfirmbtn:"Sim, subsituir!",snowconfirmsuccess:"Substitudo",snowconfirmmsg:"O carto foi substitudo"},editor:{bold:"Negrito",italic:"Itlico",strikethrough:"Tachado",paragraph:"Pargrafo",h1:"Ttulo 1",h2:"Ttulo 2",pic:"Inserir Imagem",blist:"Lista de Marcadores",nlist:"Lista Numrica",planningboard:"Trocar para Quadro de Planejamento",typewriter:"Modo Mquina de Escrever",hilight:"Realar Texto",wordcount:"Ativar viso de contagem de palavras"},mindmap:{deletenodewarn:"Deseja deletar este ndulo?"},snowflake:{title:"Ttulo",deletewarn:"Deseja excluir este carto?",replacewarn:"Esta ao substituir seu carto com trs cartes novos."},timeline:{date:"Data/Hora",title:"Ttulo"},gridplanner:{newrow:"Nova Linha",newcol:"Nova Coluna"},db:{search:"Procurar por palavras-chave",clear:"Limpar Etiquetas",deletecolwarn:"Excluir esta coluna?",deleterowwarn:"Excluir esta linha?"},cards:{createnewbtn:"Criar Novo",linkexisting:"Vincular a Carto Existente",cardtitle:"Ttulo do Carto",cardnotes:"Notas do Carto",cardtags:"Etiquetas do Carto",moredetail:"Mais Detalhes",images:"Imagens (clique numa imagem para escolher)",openimagemanager:"Abrir Gerenciador de Imagens",close:"Fechar"},wm3import:{close:"Fechar",info:"<h1>Conversor da Verso 3</h1><p>Ol, essa  uma ferranebta legada que permite qye voc carregue seus antigos arquivos de <strong>wavemaker verso 3</strong> na nova verso.</p><p>Como o banco de dados nos bastidores foi alterado bastante, este  um processo de mo nica.</p><p>Voc precisar do seu arquivo de BASE DE DADOS (v ao menu principal clicando no logo no wavemaker 3, e ento exporte o banco de dados). Voc ento dever ter um arquivo com a extenso '.wmdata'</p><p>Voc precisar importar cada projeto e salvar como seu prprio arquivo, uma vez que eles so objetos separados na nova verso</p>",upload:"Carregar um banco de dados wavemaker"}},b5={info:{name:"",textdirection:"ltr"},confirm:{sure:"",downloadfile:"",fileexport:"",filecancel:"",exportedsuccess:"",exportedmessage:""},toolbar:{projecthome:"",writer:"",planningboard:"",mindmap:"",snowflake:"",timeline:"",gridplanner:"",cardsdatabase:"",settings:"",save:"",googledrive:"Google Drive",quick:"",close:""},welcome:{getstarted:"",loadfile:"",loadgoogle:" Google Drive ",info:"",legacy:"",v3import:" Wavemaker 3.0 "},start:{projectlabel:"",welcome:" Wavemaker 4.0",help:" Wavemaker"},google:{info:" Google Drive",saveinfo:"",files:"",save:"",search:"",logout:"",close:""},settings:{title:"",close:"",themes:"",lang:"",clear:"",docprefs:"",alignment:"",alignL:"",alignR:"",alignC:"",alignJ:"",fontsize:"",fontsize1:"",fontsize2:"",fontsize3:"",fontsize4:"",fontsize5:"",lineheight:"",lineheight1:"",lineheight2:"2 ",lineheight3:"2.5 ",lineheight4:"3 ",paragraph:"",paragraphyes:"",paragraphno:"",paragraphspacing:"",paragraphspacing1:"",paragraphspacing2:"1.5 ",paragraphspacing3:"2 ",paragraphspacing4:"2.5 ",paragraphspacing5:"5 ",pagewidth:"",pagestyle:"",fullwidth:"",pagetext:"",pagecolour:"",h1align:"H1 ",h2align:"H2 ",h3align:"H3 ",h4align:"H4 ",typewriter:"",typetext:"",typepage:"",typesound:"",caretfocus:"Caret Auto-focus",reset:""},tools:{writer:"",planningboard:"",mindmap:"",snowflake:"",timeline:"",gridplanner:"",cardsdatabase:"",name:"",description:"",warn:""},writer:{settings:"",newfile:"",newfolder:"",deletewarn:" ",intro:" ",docdownload:" .doc ",words:""},confirmmodal:{confirmdelete:"",noundo:"",confirmbtn:" ",cancelbtn:"",success:"",successfeedback:"",confirmexport:"",exportmsg:"",exportconfirmbtn:"",exportsuccess:"",exportsuccessfeedback:"",snowconfirm:"",snowconfirmtext:"",snowconfirmbtn:"",snowconfirmsuccess:"",snowconfirmmsg:""},editor:{bold:"",italic:"",strikethrough:"",paragraph:"",h1:" 1",h2:" 2",pic:"",blist:"",nlist:"",planningboard:"",typewriter:"",hilight:"",wordcount:""},mindmap:{deletenodewarn:""},snowflake:{title:"",deletewarn:"",replacewarn:""},timeline:{date:"/",title:""},gridplanner:{newrow:"",newcol:""},db:{search:"",clear:"",deletecolwarn:"",deleterowwarn:""},cards:{createnewbtn:"",linkexisting:"",cardtitle:"",cardnotes:"",cardtags:"",moredetail:"",images:"",openimagemanager:"",close:""},wm3import:{close:"",info:"<h1>3.0 </h1><p><strong>wavemaker 3.0</strong></p><p> </p><p> wavemaker 3.0  logo  ) .wmdata</p><p></p>",upload:" wavemaker "}},C5={en:h5,cy:f5,de:g5,es:m5,fr:v5,tr:y5,pt:w5,cn:b5},L5={name:"CardViewer",emits:["cardChange"],components:{MiniEditor:Si,MiniImage:Ai},computed:{taginputwidth(){return this.tag&&this.tag.length>6?this.tag.length:6},imageList(){let t=[];return this.cardInfo&&this.cardInfo.images.forEach(async e=>{let n=await this.$root.getImage(e);n?t.push(n):this.cardInfo.images=this.cardInfo.images.filter(o=>o!==e)}),t}},data(){return{tag:null,animate:!1,cardInfo:null}},methods:{updatecard(){console.log("updating"),this.cardInfo.updateWindow=this.$root.windowID,this.$root.UpdateRecord("Cards",this.$root.$data.session.EditCard,this.cardInfo)},chooseImage(t){this.cardInfo.showimage!=t?this.cardInfo.showimage=t:this.cardInfo.showimage=null,console.log("image "+t),this.updatecard()},tagger(){this.tag&&(this.cardInfo.labels.push(this.tag),this.tag=null,this.updatecard())},removetag(t){this.cardInfo.labels.splice(t,1),this.updatecard()},setCardColor(t){this.cardInfo.color="--card"+t,this.updatecard()},addImage(){this.$root.imagemanager={table:"Cards",targetuuid:this.$root.$data.session.EditCard,target:this.cardInfo.images,updateObj:this.cardInfo}},deleteImage(t){this.cardInfo.images.splice(t,1),this.updatecard()}},mounted(){this.cardInfo=gn(fn(async()=>await Nt.Cards.get(this.$root.$data.session.EditCard))),this.animate=!0},beforeUnmount(){this.animate=!1}},$5={key:0,class:"scrollHolder"},k5={class:"colorbox"},x5={class:"inputHolder"},H5={class:"inputHolder"},A5={class:"inputHolder"},V5=["onClick"],M5={class:"inputHolder"},S5={class:"inputHolder"},T5=["onClick"],E5=["title"];function B5(t,e,n,o,r,s){const a=Y("MiniEditor"),u=Y("MiniImage");return f(),xe(Kn,{name:"bounce"},{default:yt(()=>[r.animate?(f(),v("div",$5,[i("div",{id:"overlay",onClick:e[0]||(e[0]=c=>t.$root.$data.session.EditCard=null)}),r.cardInfo?(f(),v("div",{key:0,class:"cardEditorHolder",style:Bt("background-color: var("+this.cardInfo.color+"); color : var("+this.cardInfo.color+"-f); fill : var("+this.cardInfo.color+"-f)")},[i("button",{onClick:e[1]||(e[1]=c=>t.$root.$data.session.EditCard=null),class:"clearInterfaceIconButton closebtn"},e[19]||(e[19]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"})],-1)])),i("div",k5,[i("button",{class:"c1",onClick:e[2]||(e[2]=c=>s.setCardColor(1))}),i("button",{class:"c2",onClick:e[3]||(e[3]=c=>s.setCardColor(2))}),i("button",{class:"c3",onClick:e[4]||(e[4]=c=>s.setCardColor(3))}),i("button",{class:"c4",onClick:e[5]||(e[5]=c=>s.setCardColor(4))}),i("button",{class:"c5",onClick:e[6]||(e[6]=c=>s.setCardColor(5))}),i("button",{class:"c6",onClick:e[7]||(e[7]=c=>s.setCardColor(6))}),i("button",{class:"c7",onClick:e[8]||(e[8]=c=>s.setCardColor(7))})]),i("label",null,k(this.$root.setlang.cards.cardtitle),1),i("div",x5,[re(i("input",{class:"cardTitle",placeholder:"Title","onUpdate:modelValue":e[9]||(e[9]=c=>this.cardInfo.title=c),onChange:e[10]||(e[10]=(...c)=>s.updatecard&&s.updatecard(...c))},null,544),[[He,this.cardInfo.title]])]),i("label",null,[he(k(this.$root.setlang.cards.cardnotes)+" ",1),re(i("input",{type:"checkbox",value:"true","onUpdate:modelValue":e[11]||(e[11]=c=>this.cardInfo.showdesc=c),onChange:e[12]||(e[12]=c=>s.updatecard())},null,544),[[ai,this.cardInfo.showdesc]])]),i("div",H5,[Te(a,{modelValue:this.cardInfo.description,"onUpdate:modelValue":e[13]||(e[13]=c=>this.cardInfo.description=c),onUpdated:s.updatecard},null,8,["modelValue","onUpdated"])]),i("label",null,k(this.$root.setlang.cards.cardtags),1),i("div",A5,[(f(!0),v(ie,null,De(this.cardInfo.labels,(c,p)=>(f(),v("span",{class:"tag",key:p},[he(k(c)+" ",1),i("button",{onClick:C=>s.removetag(p)},e[20]||(e[20]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24","data-v-024bf5af":""},[i("path",{d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z","data-v-024bf5af":""})],-1)]),8,V5)]))),128)),re(i("input",{placeholder:"#",onChange:e[14]||(e[14]=(...c)=>s.tagger&&s.tagger(...c)),"onUpdate:modelValue":e[15]||(e[15]=c=>r.tag=c),class:"tagInput",style:Bt("width: "+s.taginputwidth+"ch")},null,36),[[He,r.tag]])]),i("label",null,k(this.$root.setlang.cards.moredetail),1),i("div",M5,[Te(a,{modelValue:this.cardInfo.content,"onUpdate:modelValue":e[16]||(e[16]=c=>this.cardInfo.content=c),onUpdated:s.updatecard},null,8,["modelValue","onUpdated"])]),e[24]||(e[24]=i("hr",null,null,-1)),i("label",null,k(this.$root.setlang.cards.images),1),i("div",S5,[(f(!0),v(ie,null,De(this.cardInfo.images,(c,p)=>(f(),v("div",{key:p,class:"imgHolder"},[i("button",{class:"deleteBtn",onClick:C=>s.deleteImage(p),style:Bt(this.cardInfo.showimage===c?"display:none":"")},e[21]||(e[21]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"})],-1)]),12,T5),Te(u,{uuid:c,class:Ne(this.cardInfo.showimage===c?"selectedImg":"unselectedImg"),onClick:C=>s.chooseImage(c)},null,8,["uuid","class","onClick"])]))),128))]),i("button",{onClick:e[17]||(e[17]=c=>s.addImage()),class:"interfaceBtn",title:this.$root.setlang.settings.title},[e[22]||(e[22]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M7,15L11.5,9L15,13.5L17.5,10.5L21,15M22,4H14L12,2H6A2,2 0 0,0 4,4V16A2,2 0 0,0 6,18H22A2,2 0 0,0 24,16V6A2,2 0 0,0 22,4M2,6H0V11H0V20A2,2 0 0,0 2,22H20V20H2V6Z"})],-1)),he(" "+k(this.$root.setlang.cards.openimagemanager),1)],8,E5),i("button",{onClick:e[18]||(e[18]=c=>t.$root.$data.session.EditCard=null),class:"interfaceBtn",style:{float:"right"}},[e[23]||(e[23]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"})],-1)),he(" "+k(this.$root.setlang.cards.close),1)])],4)):A("",!0)])):A("",!0)]),_:1})}const I5=be(L5,[["render",B5],["__scopeId","data-v-c8c45434"]]),_5={name:"ImageViewer",components:{MasonryWall:sr},data(){return{imagesArray:gn(fn(async()=>await Nt.ImageLibrary.toArray())),newimage:{title:null,base64:null}}},methods:{triggerUpload(){this.$refs.imageloader.click()},closeImageManager(){this.$root.EditCardrefresh=this.$root.uuid(),this.$root.imagemanager=null},updateCanvasImage(t){var e=this,n=t.target.files,o=new FileReader;o.onload=r=>{var s=new Image;s.onload=function(){e.drawCanvasImage(s)},s.src=r.target.result,this.newimage.title=n[0].name},o.readAsDataURL(n[0])},drawCanvasImage(t){var e=this.$refs.imageCanvas;e.width=500,e.height=t.height/(t.width/500);var n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height),this.newimage.base64=e.toDataURL("image/jpeg").split(";base64,")[1]},async addNewImage(){let t=this.$root.uuid(),e={};e.uuid=t,e.title=this.newimage.title,e.base64=this.newimage.base64,await this.$root.AddRecord("ImageLibrary",e),this.newimage.title=null,this.newimage.base64=null},async deleteImage(t){this.$swal({title:"Are you sure?",text:"You won't be able to undo this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(async e=>{e.isConfirmed&&(await this.$root.db.ImageLibrary.delete(t),this.$swal("Deleted!","Your file has been deleted.","success"))})},pickImage(t){this.$root.imagemanager.targetuuid&&(this.$root.imagemanager.table==="Cards"&&this.$root.imagemanager.target.push(t),this.$root.imagemanager.table==="Gridplanner"&&(this.$root.imagemanager.target.text=t),this.$root.UpdateRecord(this.$root.imagemanager.table,this.$root.imagemanager.targetuuid,this.$root.imagemanager.updateObj),this.closeImageManager())}}},D5={key:0,class:"imageWindow"},P5={key:0,class:"imageScroller"},O5={class:"imgBox"},N5=["src"],R5={style:{"margin-top":"-10px","text-align":"right"}},j5=["onClick"],F5=["onClick"],U5={key:1,class:"uploadFrame"},z5=["src"],W5={class:"toolbar"},G5={id:"imageCanvas",ref:"imageCanvas",style:{display:"none"}},q5={key:0};function Z5(t,e,n,o,r,s){const a=Y("masonry-wall");return f(),v(ie,null,[e[12]||(e[12]=i("div",{class:"backdrop"},null,-1)),r.imagesArray?(f(),v("div",D5,[this.newimage.base64?A("",!0):(f(),v("div",P5,[Te(a,{items:r.imagesArray,"ssr-columns":1,"column-width":300,gap:16},{default:yt(({item:u})=>[i("div",O5,[i("img",{src:"data:image/png;base64,"+u.base64},null,8,N5),i("div",R5,[this.$root.imagemanager.targetuuid?(f(),v("button",{key:0,onClick:c=>s.pickImage(u.uuid),class:"interfaceBtn chooseBtn"},e[6]||(e[6]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M19,19H5V5H19M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M13.96,12.29L11.21,15.83L9.25,13.47L6.5,17H17.5L13.96,12.29Z"})],-1),he(" Link this Image ")]),8,j5)):A("",!0),i("button",{class:"interfaceBtn deleteBtn",onClick:c=>s.deleteImage(u.uuid)},e[7]||(e[7]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"})],-1),he("  ")]),8,F5)])])]),_:1},8,["items"])])),this.newimage.base64?(f(),v("div",U5,[i("img",{src:"data:image/png;base64,"+this.newimage.base64,style:{"max-width":"100%"}},null,8,z5),re(i("input",{"onUpdate:modelValue":e[0]||(e[0]=u=>this.newimage.title=u),class:"formInput",placeholder:"File Name"},null,512),[[He,this.newimage.title]]),i("div",null,[i("button",{onClick:e[1]||(e[1]=u=>s.addNewImage()),class:"interfaceBtn saveBtn"},e[8]||(e[8]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M12.18 17C12.54 15.5 13.43 14.16 14.68 13.25L13.96 12.29L11.21 15.83L9.25 13.47L6.5 17H12.18M5 5V19H12.03C12.09 19.7 12.24 20.38 12.5 21H5C4.47 21 3.96 20.79 3.59 20.41C3.21 20.04 3 19.53 3 19V5C3 3.9 3.9 3 5 3H19C19.53 3 20.04 3.21 20.41 3.59C20.79 3.96 21 4.47 21 5V12.5C20.38 12.24 19.7 12.09 19 12.03V5H5M17.75 22L15 19L16.16 17.84L17.75 19.43L21.34 15.84L22.5 17.25L17.75 22Z"})],-1),he(" Save ")])),i("button",{onClick:e[2]||(e[2]=u=>{this.newimage.title=null,this.newimage.base64=null}),class:"interfaceBtn cancelBtn"},e[9]||(e[9]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M13 19C13 19.7 13.13 20.37 13.35 21H5C3.9 21 3 20.11 3 19V5C3 3.9 3.9 3 5 3H19C20.11 3 21 3.9 21 5V13.35C20.37 13.13 19.7 13 19 13V5H5V19H13M11.21 15.83L9.25 13.47L6.5 17H13.35C13.75 15.88 14.47 14.91 15.4 14.21L13.96 12.29L11.21 15.83M22.54 16.88L21.12 15.47L19 17.59L16.88 15.47L15.47 16.88L17.59 19L15.47 21.12L16.88 22.54L19 20.41L21.12 22.54L22.54 21.12L20.41 19L22.54 16.88Z"})],-1),he(" Cancel ")]))])])):A("",!0),i("div",W5,[i("button",{class:"interfaceBtn closeBtn topbar",onClick:e[3]||(e[3]=u=>s.closeImageManager())},e[10]||(e[10]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"})],-1)])),i("canvas",G5,null,512),this.newimage.base64?A("",!0):(f(),v("div",q5,[i("button",{onClick:e[4]||(e[4]=(...u)=>s.triggerUpload&&s.triggerUpload(...u)),class:"interfaceBtn topbar"},e[11]||(e[11]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M13 19C13 19.7 13.13 20.37 13.35 21H5C3.9 21 3 20.11 3 19V5C3 3.9 3.9 3 5 3H19C20.11 3 21 3.9 21 5V13.35C20.37 13.13 19.7 13 19 13V5H5V19H13M13.96 12.29L11.21 15.83L9.25 13.47L6.5 17H13.35C13.75 15.88 14.47 14.91 15.4 14.21L13.96 12.29M20 18V15H18V18H15V20H18V23H20V20H23V18H20Z"})],-1),he(" Upload an Image ")])),i("input",{type:"file",ref:"imageloader",onChange:e[5]||(e[5]=(...u)=>s.updateCanvasImage&&s.updateCanvasImage(...u)),style:{display:"none"}},null,544)]))])])):A("",!0)],64)}const K5=be(_5,[["render",Z5],["__scopeId","data-v-61f4675e"]]),Y5={name:"App",data(){return{wm3file:null,proj:null,filearray:[],copysettings:{}}},methods:{file_loadDB(){document.getElementById("wavemaker3HiddenPicker").click()},file_load(t){var e=new FileReader;e.onload=async n=>{this.wm3file=JSON.parse(n.target.result),console.log("Data File Recieved",this.wm3file)},e.readAsText(t.target.files.item(0))},startimport(t){this.$root.clearDatabase(),this.proj=this.wm3file.projects[t];let e=JSON.parse(JSON.stringify(this.$root.SettingsTemplate));e.uuid=this.$root.uuid(),e.ProjectName=this.proj.title,this.copysettings=e,this.$root.AddRecord("Settings",e);let n=this.$root.uuid();this.filearray=[],this.loopfiles(this.proj.data.writer,this.filearray,n);let o={};o.title=this.proj.title,o.description="",o.files=JSON.parse(JSON.stringify(this.filearray)),o.uuid=n,this.$root.AddRecord("Writer",o),this.processCards(),this.processSnowflakes(),this.processgridplanner(),this.processmindmaps(),this.processtimeline(),this.$root.v3import=!1,this.$root.getSettings()},loopfiles(t,e,n){t.forEach(o=>{if(!o.data)console.log("odd error ",o);else{let r={uuid:this.$root.uuid(),type:"file"},s={};if(s.uuid=r.uuid,s.writerid=n,o.data.content){let u=new _l.Converter().makeHtml(o.data.content);s.content=u,s.wordcount=this.$root.wordCounter(u)}else s.content="",s.wordcount=0;if(s.title=o.title,s.notes=[],o.data.notes.length&&o.data.notes.forEach(a=>{parseInt(a.backgroundColor)===0&&(a.backgroundColor=1),parseInt(a.backgroundColor)===6&&(a.backgroundColor=5),a.backgroundColor||(a.backgroundColor=1);let u={};u.uuid=this.$root.uuid(),u.title=a.title,u.description=a.content,u.showdesc=!0,u.content="",u.labels=[],u.images=[],u.style="",u.options={},u.color="--card"+a.backgroundColor;let c={uuid:u.uuid};a.completed&&(c.completed=!0),s.notes.push(c),this.$root.AddRecord("Cards",u)}),this.$root.AddRecord("Files",s),o.children){let a={uuid:this.$root.uuid(),type:"folder",title:o.title,children:[],open:!0};e.push(a),a.children.push(r),o.children.length&&this.loopfiles(o.children,a.children,n)}else e.push(r)}})},processCards(){if(!this.proj.data.cards||!this.proj.data.cards.length)return!1;this.proj.data.cards.forEach(t=>{let e=[];t.images&&t.images.forEach(r=>{let s=this.$root.uuid(),a={},u=r.slice(22);a.uuid=s,a.title="imported",a.base64=u,this.$root.AddRecord("ImageLibrary",a),e.push(s)}),t.backgroundColor===0&&(t.backgroundColor=1),t.backgroundColor===6&&(t.backgroundColor=5);let n=this.nl2br(t.content),o={};o.uuid=this.$root.uuid(),o.title=t.title,o.description=n,o.showdesc=!0,o.content="",o.labels=JSON.parse(JSON.stringify(t.tags)),o.images=e,o.style="",o.options={},o.color="--card1",e.length&&(o.showimage=e[0]),this.$root.AddRecord("Cards",o)})},nl2br(t,e){if(typeof t>"u"||t===null)return"";var n=e||typeof e>"u"?"<br />":"<br>";return(t+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+n+"$2")},processSnowflakes(){if(!this.proj.data.snowflake)return console.log("no snowflake"),!1;let t=this.$root.uuid(),e={};e.uuid=t,e.title="Imported Snowflake",e.content=[],this.proj.data.snowflake.forEach(n=>{let o={};o.title=n.title,o.content=n.content,o.children=[{title:n.subcard1.title,content:n.subcard1.content,children:[]},{title:n.subcard2.title,content:n.subcard2.content,children:[]},{title:n.subcard3.title,content:n.subcard3.content,children:[]}],e.content.push(o)}),this.$root.AddRecord("Snowflake",e)},processgridplanner(){if(!this.proj.data.gridplanner)return!1;let t={};t.uuid=this.$root.uuid(),t.title="Imported";let e=this.proj.data.gridplanner,n=null,o=[];e.forEach((r,s)=>{s===0?n=r:o.push(r)}),t.content={},t.content.headers=[],n.forEach((r,s)=>{s!=0&&t.content.headers.push({uuid:this.$root.uuid(),title:r.title})}),t.content.rows=[],o.forEach(r=>{let s={};r.forEach((a,u)=>{if(u===0)s.title=a.title,s.cells={};else{let c=t.content.headers[u-1].uuid;s.cells[c]=[],a.content.forEach(p=>{let C=this.nl2br(p),b={};b.uuid=this.$root.uuid(),b.title="Grid import",b.description=C,b.showdesc=!0,b.content="",b.labels=[],b.images=[],b.style="",b.options={},b.color="--card1",s.cells[c].push({uuid:b.uuid}),this.$root.AddRecord("Cards",b)})}}),t.content.rows.push(s)}),this.$root.AddRecord("Gridplanner",JSON.parse(JSON.stringify(t)))},processmindmaps(){if(!this.proj.data.mindmaps)return!1;this.proj.data.mindmaps.forEach(e=>{let n={};n.title=e.title,n.uuid=this.$root.uuid(),n.content={},n.content.links=[],n.content.nodes={},e.links.forEach(o=>{let r={};r.from=o.start,r.to=o.end,r.type="solid",n.content.links.push(r)}),e.items.forEach(o=>{if(n.content.nodes[o.id]={x:o.left,y:o.top,w:"auto",type:o.type},o.type!="image")n.content.nodes[o.id].text=this.nl2br(o.content);else{let r=this.$root.uuid(),s={},a=o.content.slice(22);s.uuid=r,s.title="imported",s.base64=a,this.$root.AddRecord("ImageLibrary",s),n.content.nodes[o.id].text=r}}),this.$root.AddRecord("Mindmap",JSON.parse(JSON.stringify(n)))})},processtimeline(){if(!this.proj.data.timeline)return!1;let t=this.proj.data.timeline;console.log(">>>>",t);let e={};e.uuid=this.$root.uuid(),e.title="Imported",e.description="Your WM3 timeline",e.content=[],t.forEach(n=>{e.content.push({title:n.title,text:n.content,event:"Your Event"})}),this.$root.AddRecord("Timeline",JSON.parse(JSON.stringify(e)))}}},J5={class:"backdrop"},X5={class:"window"},Q5={style:{width:"100%"}},ey=["innerHTML"],ty={key:1},ny=["onClick"];function oy(t,e,n,o,r,s){return f(),v("div",J5,[i("div",X5,[i("table",Q5,[i("tbody",null,[i("tr",null,[e[4]||(e[4]=i("td",{style:{width:"75%"}},null,-1)),i("td",null,[i("button",{onClick:e[0]||(e[0]=a=>t.$root.v3import=!1),class:"interfaceBtn fullw text-left"},[e[3]||(e[3]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"})],-1)),he(" "+k(this.$root.setlang.wm3import.close),1)])])])])]),e[8]||(e[8]=i("hr",null,null,-1)),i("div",{innerHTML:this.$root.setlang.wm3import.info},null,8,ey),r.wm3file?A("",!0):(f(),v("button",{key:0,onClick:e[1]||(e[1]=(...a)=>s.file_loadDB&&s.file_loadDB(...a)),class:"interfaceBtn fullw text-left"},[e[5]||(e[5]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z"})],-1)),he(" "+k(this.$root.setlang.wm3import.upload),1)])),r.wm3file?(f(),v("div",ty,[e[7]||(e[7]=i("label",null,"Choose a Project to import",-1)),(f(!0),v(ie,null,De(r.wm3file.projects,(a,u)=>(f(),v("button",{key:u,onClick:c=>s.startimport(u),class:"interfaceBtn fullw text-left"},[e[6]||(e[6]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M6 2C4.89 2 4 2.9 4 4V20C4 21.11 4.89 22 6 22H12V20H6V4H13V9H18V12H20V8L14 2M18 14C17.87 14 17.76 14.09 17.74 14.21L17.55 15.53C17.25 15.66 16.96 15.82 16.7 16L15.46 15.5C15.35 15.5 15.22 15.5 15.15 15.63L14.15 17.36C14.09 17.47 14.11 17.6 14.21 17.68L15.27 18.5C15.25 18.67 15.24 18.83 15.24 19C15.24 19.17 15.25 19.33 15.27 19.5L14.21 20.32C14.12 20.4 14.09 20.53 14.15 20.64L15.15 22.37C15.21 22.5 15.34 22.5 15.46 22.5L16.7 22C16.96 22.18 17.24 22.35 17.55 22.47L17.74 23.79C17.76 23.91 17.86 24 18 24H20C20.11 24 20.22 23.91 20.24 23.79L20.43 22.47C20.73 22.34 21 22.18 21.27 22L22.5 22.5C22.63 22.5 22.76 22.5 22.83 22.37L23.83 20.64C23.89 20.53 23.86 20.4 23.77 20.32L22.7 19.5C22.72 19.33 22.74 19.17 22.74 19C22.74 18.83 22.73 18.67 22.7 18.5L23.76 17.68C23.85 17.6 23.88 17.47 23.82 17.36L22.82 15.63C22.76 15.5 22.63 15.5 22.5 15.5L21.27 16C21 15.82 20.73 15.65 20.42 15.53L20.23 14.21C20.22 14.09 20.11 14 20 14M19 17.5C19.83 17.5 20.5 18.17 20.5 19C20.5 19.83 19.83 20.5 19 20.5C18.16 20.5 17.5 19.83 17.5 19C17.5 18.17 18.17 17.5 19 17.5Z"})],-1)),he(" "+k(a.title),1)],8,ny))),128))])):A("",!0)]),i("input",{type:"file",id:"wavemaker3HiddenPicker",name:"upload",accept:".wmdata",onChange:e[2]||(e[2]=(...a)=>s.file_load&&s.file_load(...a)),style:{display:"none"}},null,32)])}const iy=be(Y5,[["render",oy],["__scopeId","data-v-824beff3"]]),sy={key:0,class:"pwa-prompt install-prompt"},ry={class:"pwa-prompt-content"},ay={class:"pwa-prompt-actions"},ly={key:1,class:"pwa-prompt update-prompt"},dy={class:"pwa-prompt-content"},uy={class:"pwa-prompt-actions"},cy={key:2,class:"pwa-prompt offline-ready"},py={class:"pwa-prompt-content"},hy={class:"pwa-prompt-actions"},fy={__name:"PWAPrompt",setup(t){const{needRefresh:e,offlineReady:n,canInstall:o,installPWA:r,updateApp:s,closeUpdatePrompt:a,closeInstallPrompt:u,closeOfflinePrompt:c}=$i();jn(e,C=>{console.log("PWA needRefresh changed:",C)}),jn(n,C=>{console.log("PWA offlineReady changed:",C)}),jn(o,C=>{console.log("PWA canInstall changed:",C)});const p=async()=>{console.log("Update button clicked");try{await s()}catch(C){console.error("Update failed:",C)}};return(C,b)=>(f(),v(ie,null,[ct(o)?(f(),v("div",sy,[i("div",ry,[b[4]||(b[4]=i("div",{class:"pwa-prompt-icon"},"",-1)),b[5]||(b[5]=i("div",{class:"pwa-prompt-text"},[i("h3",null,"Install Wavemaker Cards"),i("p",null,"Install this app for a better experience with offline access and faster loading.")],-1)),i("div",ay,[i("button",{onClick:b[0]||(b[0]=(...M)=>ct(r)&&ct(r)(...M)),class:"pwa-btn primary"},"Install"),i("button",{onClick:b[1]||(b[1]=(...M)=>ct(u)&&ct(u)(...M)),class:"pwa-btn secondary"},"Not now")])])])):A("",!0),ct(e)?(f(),v("div",ly,[i("div",dy,[b[6]||(b[6]=i("div",{class:"pwa-prompt-icon"},"",-1)),b[7]||(b[7]=i("div",{class:"pwa-prompt-text"},[i("h3",null,"Update Available"),i("p",null,"A new version of Wavemaker Cards is available. Update now to get the latest features and improvements.")],-1)),i("div",uy,[i("button",{onClick:p,class:"pwa-btn primary"},"Update Now"),i("button",{onClick:b[2]||(b[2]=(...M)=>ct(a)&&ct(a)(...M)),class:"pwa-btn secondary"},"Later")])])])):A("",!0),ct(n)?(f(),v("div",cy,[i("div",py,[b[8]||(b[8]=i("div",{class:"pwa-prompt-icon"},"",-1)),b[9]||(b[9]=i("div",{class:"pwa-prompt-text"},[i("h3",null,"Ready to work offline"),i("p",null,"App cached successfully. You can now use Wavemaker Cards offline.")],-1)),i("div",hy,[i("button",{onClick:b[3]||(b[3]=(...M)=>ct(c)&&ct(c)(...M)),class:"pwa-btn primary"},"Got it")])])])):A("",!0)],64))}},gy=be(fy,[["__scopeId","data-v-e702a304"]]),my={name:"App",mixins:[rd,Hd,Vd,Ad],setup(){const{initVitePWA:t}=$i();return{initVitePWA:t}},components:{PopupManager:d1,WelcomeScreen:H1,Start:p5,CardModal:I5,ImageManager:K5,Version3Import:iy,PWAPrompt:gy},data(){return{myPackage:sd,EditCardrefresh:null,theme:"default",themeList:[{name:"Default Wavemaker",file:"wavemaker"},{name:"Light Theme",file:"light"},{name:"Blue Sky",file:"bluesky"}],lhspin:!0,rhspin:!0,navbar:!1,togglenav:!0,show:!1,popup:{name:null},lang:"en",language:C5,setlang:null,uuid:Dl,session:{},navshow:!0,imagemanager:!1,v3import:!1,fullWordCount:0}},methods:{async calcFullWordCount(){let t=0;this.$root.session.writer.selected&&(await this.$root.db.Files.where({writerid:this.$root.session.writer.selected.uuid}).toArray()).forEach(a=>{let u=0;a.wordcount&&(u=parseInt(a.wordcount)),a.excludefromwordcount||(t=t+parseInt(u))}),this.fullWordCount=t,this.$root.session.writer.selected.log||(this.$root.session.writer.selected.log={});var e=new Date,n=String(e.getDate()).padStart(2,"0"),o=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear();e=r+"-"+o+"-"+n,this.$root.session.writer.selected.log[e]=this.fullWordCount},switchLang(){localStorage.setItem("wmLang",this.lang),this.updateLang()},updateLang(){this.setlang=this.$root.language[this.$root.lang]},openInNew(t){var e=window.innerWidth-window.innerWidth/100*5,n=window.innerHeight-window.innerHeight/100*5;if(t==="planningboard")return window.open("/?sc="+t+"&sel="+this.$root.session.writer.selected.uuid,"PlanningBoard","width="+e+"px,height="+n+"px"),!1;window.open(t,"Info","width="+e+"px,height="+n+"px")},wordCounter(t){let e=0;return t&&(this.lang==="cn"?(t=t.replace(/(<([^>]+)>)/gi,""),t.replaceAll(" ",""),e=parseInt(t.length*.7)):(t=t.replace(/(<([^>]+)>)/gi," "),e=t.split(" ").filter(function(n){return n!=""}).length)),e},niceDate(t){var e=new Date(t);return e.getDate()+"/"+e.getMonth()+"/"+e.getFullYear()+" - "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()},screensizefixes(){let t=window.innerWidth;t<720&&(this.lhspin=!1,this.rhspin=!1,this.navbar=!1,this.togglenav=!0),t>720&&(this.lhspin=!0,this.rhspin=!0,this.navbar=!0,this.togglenav=!1)},SpecialKeys(t){t.shiftKey&&t.key==="Enter"&&console.log("Session :",JSON.parse(JSON.stringify(this.session)))},switchTheme(){document.getElementById("themeSwitch").href="themes/"+this.theme+".css",localStorage.setItem("wmTheme",this.theme)},unloadEvent(t){t.preventDefault(),t.returnValue=""}},async mounted(){let t=await this.$root.db.Settings.toArray();t&&(this.$root.session.settings=t[0]),localStorage.getItem("wmTheme")&&(this.theme=localStorage.getItem("wmTheme"),this.switchTheme()),localStorage.getItem("wmLang")&&localStorage.getItem("wmLang")!="undefined"?this.lang=localStorage.getItem("wmLang"):this.lang="en",this.updateLang(),window.addEventListener("keydown",this.SpecialKeys),document.body.dir=this.$root.setlang.textdirection,this.screensizefixes(),this.initVitePWA()},created(){window.addEventListener("resize",this.screensizefixes)},unmount(){window.removeEventListener("resize",this.screensizefixes)}},vy={key:0},yy={key:1};function wy(t,e,n,o,r,s){const a=Y("Start"),u=Y("WelcomeScreen"),c=Y("CardModal"),p=Y("ImageManager"),C=Y("PopupManager"),b=Y("PWAPrompt"),M=Y("Version3Import");return f(),v(ie,null,[this.$root.session.settings?(f(),v("div",vy,[Te(a)])):A("",!0),this.$root.session.settings?A("",!0):(f(),v("div",yy,[Te(u)])),t.$root.session.EditCard?(f(),xe(c,{key:t.$root.EditCardrefresh})):A("",!0),t.$root.imagemanager?(f(),xe(p,{key:3})):A("",!0),Te(C),Te(b),r.v3import?(f(),xe(M,{key:4})):A("",!0),i("input",{type:"file",id:"wavemakerHiddenPicker",name:"upload",accept:".wm4",onChange:e[0]||(e[0]=(...x)=>t.file_load&&t.file_load(...x)),style:{display:"none"}},null,32)],64)}const by=be(my,[["render",wy]]);var Kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rr={exports:{}};/*!
* sweetalert2 v11.4.4
* Released under the MIT License.
*/(function(t,e){(function(n,o){t.exports=o()})(Kt,function(){const n="SweetAlert2:",o=l=>{const d=[];for(let h=0;h<l.length;h++)d.indexOf(l[h])===-1&&d.push(l[h]);return d},r=l=>l.charAt(0).toUpperCase()+l.slice(1),s=l=>Array.prototype.slice.call(l),a=l=>{console.warn("".concat(n," ").concat(typeof l=="object"?l.join(" "):l))},u=l=>{console.error("".concat(n," ").concat(l))},c=[],p=l=>{c.includes(l)||(c.push(l),a(l))},C=(l,d)=>{p('"'.concat(l,'" is deprecated and will be removed in the next major release. Please use "').concat(d,'" instead.'))},b=l=>typeof l=="function"?l():l,M=l=>l&&typeof l.toPromise=="function",x=l=>M(l)?l.toPromise():Promise.resolve(l),B=l=>l&&Promise.resolve(l)===l,O={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},le=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],E={},ee=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],te=l=>Object.prototype.hasOwnProperty.call(O,l),fe=l=>le.indexOf(l)!==-1,J=l=>E[l],me=l=>{te(l)||a('Unknown parameter "'.concat(l,'"'))},P=l=>{ee.includes(l)&&a('The parameter "'.concat(l,'" is incompatible with toasts'))},V=l=>{J(l)&&C(l,J(l))},L=l=>{!l.backdrop&&l.allowOutsideClick&&a('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const d in l)me(d),l.toast&&P(d),V(d)},g="swal2-",S=l=>{const d={};for(const h in l)d[l[h]]=g+l[h];return d},y=S(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),de=S(["success","warning","info","question","error"]),Q=()=>document.body.querySelector(".".concat(y.container)),Ee=l=>{const d=Q();return d?d.querySelector(l):null},ce=l=>Ee(".".concat(l)),_=()=>ce(y.popup),j=()=>ce(y.icon),X=()=>ce(y.title),Ce=()=>ce(y["html-container"]),Me=()=>ce(y.image),ue=()=>ce(y["progress-steps"]),Qe=()=>ce(y["validation-message"]),Ae=()=>Ee(".".concat(y.actions," .").concat(y.confirm)),Re=()=>Ee(".".concat(y.actions," .").concat(y.deny)),je=()=>ce(y["input-label"]),Be=()=>Ee(".".concat(y.loader)),$=()=>Ee(".".concat(y.actions," .").concat(y.cancel)),m=()=>ce(y.actions),H=()=>ce(y.footer),z=()=>ce(y["timer-progress-bar"]),T=()=>ce(y.close),D=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Z=()=>{const l=s(_().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((h,w)=>{const N=parseInt(h.getAttribute("tabindex")),se=parseInt(w.getAttribute("tabindex"));return N>se?1:N<se?-1:0}),d=s(_().querySelectorAll(D)).filter(h=>h.getAttribute("tabindex")!=="-1");return o(l.concat(d)).filter(h=>oe(h))},W=()=>ae(document.body,y.shown)&&!ae(document.body,y["toast-shown"])&&!ae(document.body,y["no-backdrop"]),$e=()=>_()&&ae(_(),y.toast),K=()=>_().hasAttribute("data-loading"),G={previousBodyPadding:null},I=(l,d)=>{if(l.textContent="",d){const h=new DOMParser().parseFromString(d,"text/html");s(h.querySelector("head").childNodes).forEach(w=>{l.appendChild(w)}),s(h.querySelector("body").childNodes).forEach(w=>{l.appendChild(w)})}},ae=(l,d)=>{if(!d)return!1;const h=d.split(/\s+/);for(let w=0;w<h.length;w++)if(!l.classList.contains(h[w]))return!1;return!0},ke=(l,d)=>{s(l.classList).forEach(h=>{!Object.values(y).includes(h)&&!Object.values(de).includes(h)&&!Object.values(d.showClass).includes(h)&&l.classList.remove(h)})},R=(l,d,h)=>{if(ke(l,d),d.customClass&&d.customClass[h]){if(typeof d.customClass[h]!="string"&&!d.customClass[h].forEach)return a("Invalid type of customClass.".concat(h,'! Expected string or iterable object, got "').concat(typeof d.customClass[h],'"'));ne(l,d.customClass[h])}},Oe=(l,d)=>{if(!d)return null;switch(d){case"select":case"textarea":case"file":return l.querySelector(".".concat(y.popup," > .").concat(y[d]));case"checkbox":return l.querySelector(".".concat(y.popup," > .").concat(y.checkbox," input"));case"radio":return l.querySelector(".".concat(y.popup," > .").concat(y.radio," input:checked"))||l.querySelector(".".concat(y.popup," > .").concat(y.radio," input:first-child"));case"range":return l.querySelector(".".concat(y.popup," > .").concat(y.range," input"));default:return l.querySelector(".".concat(y.popup," > .").concat(y.input))}},Fe=l=>{if(l.focus(),l.type!=="file"){const d=l.value;l.value="",l.value=d}},dt=(l,d,h)=>{!l||!d||(typeof d=="string"&&(d=d.split(/\s+/).filter(Boolean)),d.forEach(w=>{Array.isArray(l)?l.forEach(N=>{h?N.classList.add(w):N.classList.remove(w)}):h?l.classList.add(w):l.classList.remove(w)}))},ne=(l,d)=>{dt(l,d,!0)},we=(l,d)=>{dt(l,d,!1)},ze=(l,d)=>{const h=s(l.childNodes);for(let w=0;w<h.length;w++)if(ae(h[w],d))return h[w]},nt=(l,d,h)=>{h==="".concat(parseInt(h))&&(h=parseInt(h)),h||parseInt(h)===0?l.style[d]=typeof h=="number"?"".concat(h,"px"):h:l.style.removeProperty(d)},Se=function(l){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";l.style.display=d},qe=l=>{l.style.display="none"},pe=(l,d,h,w)=>{const N=l.querySelector(d);N&&(N.style[h]=w)},q=(l,d,h)=>{d?Se(l,h):qe(l)},oe=l=>!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)),ge=()=>!oe(Ae())&&!oe(Re())&&!oe($()),_e=l=>l.scrollHeight>l.clientHeight,Ue=l=>{const d=window.getComputedStyle(l),h=parseFloat(d.getPropertyValue("animation-duration")||"0"),w=parseFloat(d.getPropertyValue("transition-duration")||"0");return h>0||w>0},gt=function(l){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const h=z();oe(h)&&(d&&(h.style.transition="none",h.style.width="100%"),setTimeout(()=>{h.style.transition="width ".concat(l/1e3,"s linear"),h.style.width="0%"},10))},We=()=>{const l=z(),d=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";const h=parseInt(window.getComputedStyle(l).width),w=d/h*100;l.style.removeProperty("transition"),l.style.width="".concat(w,"%")},it=()=>typeof window>"u"||typeof document>"u",pt=100,U={},st=()=>{U.previousActiveElement&&U.previousActiveElement.focus?(U.previousActiveElement.focus(),U.previousActiveElement=null):document.body&&document.body.focus()},Lt=l=>new Promise(d=>{if(!l)return d();const h=window.scrollX,w=window.scrollY;U.restoreFocusTimeout=setTimeout(()=>{st(),d()},pt),window.scrollTo(h,w)}),nn=`
 <div aria-labelledby="`.concat(y.title,'" aria-describedby="').concat(y["html-container"],'" class="').concat(y.popup,`" tabindex="-1">
   <button type="button" class="`).concat(y.close,`"></button>
   <ul class="`).concat(y["progress-steps"],`"></ul>
   <div class="`).concat(y.icon,`"></div>
   <img class="`).concat(y.image,`" />
   <h2 class="`).concat(y.title,'" id="').concat(y.title,`"></h2>
   <div class="`).concat(y["html-container"],'" id="').concat(y["html-container"],`"></div>
   <input class="`).concat(y.input,`" />
   <input type="file" class="`).concat(y.file,`" />
   <div class="`).concat(y.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(y.select,`"></select>
   <div class="`).concat(y.radio,`"></div>
   <label for="`).concat(y.checkbox,'" class="').concat(y.checkbox,`">
     <input type="checkbox" />
     <span class="`).concat(y.label,`"></span>
   </label>
   <textarea class="`).concat(y.textarea,`"></textarea>
   <div class="`).concat(y["validation-message"],'" id="').concat(y["validation-message"],`"></div>
   <div class="`).concat(y.actions,`">
     <div class="`).concat(y.loader,`"></div>
     <button type="button" class="`).concat(y.confirm,`"></button>
     <button type="button" class="`).concat(y.deny,`"></button>
     <button type="button" class="`).concat(y.cancel,`"></button>
   </div>
   <div class="`).concat(y.footer,`"></div>
   <div class="`).concat(y["timer-progress-bar-container"],`">
     <div class="`).concat(y["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),It=()=>{const l=Q();return l?(l.remove(),we([document.documentElement,document.body],[y["no-backdrop"],y["toast-shown"],y["has-column"]]),!0):!1},Ze=()=>{U.currentInstance.resetValidationMessage()},En=()=>{const l=_(),d=ze(l,y.input),h=ze(l,y.file),w=l.querySelector(".".concat(y.range," input")),N=l.querySelector(".".concat(y.range," output")),se=ze(l,y.select),et=l.querySelector(".".concat(y.checkbox," input")),kt=ze(l,y.textarea);d.oninput=Ze,h.onchange=Ze,se.onchange=Ze,et.onchange=Ze,kt.oninput=Ze,w.oninput=()=>{Ze(),N.value=w.value},w.onchange=()=>{Ze(),w.nextSibling.value=w.value}},Eo=l=>typeof l=="string"?document.querySelector(l):l,Bo=l=>{const d=_();d.setAttribute("role",l.toast?"alert":"dialog"),d.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||d.setAttribute("aria-modal","true")},Io=l=>{window.getComputedStyle(l).direction==="rtl"&&ne(Q(),y.rtl)},Bn=l=>{const d=It();if(it()){u("SweetAlert2 requires document to initialize");return}const h=document.createElement("div");h.className=y.container,d&&ne(h,y["no-transition"]),I(h,nn);const w=Eo(l.target);w.appendChild(h),Bo(l),Io(w),En()},Vt=(l,d)=>{l instanceof HTMLElement?d.appendChild(l):typeof l=="object"?rt(l,d):l&&I(d,l)},rt=(l,d)=>{l.jquery?_t(d,l):I(d,l.toString())},_t=(l,d)=>{if(l.textContent="",0 in d)for(let h=0;h in d;h++)l.appendChild(d[h].cloneNode(!0));else l.appendChild(d.cloneNode(!0))},$t=(()=>{if(it())return!1;const l=document.createElement("div"),d={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const h in d)if(Object.prototype.hasOwnProperty.call(d,h)&&typeof l.style[h]<"u")return d[h];return!1})(),mn=()=>{const l=document.createElement("div");l.className=y["scrollbar-measure"],document.body.appendChild(l);const d=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),d},ar=(l,d)=>{const h=m(),w=Be();!d.showConfirmButton&&!d.showDenyButton&&!d.showCancelButton?qe(h):Se(h),R(h,d,"actions"),lr(h,w,d),I(w,d.loaderHtml),R(w,d,"loader")};function lr(l,d,h){const w=Ae(),N=Re(),se=$();_o(w,"confirm",h),_o(N,"deny",h),_o(se,"cancel",h),dr(w,N,se,h),h.reverseButtons&&(h.toast?(l.insertBefore(se,w),l.insertBefore(N,w)):(l.insertBefore(se,d),l.insertBefore(N,d),l.insertBefore(w,d)))}function dr(l,d,h,w){if(!w.buttonsStyling)return we([l,d,h],y.styled);ne([l,d,h],y.styled),w.confirmButtonColor&&(l.style.backgroundColor=w.confirmButtonColor,ne(l,y["default-outline"])),w.denyButtonColor&&(d.style.backgroundColor=w.denyButtonColor,ne(d,y["default-outline"])),w.cancelButtonColor&&(h.style.backgroundColor=w.cancelButtonColor,ne(h,y["default-outline"]))}function _o(l,d,h){q(l,h["show".concat(r(d),"Button")],"inline-block"),I(l,h["".concat(d,"ButtonText")]),l.setAttribute("aria-label",h["".concat(d,"ButtonAriaLabel")]),l.className=y[d],R(l,h,"".concat(d,"Button")),ne(l,h["".concat(d,"ButtonClass")])}function ur(l,d){typeof d=="string"?l.style.background=d:d||ne([document.documentElement,document.body],y["no-backdrop"])}function cr(l,d){d in y?ne(l,y[d]):(a('The "position" parameter is not valid, defaulting to "center"'),ne(l,y.center))}function pr(l,d){if(d&&typeof d=="string"){const h="grow-".concat(d);h in y&&ne(l,y[h])}}const hr=(l,d)=>{const h=Q();h&&(ur(h,d.backdrop),cr(h,d.position),pr(h,d.grow),R(h,d,"container"))};var Ve={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const fr=["input","file","range","select","radio","checkbox","textarea"],gr=(l,d)=>{const h=_(),w=Ve.innerParams.get(l),N=!w||d.input!==w.input;fr.forEach(se=>{const et=y[se],kt=ze(h,et);yr(se,d.inputAttributes),kt.className=et,N&&qe(kt)}),d.input&&(N&&mr(d),wr(d))},mr=l=>{if(!wt[l.input])return u('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(l.input,'"'));const d=Ti(l.input),h=wt[l.input](d,l);Se(h),setTimeout(()=>{Fe(h)})},vr=l=>{for(let d=0;d<l.attributes.length;d++){const h=l.attributes[d].name;["type","value","style"].includes(h)||l.removeAttribute(h)}},yr=(l,d)=>{const h=Oe(_(),l);if(h){vr(h);for(const w in d)h.setAttribute(w,d[w])}},wr=l=>{const d=Ti(l.input);l.customClass&&ne(d,l.customClass.input)},Do=(l,d)=>{(!l.placeholder||d.inputPlaceholder)&&(l.placeholder=d.inputPlaceholder)},In=(l,d,h)=>{if(h.inputLabel){l.id=y.input;const w=document.createElement("label"),N=y["input-label"];w.setAttribute("for",l.id),w.className=N,ne(w,h.customClass.inputLabel),w.innerText=h.inputLabel,d.insertAdjacentElement("beforebegin",w)}},Ti=l=>{const d=y[l]?y[l]:y.input;return ze(_(),d)},wt={};wt.text=wt.email=wt.password=wt.number=wt.tel=wt.url=(l,d)=>(typeof d.inputValue=="string"||typeof d.inputValue=="number"?l.value=d.inputValue:B(d.inputValue)||a('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof d.inputValue,'"')),In(l,l,d),Do(l,d),l.type=d.input,l),wt.file=(l,d)=>(In(l,l,d),Do(l,d),l),wt.range=(l,d)=>{const h=l.querySelector("input"),w=l.querySelector("output");return h.value=d.inputValue,h.type=d.input,w.value=d.inputValue,In(h,l,d),l},wt.select=(l,d)=>{if(l.textContent="",d.inputPlaceholder){const h=document.createElement("option");I(h,d.inputPlaceholder),h.value="",h.disabled=!0,h.selected=!0,l.appendChild(h)}return In(l,l,d),l},wt.radio=l=>(l.textContent="",l),wt.checkbox=(l,d)=>{const h=Oe(_(),"checkbox");h.value="1",h.id=y.checkbox,h.checked=!!d.inputValue;const w=l.querySelector("span");return I(w,d.inputPlaceholder),l},wt.textarea=(l,d)=>{l.value=d.inputValue,Do(l,d),In(l,l,d);const h=w=>parseInt(window.getComputedStyle(w).marginLeft)+parseInt(window.getComputedStyle(w).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const w=parseInt(window.getComputedStyle(_()).width),N=()=>{const se=l.offsetWidth+h(l);se>w?_().style.width="".concat(se,"px"):_().style.width=null};new MutationObserver(N).observe(l,{attributes:!0,attributeFilter:["style"]})}}),l};const br=(l,d)=>{const h=Ce();R(h,d,"htmlContainer"),d.html?(Vt(d.html,h),Se(h,"block")):d.text?(h.textContent=d.text,Se(h,"block")):qe(h),gr(l,d)},Cr=(l,d)=>{const h=H();q(h,d.footer),d.footer&&Vt(d.footer,h),R(h,d,"footer")},Lr=(l,d)=>{const h=T();I(h,d.closeButtonHtml),R(h,d,"closeButton"),q(h,d.showCloseButton),h.setAttribute("aria-label",d.closeButtonAriaLabel)},$r=(l,d)=>{const h=Ve.innerParams.get(l),w=j();if(h&&d.icon===h.icon){Bi(w,d),Ei(w,d);return}if(!d.icon&&!d.iconHtml)return qe(w);if(d.icon&&Object.keys(de).indexOf(d.icon)===-1)return u('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(d.icon,'"')),qe(w);Se(w),Bi(w,d),Ei(w,d),ne(w,d.showClass.icon)},Ei=(l,d)=>{for(const h in de)d.icon!==h&&we(l,de[h]);ne(l,de[d.icon]),Ar(l,d),kr(),R(l,d,"icon")},kr=()=>{const l=_(),d=window.getComputedStyle(l).getPropertyValue("background-color"),h=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let w=0;w<h.length;w++)h[w].style.backgroundColor=d},xr=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Hr=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Bi=(l,d)=>{l.textContent="",d.iconHtml?I(l,Ii(d.iconHtml)):d.icon==="success"?I(l,xr):d.icon==="error"?I(l,Hr):I(l,Ii({question:"?",warning:"!",info:"i"}[d.icon]))},Ar=(l,d)=>{if(d.iconColor){l.style.color=d.iconColor,l.style.borderColor=d.iconColor;for(const h of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])pe(l,h,"backgroundColor",d.iconColor);pe(l,".swal2-success-ring","borderColor",d.iconColor)}},Ii=l=>'<div class="'.concat(y["icon-content"],'">').concat(l,"</div>"),Vr=(l,d)=>{const h=Me();if(!d.imageUrl)return qe(h);Se(h,""),h.setAttribute("src",d.imageUrl),h.setAttribute("alt",d.imageAlt),nt(h,"width",d.imageWidth),nt(h,"height",d.imageHeight),h.className=y.image,R(h,d,"image")},Mr=l=>{const d=document.createElement("li");return ne(d,y["progress-step"]),I(d,l),d},Sr=l=>{const d=document.createElement("li");return ne(d,y["progress-step-line"]),l.progressStepsDistance&&(d.style.width=l.progressStepsDistance),d},Tr=(l,d)=>{const h=ue();if(!d.progressSteps||d.progressSteps.length===0)return qe(h);Se(h),h.textContent="",d.currentProgressStep>=d.progressSteps.length&&a("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),d.progressSteps.forEach((w,N)=>{const se=Mr(w);if(h.appendChild(se),N===d.currentProgressStep&&ne(se,y["active-progress-step"]),N!==d.progressSteps.length-1){const et=Sr(d);h.appendChild(et)}})},Er=(l,d)=>{const h=X();q(h,d.title||d.titleText,"block"),d.title&&Vt(d.title,h),d.titleText&&(h.innerText=d.titleText),R(h,d,"title")},Br=(l,d)=>{const h=Q(),w=_();d.toast?(nt(h,"width",d.width),w.style.width="100%",w.insertBefore(Be(),j())):nt(w,"width",d.width),nt(w,"padding",d.padding),d.color&&(w.style.color=d.color),d.background&&(w.style.background=d.background),qe(Qe()),Ir(w,d)},Ir=(l,d)=>{l.className="".concat(y.popup," ").concat(oe(l)?d.showClass.popup:""),d.toast?(ne([document.documentElement,document.body],y["toast-shown"]),ne(l,y.toast)):ne(l,y.modal),R(l,d,"popup"),typeof d.customClass=="string"&&ne(l,d.customClass),d.icon&&ne(l,y["icon-".concat(d.icon)])},_i=(l,d)=>{Br(l,d),hr(l,d),Tr(l,d),$r(l,d),Vr(l,d),Er(l,d),Lr(l,d),br(l,d),ar(l,d),Cr(l,d),typeof d.didRender=="function"&&d.didRender(_())},vn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),_r=()=>{s(document.body.children).forEach(l=>{l===Q()||l.contains(Q())||(l.hasAttribute("aria-hidden")&&l.setAttribute("data-previous-aria-hidden",l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))})},Di=()=>{s(document.body.children).forEach(l=>{l.hasAttribute("data-previous-aria-hidden")?(l.setAttribute("aria-hidden",l.getAttribute("data-previous-aria-hidden")),l.removeAttribute("data-previous-aria-hidden")):l.removeAttribute("aria-hidden")})},Pi=["swal-title","swal-html","swal-footer"],Dr=l=>{const d=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!d)return{};const h=d.content;return Ur(h),Object.assign(Pr(h),Or(h),Nr(h),Rr(h),jr(h),Fr(h,Pi))},Pr=l=>{const d={};return s(l.querySelectorAll("swal-param")).forEach(h=>{on(h,["name","value"]);const w=h.getAttribute("name"),N=h.getAttribute("value");typeof O[w]=="boolean"&&N==="false"&&(d[w]=!1),typeof O[w]=="object"&&(d[w]=JSON.parse(N))}),d},Or=l=>{const d={};return s(l.querySelectorAll("swal-button")).forEach(h=>{on(h,["type","color","aria-label"]);const w=h.getAttribute("type");d["".concat(w,"ButtonText")]=h.innerHTML,d["show".concat(r(w),"Button")]=!0,h.hasAttribute("color")&&(d["".concat(w,"ButtonColor")]=h.getAttribute("color")),h.hasAttribute("aria-label")&&(d["".concat(w,"ButtonAriaLabel")]=h.getAttribute("aria-label"))}),d},Nr=l=>{const d={},h=l.querySelector("swal-image");return h&&(on(h,["src","width","height","alt"]),h.hasAttribute("src")&&(d.imageUrl=h.getAttribute("src")),h.hasAttribute("width")&&(d.imageWidth=h.getAttribute("width")),h.hasAttribute("height")&&(d.imageHeight=h.getAttribute("height")),h.hasAttribute("alt")&&(d.imageAlt=h.getAttribute("alt"))),d},Rr=l=>{const d={},h=l.querySelector("swal-icon");return h&&(on(h,["type","color"]),h.hasAttribute("type")&&(d.icon=h.getAttribute("type")),h.hasAttribute("color")&&(d.iconColor=h.getAttribute("color")),d.iconHtml=h.innerHTML),d},jr=l=>{const d={},h=l.querySelector("swal-input");h&&(on(h,["type","label","placeholder","value"]),d.input=h.getAttribute("type")||"text",h.hasAttribute("label")&&(d.inputLabel=h.getAttribute("label")),h.hasAttribute("placeholder")&&(d.inputPlaceholder=h.getAttribute("placeholder")),h.hasAttribute("value")&&(d.inputValue=h.getAttribute("value")));const w=l.querySelectorAll("swal-input-option");return w.length&&(d.inputOptions={},s(w).forEach(N=>{on(N,["value"]);const se=N.getAttribute("value"),et=N.innerHTML;d.inputOptions[se]=et})),d},Fr=(l,d)=>{const h={};for(const w in d){const N=d[w],se=l.querySelector(N);se&&(on(se,[]),h[N.replace(/^swal-/,"")]=se.innerHTML.trim())}return h},Ur=l=>{const d=Pi.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);s(l.children).forEach(h=>{const w=h.tagName.toLowerCase();d.indexOf(w)===-1&&a("Unrecognized element <".concat(w,">"))})},on=(l,d)=>{s(l.attributes).forEach(h=>{d.indexOf(h.name)===-1&&a(['Unrecognized attribute "'.concat(h.name,'" on <').concat(l.tagName.toLowerCase(),">."),"".concat(d.length?"Allowed attributes are: ".concat(d.join(", ")):"To set the value, use HTML within the element.")])})};var Oi={email:(l,d)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(l)?Promise.resolve():Promise.resolve(d||"Invalid email address"),url:(l,d)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(d||"Invalid URL")};function zr(l){l.inputValidator||Object.keys(Oi).forEach(d=>{l.input===d&&(l.inputValidator=Oi[d])})}function Wr(l){(!l.target||typeof l.target=="string"&&!document.querySelector(l.target)||typeof l.target!="string"&&!l.target.appendChild)&&(a('Target parameter is not valid, defaulting to "body"'),l.target="body")}function Gr(l){zr(l),l.showLoaderOnConfirm&&!l.preConfirm&&a(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Wr(l),typeof l.title=="string"&&(l.title=l.title.split(`
`).join("<br />")),Bn(l)}class qr{constructor(d,h){this.callback=d,this.remaining=h,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(d){const h=this.running;return h&&this.stop(),this.remaining+=d,h&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Zr=()=>{G.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(G.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(G.previousBodyPadding+mn(),"px"))},Kr=()=>{G.previousBodyPadding!==null&&(document.body.style.paddingRight="".concat(G.previousBodyPadding,"px"),G.previousBodyPadding=null)},Yr=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!ae(document.body,y.iosfix)){const l=document.body.scrollTop;document.body.style.top="".concat(l*-1,"px"),ne(document.body,y.iosfix),Xr(),Jr()}},Jr=()=>{const l=navigator.userAgent,d=!!l.match(/iPad/i)||!!l.match(/iPhone/i),h=!!l.match(/WebKit/i);d&&h&&!l.match(/CriOS/i)&&_().scrollHeight>window.innerHeight-44&&(Q().style.paddingBottom="".concat(44,"px"))},Xr=()=>{const l=Q();let d;l.ontouchstart=h=>{d=Qr(h)},l.ontouchmove=h=>{d&&(h.preventDefault(),h.stopPropagation())}},Qr=l=>{const d=l.target,h=Q();return ea(l)||ta(l)?!1:d===h||!_e(h)&&d.tagName!=="INPUT"&&d.tagName!=="TEXTAREA"&&!(_e(Ce())&&Ce().contains(d))},ea=l=>l.touches&&l.touches.length&&l.touches[0].touchType==="stylus",ta=l=>l.touches&&l.touches.length>1,na=()=>{if(ae(document.body,y.iosfix)){const l=parseInt(document.body.style.top,10);we(document.body,y.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},Ni=10,oa=l=>{const d=Q(),h=_();typeof l.willOpen=="function"&&l.willOpen(h);const w=window.getComputedStyle(document.body).overflowY;ra(d,h,l),setTimeout(()=>{ia(d,h)},Ni),W()&&(sa(d,l.scrollbarPadding,w),_r()),!$e()&&!U.previousActiveElement&&(U.previousActiveElement=document.activeElement),typeof l.didOpen=="function"&&setTimeout(()=>l.didOpen(h)),we(d,y["no-transition"])},Ri=l=>{const d=_();if(l.target!==d)return;const h=Q();d.removeEventListener($t,Ri),h.style.overflowY="auto"},ia=(l,d)=>{$t&&Ue(d)?(l.style.overflowY="hidden",d.addEventListener($t,Ri)):l.style.overflowY="auto"},sa=(l,d,h)=>{Yr(),d&&h!=="hidden"&&Zr(),setTimeout(()=>{l.scrollTop=0})},ra=(l,d,h)=>{ne(l,h.showClass.backdrop),d.style.setProperty("opacity","0","important"),Se(d,"grid"),setTimeout(()=>{ne(d,h.showClass.popup),d.style.removeProperty("opacity")},Ni),ne([document.documentElement,document.body],y.shown),h.heightAuto&&h.backdrop&&!h.toast&&ne([document.documentElement,document.body],y["height-auto"])},yn=l=>{let d=_();d||new no,d=_();const h=Be();$e()?qe(j()):aa(d,l),Se(h),d.setAttribute("data-loading",!0),d.setAttribute("aria-busy",!0),d.focus()},aa=(l,d)=>{const h=m(),w=Be();!d&&oe(Ae())&&(d=Ae()),Se(h),d&&(qe(d),w.setAttribute("data-button-to-replace",d.className)),w.parentNode.insertBefore(w,d),ne([l,h],y.loading)},la=(l,d)=>{d.input==="select"||d.input==="radio"?ha(l,d):["text","email","number","tel","textarea"].includes(d.input)&&(M(d.inputValue)||B(d.inputValue))&&(yn(Ae()),fa(l,d))},da=(l,d)=>{const h=l.getInput();if(!h)return null;switch(d.input){case"checkbox":return ua(h);case"radio":return ca(h);case"file":return pa(h);default:return d.inputAutoTrim?h.value.trim():h.value}},ua=l=>l.checked?1:0,ca=l=>l.checked?l.value:null,pa=l=>l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null,ha=(l,d)=>{const h=_(),w=N=>ga[d.input](h,Po(N),d);M(d.inputOptions)||B(d.inputOptions)?(yn(Ae()),x(d.inputOptions).then(N=>{l.hideLoading(),w(N)})):typeof d.inputOptions=="object"?w(d.inputOptions):u("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof d.inputOptions))},fa=(l,d)=>{const h=l.getInput();qe(h),x(d.inputValue).then(w=>{h.value=d.input==="number"?parseFloat(w)||0:"".concat(w),Se(h),h.focus(),l.hideLoading()}).catch(w=>{u("Error in inputValue promise: ".concat(w)),h.value="",Se(h),h.focus(),l.hideLoading()})},ga={select:(l,d,h)=>{const w=ze(l,y.select),N=(se,et,kt)=>{const mt=document.createElement("option");mt.value=kt,I(mt,et),mt.selected=ji(kt,h.inputValue),se.appendChild(mt)};d.forEach(se=>{const et=se[0],kt=se[1];if(Array.isArray(kt)){const mt=document.createElement("optgroup");mt.label=et,mt.disabled=!1,w.appendChild(mt),kt.forEach(bn=>N(mt,bn[1],bn[0]))}else N(w,kt,et)}),w.focus()},radio:(l,d,h)=>{const w=ze(l,y.radio);d.forEach(se=>{const et=se[0],kt=se[1],mt=document.createElement("input"),bn=document.createElement("label");mt.type="radio",mt.name=y.radio,mt.value=et,ji(et,h.inputValue)&&(mt.checked=!0);const zo=document.createElement("span");I(zo,kt),zo.className=y.label,bn.appendChild(mt),bn.appendChild(zo),w.appendChild(bn)});const N=w.querySelectorAll("input");N.length&&N[0].focus()}},Po=l=>{const d=[];return typeof Map<"u"&&l instanceof Map?l.forEach((h,w)=>{let N=h;typeof N=="object"&&(N=Po(N)),d.push([w,N])}):Object.keys(l).forEach(h=>{let w=l[h];typeof w=="object"&&(w=Po(w)),d.push([h,w])}),d},ji=(l,d)=>d&&d.toString()===l.toString();function Fi(){const l=Ve.innerParams.get(this);if(!l)return;const d=Ve.domCache.get(this);qe(d.loader),$e()?l.icon&&Se(j()):ma(d),we([d.popup,d.actions],y.loading),d.popup.removeAttribute("aria-busy"),d.popup.removeAttribute("data-loading"),d.confirmButton.disabled=!1,d.denyButton.disabled=!1,d.cancelButton.disabled=!1}const ma=l=>{const d=l.popup.getElementsByClassName(l.loader.getAttribute("data-button-to-replace"));d.length?Se(d[0],"inline-block"):ge()&&qe(l.actions)};function va(l){const d=Ve.innerParams.get(l||this),h=Ve.domCache.get(l||this);return h?Oe(h.popup,d.input):null}var _n={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function Ui(l,d,h,w){$e()?zi(l,w):(Lt(h).then(()=>zi(l,w)),U.keydownTarget.removeEventListener("keydown",U.keydownHandler,{capture:U.keydownListenerCapture}),U.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(d.setAttribute("style","display:none !important"),d.removeAttribute("class"),d.innerHTML=""):d.remove(),W()&&(Kr(),na(),Di()),ya()}function ya(){we([document.documentElement,document.body],[y.shown,y["height-auto"],y["no-backdrop"],y["toast-shown"]])}function eo(l){l=La(l);const d=_n.swalPromiseResolve.get(this),h=ba(this);this.isAwaitingPromise()?l.isDismissed||(Dn(this),d(l)):h&&d(l)}function wa(){return!!Ve.awaitingPromise.get(this)}const ba=l=>{const d=_();if(!d)return!1;const h=Ve.innerParams.get(l);if(!h||ae(d,h.hideClass.popup))return!1;we(d,h.showClass.popup),ne(d,h.hideClass.popup);const w=Q();return we(w,h.showClass.backdrop),ne(w,h.hideClass.backdrop),$a(l,d,h),!0};function Ca(l){const d=_n.swalPromiseReject.get(this);Dn(this),d&&d(l)}const Dn=l=>{l.isAwaitingPromise()&&(Ve.awaitingPromise.delete(l),Ve.innerParams.get(l)||l._destroy())},La=l=>typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l),$a=(l,d,h)=>{const w=Q(),N=$t&&Ue(d);typeof h.willClose=="function"&&h.willClose(d),N?ka(l,d,w,h.returnFocus,h.didClose):Ui(l,w,h.returnFocus,h.didClose)},ka=(l,d,h,w,N)=>{U.swalCloseEventFinishedCallback=Ui.bind(null,l,h,w,N),d.addEventListener($t,function(se){se.target===d&&(U.swalCloseEventFinishedCallback(),delete U.swalCloseEventFinishedCallback)})},zi=(l,d)=>{setTimeout(()=>{typeof d=="function"&&d.bind(l.params)(),l._destroy()})};function Wi(l,d,h){const w=Ve.domCache.get(l);d.forEach(N=>{w[N].disabled=h})}function Gi(l,d){if(!l)return!1;if(l.type==="radio"){const h=l.parentNode.parentNode.querySelectorAll("input");for(let w=0;w<h.length;w++)h[w].disabled=d}else l.disabled=d}function xa(){Wi(this,["confirmButton","denyButton","cancelButton"],!1)}function Ha(){Wi(this,["confirmButton","denyButton","cancelButton"],!0)}function Aa(){return Gi(this.getInput(),!1)}function Va(){return Gi(this.getInput(),!0)}function Ma(l){const d=Ve.domCache.get(this),h=Ve.innerParams.get(this);I(d.validationMessage,l),d.validationMessage.className=y["validation-message"],h.customClass&&h.customClass.validationMessage&&ne(d.validationMessage,h.customClass.validationMessage),Se(d.validationMessage);const w=this.getInput();w&&(w.setAttribute("aria-invalid",!0),w.setAttribute("aria-describedby",y["validation-message"]),Fe(w),ne(w,y.inputerror))}function Sa(){const l=Ve.domCache.get(this);l.validationMessage&&qe(l.validationMessage);const d=this.getInput();d&&(d.removeAttribute("aria-invalid"),d.removeAttribute("aria-describedby"),we(d,y.inputerror))}function Ta(){return Ve.domCache.get(this).progressSteps}function Ea(l){const d=_(),h=Ve.innerParams.get(this);if(!d||ae(d,h.hideClass.popup))return a("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const w=Ba(l),N=Object.assign({},h,w);_i(this,N),Ve.innerParams.set(this,N),Object.defineProperties(this,{params:{value:Object.assign({},this.params,l),writable:!1,enumerable:!0}})}const Ba=l=>{const d={};return Object.keys(l).forEach(h=>{fe(h)?d[h]=l[h]:a('Invalid parameter to update: "'.concat(h,`". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js

If you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md`))}),d};function Ia(){const l=Ve.domCache.get(this),d=Ve.innerParams.get(this);if(!d){qi(this);return}l.popup&&U.swalCloseEventFinishedCallback&&(U.swalCloseEventFinishedCallback(),delete U.swalCloseEventFinishedCallback),U.deferDisposalTimer&&(clearTimeout(U.deferDisposalTimer),delete U.deferDisposalTimer),typeof d.didDestroy=="function"&&d.didDestroy(),_a(this)}const _a=l=>{qi(l),delete l.params,delete U.keydownHandler,delete U.keydownTarget,delete U.currentInstance},qi=l=>{l.isAwaitingPromise()?(Oo(Ve,l),Ve.awaitingPromise.set(l,!0)):(Oo(_n,l),Oo(Ve,l))},Oo=(l,d)=>{for(const h in l)l[h].delete(d)};var Zi=Object.freeze({hideLoading:Fi,disableLoading:Fi,getInput:va,close:eo,isAwaitingPromise:wa,rejectPromise:Ca,handleAwaitingPromise:Dn,closePopup:eo,closeModal:eo,closeToast:eo,enableButtons:xa,disableButtons:Ha,enableInput:Aa,disableInput:Va,showValidationMessage:Ma,resetValidationMessage:Sa,getProgressSteps:Ta,update:Ea,_destroy:Ia});const Da=l=>{const d=Ve.innerParams.get(l);l.disableButtons(),d.input?Ki(l,"confirm"):Ro(l,!0)},Pa=l=>{const d=Ve.innerParams.get(l);l.disableButtons(),d.returnInputValueOnDeny?Ki(l,"deny"):No(l,!1)},Oa=(l,d)=>{l.disableButtons(),d(vn.cancel)},Ki=(l,d)=>{const h=Ve.innerParams.get(l);if(!h.input)return u('The "input" parameter is needed to be set when using returnInputValueOn'.concat(r(d)));const w=da(l,h);h.inputValidator?Na(l,w,d):l.getInput().checkValidity()?d==="deny"?No(l,w):Ro(l,w):(l.enableButtons(),l.showValidationMessage(h.validationMessage))},Na=(l,d,h)=>{const w=Ve.innerParams.get(l);l.disableInput(),Promise.resolve().then(()=>x(w.inputValidator(d,w.validationMessage))).then(N=>{l.enableButtons(),l.enableInput(),N?l.showValidationMessage(N):h==="deny"?No(l,d):Ro(l,d)})},No=(l,d)=>{const h=Ve.innerParams.get(l||void 0);h.showLoaderOnDeny&&yn(Re()),h.preDeny?(Ve.awaitingPromise.set(l||void 0,!0),Promise.resolve().then(()=>x(h.preDeny(d,h.validationMessage))).then(w=>{w===!1?(l.hideLoading(),Dn(l)):l.closePopup({isDenied:!0,value:typeof w>"u"?d:w})}).catch(w=>Ji(l||void 0,w))):l.closePopup({isDenied:!0,value:d})},Yi=(l,d)=>{l.closePopup({isConfirmed:!0,value:d})},Ji=(l,d)=>{l.rejectPromise(d)},Ro=(l,d)=>{const h=Ve.innerParams.get(l||void 0);h.showLoaderOnConfirm&&yn(),h.preConfirm?(l.resetValidationMessage(),Ve.awaitingPromise.set(l||void 0,!0),Promise.resolve().then(()=>x(h.preConfirm(d,h.validationMessage))).then(w=>{oe(Qe())||w===!1?(l.hideLoading(),Dn(l)):Yi(l,typeof w>"u"?d:w)}).catch(w=>Ji(l||void 0,w))):Yi(l,d)},Ra=(l,d,h)=>{Ve.innerParams.get(l).toast?ja(l,d,h):(Ua(d),za(d),Wa(l,d,h))},ja=(l,d,h)=>{d.popup.onclick=()=>{const w=Ve.innerParams.get(l);w&&(Fa(w)||w.timer||w.input)||h(vn.close)}},Fa=l=>l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton;let to=!1;const Ua=l=>{l.popup.onmousedown=()=>{l.container.onmouseup=function(d){l.container.onmouseup=void 0,d.target===l.container&&(to=!0)}}},za=l=>{l.container.onmousedown=()=>{l.popup.onmouseup=function(d){l.popup.onmouseup=void 0,(d.target===l.popup||l.popup.contains(d.target))&&(to=!0)}}},Wa=(l,d,h)=>{d.container.onclick=w=>{const N=Ve.innerParams.get(l);if(to){to=!1;return}w.target===d.container&&b(N.allowOutsideClick)&&h(vn.backdrop)}},Ga=()=>oe(_()),Xi=()=>Ae()&&Ae().click(),qa=()=>Re()&&Re().click(),Za=()=>$()&&$().click(),Ka=(l,d,h,w)=>{d.keydownTarget&&d.keydownHandlerAdded&&(d.keydownTarget.removeEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!1),h.toast||(d.keydownHandler=N=>Ja(l,N,w),d.keydownTarget=h.keydownListenerCapture?window:_(),d.keydownListenerCapture=h.keydownListenerCapture,d.keydownTarget.addEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!0)},jo=(l,d,h)=>{const w=Z();if(w.length)return d=d+h,d===w.length?d=0:d===-1&&(d=w.length-1),w[d].focus();_().focus()},Qi=["ArrowRight","ArrowDown"],Ya=["ArrowLeft","ArrowUp"],Ja=(l,d,h)=>{const w=Ve.innerParams.get(l);w&&(d.isComposing||d.keyCode===229||(w.stopKeydownPropagation&&d.stopPropagation(),d.key==="Enter"?Xa(l,d,w):d.key==="Tab"?Qa(d,w):[...Qi,...Ya].includes(d.key)?el(d.key):d.key==="Escape"&&tl(d,w,h)))},Xa=(l,d,h)=>{if(b(h.allowEnterKey)&&d.target&&l.getInput()&&d.target.outerHTML===l.getInput().outerHTML){if(["textarea","file"].includes(h.input))return;Xi(),d.preventDefault()}},Qa=(l,d)=>{const h=l.target,w=Z();let N=-1;for(let se=0;se<w.length;se++)if(h===w[se]){N=se;break}l.shiftKey?jo(d,N,-1):jo(d,N,1),l.stopPropagation(),l.preventDefault()},el=l=>{const d=Ae(),h=Re(),w=$();if(![d,h,w].includes(document.activeElement))return;const N=Qi.includes(l)?"nextElementSibling":"previousElementSibling";let se=document.activeElement;for(let et=0;et<m().children.length;et++){if(se=se[N],!se)return;if(oe(se)&&se instanceof HTMLButtonElement)break}se instanceof HTMLButtonElement&&se.focus()},tl=(l,d,h)=>{b(d.allowEscapeKey)&&(l.preventDefault(),h(vn.esc))},nl=l=>typeof l=="object"&&l.jquery,es=l=>l instanceof Element||nl(l),ol=l=>{const d={};return typeof l[0]=="object"&&!es(l[0])?Object.assign(d,l[0]):["title","html","icon"].forEach((h,w)=>{const N=l[w];typeof N=="string"||es(N)?d[h]=N:N!==void 0&&u("Unexpected type of ".concat(h,'! Expected "string" or "Element", got ').concat(typeof N))}),d};function il(){const l=this;for(var d=arguments.length,h=new Array(d),w=0;w<d;w++)h[w]=arguments[w];return new l(...h)}function sl(l){class d extends this{_main(w,N){return super._main(w,Object.assign({},l,N))}}return d}const rl=()=>U.timeout&&U.timeout.getTimerLeft(),ts=()=>{if(U.timeout)return We(),U.timeout.stop()},ns=()=>{if(U.timeout){const l=U.timeout.start();return gt(l),l}},al=()=>{const l=U.timeout;return l&&(l.running?ts():ns())},ll=l=>{if(U.timeout){const d=U.timeout.increase(l);return gt(d,!0),d}},dl=()=>U.timeout&&U.timeout.isRunning();let os=!1;const Fo={};function ul(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Fo[l]=this,os||(document.body.addEventListener("click",cl),os=!0)}const cl=l=>{for(let d=l.target;d&&d!==document;d=d.parentNode)for(const h in Fo){const w=d.getAttribute(h);if(w){Fo[h].fire({template:w});return}}};var pl=Object.freeze({isValidParameter:te,isUpdatableParameter:fe,isDeprecatedParameter:J,argsToParams:ol,isVisible:Ga,clickConfirm:Xi,clickDeny:qa,clickCancel:Za,getContainer:Q,getPopup:_,getTitle:X,getHtmlContainer:Ce,getImage:Me,getIcon:j,getInputLabel:je,getCloseButton:T,getActions:m,getConfirmButton:Ae,getDenyButton:Re,getCancelButton:$,getLoader:Be,getFooter:H,getTimerProgressBar:z,getFocusableElements:Z,getValidationMessage:Qe,isLoading:K,fire:il,mixin:sl,showLoading:yn,enableLoading:yn,getTimerLeft:rl,stopTimer:ts,resumeTimer:ns,toggleTimer:al,increaseTimer:ll,isTimerRunning:dl,bindClickHandler:ul});let Uo;class wn{constructor(){if(typeof window>"u")return;Uo=this;for(var d=arguments.length,h=new Array(d),w=0;w<d;w++)h[w]=arguments[w];const N=Object.freeze(this.constructor.argsToParams(h));Object.defineProperties(this,{params:{value:N,writable:!1,enumerable:!0,configurable:!0}});const se=this._main(this.params);Ve.promise.set(this,se)}_main(d){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};L(Object.assign({},h,d)),U.currentInstance&&(U.currentInstance._destroy(),W()&&Di()),U.currentInstance=this;const w=fl(d,h);Gr(w),Object.freeze(w),U.timeout&&(U.timeout.stop(),delete U.timeout),clearTimeout(U.restoreFocusTimeout);const N=gl(this);return _i(this,w),Ve.innerParams.set(this,w),hl(this,N,w)}then(d){return Ve.promise.get(this).then(d)}finally(d){return Ve.promise.get(this).finally(d)}}const hl=(l,d,h)=>new Promise((w,N)=>{const se=et=>{l.closePopup({isDismissed:!0,dismiss:et})};_n.swalPromiseResolve.set(l,w),_n.swalPromiseReject.set(l,N),d.confirmButton.onclick=()=>Da(l),d.denyButton.onclick=()=>Pa(l),d.cancelButton.onclick=()=>Oa(l,se),d.closeButton.onclick=()=>se(vn.close),Ra(l,d,se),Ka(l,U,h,se),la(l,h),oa(h),ml(U,h,se),vl(d,h),setTimeout(()=>{d.container.scrollTop=0})}),fl=(l,d)=>{const h=Dr(l),w=Object.assign({},O,d,h,l);return w.showClass=Object.assign({},O.showClass,w.showClass),w.hideClass=Object.assign({},O.hideClass,w.hideClass),w},gl=l=>{const d={popup:_(),container:Q(),actions:m(),confirmButton:Ae(),denyButton:Re(),cancelButton:$(),loader:Be(),closeButton:T(),validationMessage:Qe(),progressSteps:ue()};return Ve.domCache.set(l,d),d},ml=(l,d,h)=>{const w=z();qe(w),d.timer&&(l.timeout=new qr(()=>{h("timer"),delete l.timeout},d.timer),d.timerProgressBar&&(Se(w),R(w,d,"timerProgressBar"),setTimeout(()=>{l.timeout&&l.timeout.running&&gt(d.timer)})))},vl=(l,d)=>{if(!d.toast){if(!b(d.allowEnterKey))return wl();yl(l,d)||jo(d,-1,1)}},yl=(l,d)=>d.focusDeny&&oe(l.denyButton)?(l.denyButton.focus(),!0):d.focusCancel&&oe(l.cancelButton)?(l.cancelButton.focus(),!0):d.focusConfirm&&oe(l.confirmButton)?(l.confirmButton.focus(),!0):!1,wl=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Object.assign(wn.prototype,Zi),Object.assign(wn,pl),Object.keys(Zi).forEach(l=>{wn[l]=function(){if(Uo)return Uo[l](...arguments)}}),wn.DismissReason=vn,wn.version="11.4.4";const no=wn;return no.default=no,no}),typeof Kt<"u"&&Kt.Sweetalert2&&(Kt.swal=Kt.sweetAlert=Kt.Swal=Kt.SweetAlert=Kt.Sweetalert2)})(rr);var Ly=rr.exports;const co=Cy(Ly);class $y{static install(e,n={}){var o;const r=co.mixin(n),s=function(...a){return r.fire.call(r,...a)};Object.assign(s,co),Object.keys(co).filter(a=>typeof co[a]=="function").forEach(a=>{s[a]=r[a].bind(r)}),(o=e.config)!=null&&o.globalProperties&&!e.config.globalProperties.$swal?(e.config.globalProperties.$swal=s,e.provide("$swal",s)):Object.prototype.hasOwnProperty.call(e,"$swal")||(e.prototype.$swal=s,e.swal=s)}}Il(by).component("vue-draggable-resizable",Es).use($y).mount("#app");
